"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[367],{27367:(n,i,t)=>{t.r(i),t.d(i,{OrganizationBillingModule:()=>$n});var e=t(20772),H=t(88085),o=t(15061),s=t(37894),a=t(10926),c=t(27218),l=t(24852),r=t(34668),u=t(19419),d=t(64707),p=t(17846),g=t(17404),h=function(n,i,t,e){return new(t||(t=Promise))((function(H,o){function s(n){try{c(e.next(n))}catch(i){o(i)}}function a(n){try{c(e.throw(n))}catch(i){o(i)}}function c(n){var i;n.done?H(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(s,a)}c((e=e.apply(n,i||[])).next())}))};const Z=function(n){return{"bwi-spin":n}};function b(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",3),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw();return l.KtG(i.load())})),l._uU(1,"\n    "),l._UZ(2,"i",4),l._uU(3),l.ALo(4,"i18n"),l.qZA()}if(2&n){const n=l.oxw();l.Q6J("disabled",n.loading),l.xp6(2),l.Q6J("ngClass",l.VKq(5,Z,n.loading)),l.xp6(1),l.hij("\n    ",l.lcZ(4,3,"refresh"),"\n  ")}}function U(n,i){1&n&&(l.ynx(0),l._uU(1,"\n  "),l._UZ(2,"i",5),l.ALo(3,"i18n"),l._uU(4,"\n  "),l.TgZ(5,"span",6),l._uU(6),l.ALo(7,"i18n"),l.qZA(),l._uU(8,"\n"),l.BQk()),2&n&&(l.xp6(2),l.s9C("title",l.lcZ(3,2,"loading")),l.xp6(4),l.Oqu(l.lcZ(7,4,"loading")))}function _(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n  "),l._UZ(2,"app-billing-history",7),l._uU(3,"\n"),l.BQk()),2&n){const n=l.oxw();l.xp6(2),l.Q6J("billing",n.billing)}}class f{constructor(n,i){this.organizationApiService=n,this.route=i,this.loading=!1,this.firstLoaded=!1}ngOnInit(){return h(this,void 0,void 0,(function*(){this.route.params.subscribe((n=>h(this,void 0,void 0,(function*(){this.organizationId=n.organizationId,yield this.load(),this.firstLoaded=!0}))))}))}load(){return h(this,void 0,void 0,(function*(){this.loading||(this.loading=!0,this.billing=yield this.organizationApiService.getBilling(this.organizationId),this.loading=!1)}))}}f.ɵfac=function(n){return new(n||f)(l.Y36(r.M),l.Y36(o.gz))},f.ɵcmp=l.Xpm({type:f,selectors:[["app-org-billing-history-view"]],decls:13,vars:6,consts:[[1,"d-flex","page-header"],["bitButton","","buttonType","secondary","class","tw-ml-auto",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["bitButton","","buttonType","secondary",1,"tw-ml-auto",3,"disabled","click"],["aria-hidden","true",1,"bwi","bwi-refresh","bwi-fw",3,"ngClass"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[3,"billing"]],template:function(n,i){1&n&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"h1"),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n  "),l.YNc(6,b,5,7,"button",1),l._uU(7,"\n"),l.qZA(),l._uU(8,"\n"),l.YNc(9,U,9,6,"ng-container",2),l._uU(10,"\n"),l.YNc(11,_,4,1,"ng-container",2),l._uU(12,"\n")),2&n&&(l.xp6(3),l.hij("\n    ",l.lcZ(4,4,"billingHistory"),"\n  "),l.xp6(3),l.Q6J("ngIf",i.firstLoaded),l.xp6(3),l.Q6J("ngIf",!i.firstLoaded&&i.loading),l.xp6(2),l.Q6J("ngIf",i.billing))},dependencies:[u.mk,u.O5,d.H,p.Z,g.C],encapsulation:2});class y{}y.ɵfac=function(n){return new(n||y)},y.ɵcmp=l.Xpm({type:y,selectors:[["app-org-billing-tab"]],decls:36,vars:12,consts:[[1,"container","page-content"],[1,"row"],[1,"col-3"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],["routerLink","subscription","routerLinkActive","active",1,"list-group-item"],["routerLink","payment-method","routerLinkActive","active",1,"list-group-item"],["routerLink","history","routerLinkActive","active",1,"list-group-item"],[1,"col-9"]],template:function(n,i){1&n&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.TgZ(4,"div",2),l._uU(5,"\n      "),l.TgZ(6,"div",3),l._uU(7,"\n        "),l.TgZ(8,"div",4),l._uU(9),l.ALo(10,"i18n"),l.qZA(),l._uU(11,"\n        "),l.TgZ(12,"div",5),l._uU(13,"\n          "),l.TgZ(14,"a",6),l._uU(15),l.ALo(16,"i18n"),l.qZA(),l._uU(17,"\n          "),l.TgZ(18,"a",7),l._uU(19),l.ALo(20,"i18n"),l.qZA(),l._uU(21,"\n          "),l.TgZ(22,"a",8),l._uU(23),l.ALo(24,"i18n"),l.qZA(),l._uU(25,"\n        "),l.qZA(),l._uU(26,"\n      "),l.qZA(),l._uU(27,"\n    "),l.qZA(),l._uU(28,"\n    "),l.TgZ(29,"div",9),l._uU(30,"\n      "),l._UZ(31,"router-outlet"),l._uU(32,"\n    "),l.qZA(),l._uU(33,"\n  "),l.qZA(),l._uU(34,"\n"),l.qZA(),l._uU(35,"\n")),2&n&&(l.xp6(9),l.Oqu(l.lcZ(10,4,"billing")),l.xp6(6),l.hij("\n            ",l.lcZ(16,6,"subscription"),"\n          "),l.xp6(4),l.hij("\n            ",l.lcZ(20,8,"paymentMethod"),"\n          "),l.xp6(4),l.hij("\n            ",l.lcZ(24,10,"billingHistory"),"\n          "))},dependencies:[o.lC,o.yS,o.Od,g.C],encapsulation:2});var A=t(77494),x=t(34669),m=t(92861),v=t(23772),S=t(33459);class w extends S.c{constructor(n){super(n),null!=n&&(this.billingSyncKey=this.getResponseProperty("BillingSyncKey"))}}class T{constructor(n){this.billingSyncKey=n}}var C=t(36688),q=t(55602),L=t(27885),k=t(98645),I=t(33245),J=t(24610),M=t(62374),B=t(85356),Q=function(n,i,t,e){return new(t||(t=Promise))((function(H,o){function s(n){try{c(e.next(n))}catch(i){o(i)}}function a(n){try{c(e.throw(n))}catch(i){o(i)}}function c(n){var i;n.done?H(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(s,a)}c((e=e.apply(n,i||[])).next())}))};class P{constructor(n,i){this.apiService=n,this.logService=i}submit(){var n;return Q(this,void 0,void 0,(function*(){try{const i=new C.T(this.entityId,m.q.CloudBillingSync,!0,new T(this.billingSyncKey));null==this.existingConnectionId?this.formPromise=this.apiService.createOrganizationConnection(i,w):this.formPromise=this.apiService.updateOrganizationConnection(i,w,this.existingConnectionId);const t=yield this.formPromise;this.existingConnectionId=null==t?void 0:t.id,this.billingSyncKey=null===(n=null==t?void 0:t.config)||void 0===n?void 0:n.billingSyncKey,this.setParentConnection(t)}catch(i){this.logService.error(i)}}))}deleteConnection(){return Q(this,void 0,void 0,(function*(){this.formPromise=this.apiService.deleteOrganizationConnection(this.existingConnectionId),yield this.formPromise,this.setParentConnection(null)}))}}P.ɵfac=function(n){return new(n||P)(l.Y36(q.s),l.Y36(L.$))},P.ɵcmp=l.Xpm({type:P,selectors:[["app-billing-sync-key"]],decls:77,vars:36,consts:[["role","dialog","aria-modal","true","aria-labelledby","billingSyncTitle",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],["ngNativeValidate","",1,"modal-content",3,"appApiAction","ngSubmit"],["form",""],[1,"modal-header"],["id","billingSyncTitle",1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"appA11yTitle"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","billingSyncKey"],["id","billingSyncKey","type","input","name","billingSyncKey","required","","appAutofocus","","appInputVerbatim","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","btn-submit",3,"disabled"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary"],[1,"ml-auto"],["type","button",1,"btn","btn-outline-danger",3,"appA11yTitle","disabled","click"],["deleteBtn",""],["aria-hidden","true",1,"bwi","bwi-trash","bwi-lg","bwi-fw",3,"hidden"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","bwi-lg","bwi-fw",3,"hidden","title"]],template:function(n,i){if(1&n&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.TgZ(4,"form",2,3),l.NdJ("ngSubmit",(function(){return i.submit()})),l._uU(6,"\n      "),l.TgZ(7,"div",4),l._uU(8,"\n        "),l.TgZ(9,"h2",5),l._uU(10),l.ALo(11,"i18n"),l.qZA(),l._uU(12,"\n        "),l.TgZ(13,"button",6),l.ALo(14,"i18n"),l._uU(15,"\n          "),l.TgZ(16,"span",7),l._uU(17,"×"),l.qZA(),l._uU(18,"\n        "),l.qZA(),l._uU(19,"\n      "),l.qZA(),l._uU(20,"\n      "),l.TgZ(21,"div",8),l._uU(22,"\n        "),l.TgZ(23,"p"),l._uU(24),l.ALo(25,"i18n"),l.qZA(),l._uU(26,"\n        "),l.TgZ(27,"div",9),l._uU(28,"\n          "),l.TgZ(29,"label",10),l._uU(30),l.ALo(31,"i18n"),l.TgZ(32,"small"),l._uU(33,"("),l.qZA(),l.TgZ(34,"small"),l._uU(35),l.ALo(36,"i18n"),l.qZA(),l.TgZ(37,"small"),l._uU(38,")"),l.qZA()(),l._uU(39,"\n          "),l.TgZ(40,"input",11),l.NdJ("ngModelChange",(function(n){return i.billingSyncKey=n})),l.qZA(),l._uU(41,"\n        "),l.qZA(),l._uU(42,"\n      "),l.qZA(),l._uU(43,"\n      "),l.TgZ(44,"div",12),l._uU(45,"\n        "),l.TgZ(46,"button",13),l._uU(47,"\n          "),l._UZ(48,"i",14),l.ALo(49,"i18n"),l._uU(50,"\n          "),l.TgZ(51,"span"),l._uU(52),l.ALo(53,"i18n"),l.qZA(),l._uU(54,"\n        "),l.qZA(),l._uU(55,"\n        "),l.TgZ(56,"button",15),l._uU(57),l.ALo(58,"i18n"),l.qZA(),l._uU(59,"\n        "),l.TgZ(60,"div",16),l._uU(61,"\n          "),l.TgZ(62,"button",17,18),l.NdJ("click",(function(){return i.deleteConnection()})),l.ALo(64,"i18n"),l._uU(65,"\n            "),l._UZ(66,"i",19),l._uU(67,"\n            "),l._UZ(68,"i",20),l.ALo(69,"i18n"),l._uU(70,"\n          "),l.qZA(),l._uU(71,"\n        "),l.qZA(),l._uU(72,"\n      "),l.qZA(),l._uU(73,"\n    "),l.qZA(),l._uU(74,"\n  "),l.qZA(),l._uU(75,"\n"),l.qZA(),l._uU(76,"\n")),2&n){const n=l.MAs(5);l.xp6(4),l.Q6J("appApiAction",i.formPromise),l.xp6(6),l.Oqu(l.lcZ(11,16,"manageBillingSync")),l.xp6(3),l.s9C("appA11yTitle",l.lcZ(14,18,"close")),l.xp6(11),l.Oqu(l.lcZ(25,20,"billingSyncKeyDesc")),l.xp6(6),l.hij("",l.lcZ(31,22,"billingSyncKey")," "),l.xp6(5),l.Oqu(l.lcZ(36,24,"required")),l.xp6(5),l.Q6J("ngModel",i.billingSyncKey),l.xp6(6),l.Q6J("disabled",n.loading),l.xp6(2),l.s9C("title",l.lcZ(49,26,"loading")),l.xp6(4),l.Oqu(l.lcZ(53,28,"save")),l.xp6(5),l.hij("\n          ",l.lcZ(58,30,"cancel"),"\n        "),l.xp6(5),l.s9C("appA11yTitle",l.lcZ(64,32,"delete")),l.Q6J("disabled",n.loading),l.xp6(4),l.Q6J("hidden",n.loading),l.xp6(2),l.s9C("title",l.lcZ(69,34,"loading")),l.Q6J("hidden",!n.loading)}},dependencies:[k.Fj,k.JJ,k.JL,k.Q7,k.On,k.F,I.B,J.b,M.U,B.b,g.C],encapsulation:2});var N=t(86125),O=t(64751),j=t(32100),Y=t(94820),K=t(53707),z=t(73484),D=function(n,i,t,e){return new(t||(t=Promise))((function(H,o){function s(n){try{c(e.next(n))}catch(i){o(i)}}function a(n){try{c(e.throw(n))}catch(i){o(i)}}function c(n){var i;n.done?H(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(s,a)}c((e=e.apply(n,i||[])).next())}))};function F(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"app-user-verification",15),l.NdJ("ngModelChange",(function(i){l.CHM(n);const t=l.oxw();return l.KtG(t.masterPassword=i)})),l._uU(1,"\n        "),l.qZA()}if(2&n){const n=l.oxw();l.Q6J("ngModel",n.masterPassword)}}function G(n,i){1&n&&(l.ynx(0),l._uU(1,"\n          "),l.TgZ(2,"p"),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n          "),l.TgZ(6,"app-callout",16),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n        "),l.BQk()),2&n&&(l.xp6(3),l.Oqu(l.lcZ(4,2,"rotateBillingSyncTokenTitle")),l.xp6(4),l.hij("\n            ",l.lcZ(8,4,"rotateBillingSyncTokenWarning"),"\n          "))}function R(n,i){if(1&n&&(l.TgZ(0,"div",25),l._uU(1,"\n            "),l.TgZ(2,"b",26),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5),l.ALo(6,"date"),l.qZA()),2&n){const n=l.oxw(2);l.xp6(3),l.hij("",l.lcZ(4,2,"lastSync"),":"),l.xp6(2),l.hij("\n            ",l.xi3(6,4,n.lastSyncDate,"medium"),"\n          ")}}function E(n,i){if(1&n&&(l.TgZ(0,"div",27),l._uU(1,"\n            "),l._UZ(2,"i",28),l._uU(3),l.ALo(4,"i18n"),l.qZA()),2&n){const n=l.oxw(2);l.xp6(3),l.hij("\n            ",l.xi3(4,1,1===n.daysBetween?"awaitingSyncSingular":"awaitingSyncPlural",n.daysBetween),"\n          ")}}function V(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"div"),l._uU(1,"\n          "),l.TgZ(2,"p"),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n          "),l.TgZ(6,"label",17),l._uU(7,"Billing Sync Key"),l.qZA(),l._uU(8,"\n          "),l.TgZ(9,"div",18),l._uU(10,"\n            "),l.TgZ(11,"input",19),l.NdJ("ngModelChange",(function(i){l.CHM(n);const t=l.oxw();return l.KtG(t.clientSecret=i)})),l.qZA(),l._uU(12,"\n            "),l.TgZ(13,"div",20),l._uU(14,"\n              "),l.TgZ(15,"button",21),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw();return l.KtG(i.copy())})),l.ALo(16,"i18n"),l._uU(17,"\n                "),l._UZ(18,"i",22),l._uU(19,"\n              "),l.qZA(),l._uU(20,"\n            "),l.qZA(),l._uU(21,"\n          "),l.qZA(),l._uU(22,"\n          "),l.YNc(23,R,7,7,"div",23),l._uU(24,"\n          "),l.YNc(25,E,5,4,"div",24),l._uU(26,"\n        "),l.qZA()}if(2&n){const n=l.oxw();l.xp6(3),l.Oqu(l.lcZ(4,5,"copyPasteBillingSync")),l.xp6(8),l.Q6J("ngModel",n.clientSecret),l.xp6(4),l.Q6J("appA11yTitle",l.lcZ(16,7,"copy")),l.xp6(8),l.Q6J("ngIf",n.showLastSyncText),l.xp6(2),l.Q6J("ngIf",n.showAwaitingSyncText)}}function $(n,i){1&n&&(l._UZ(0,"i",31),l.ALo(1,"i18n")),2&n&&l.s9C("title",l.lcZ(1,1,"loading"))}function W(n,i){if(1&n&&(l.TgZ(0,"button",29),l._uU(1,"\n          "),l.YNc(2,$,2,3,"i",30),l._uU(3,"\n          "),l.TgZ(4,"span"),l._uU(5),l.qZA(),l._uU(6,"\n        "),l.qZA()),2&n){const n=l.oxw(),i=l.MAs(5);l.Q6J("disabled",i.loading),l.xp6(2),l.Q6J("ngIf",i.loading),l.xp6(3),l.hij("\n            ",n.submitButtonText,"\n          ")}}function X(n,i){1&n&&(l.TgZ(0,"button",32),l._uU(1),l.ALo(2,"i18n"),l.qZA()),2&n&&(l.xp6(1),l.hij("\n          ",l.lcZ(2,1,"close"),"\n        "))}function nn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",33),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw();return l.KtG(i.cancelRotate())})),l._uU(1),l.ALo(2,"i18n"),l.qZA()}2&n&&(l.xp6(1),l.hij("\n          ",l.lcZ(2,1,"cancel"),"\n        "))}function tn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",33),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw();return l.KtG(i.rotateToken())})),l._uU(1),l.ALo(2,"i18n"),l.qZA()}2&n&&(l.xp6(1),l.hij("\n          ",l.lcZ(2,1,"rotateToken"),"\n        "))}class en{constructor(n,i,t,e,H){this.userVerificationService=n,this.apiService=i,this.platformUtilsService=t,this.i18nService=e,this.organizationApiService=H,this.lastSyncDate=null}copy(){this.platformUtilsService.copyToClipboard(this.clientSecret)}submit(){return D(this,void 0,void 0,(function*(){if(this.showRotateScreen){this.formPromise=this.userVerificationService.buildRequest(this.masterPassword,N._).then((n=>(n.type=x.x.BillingSync,this.organizationApiService.rotateApiKey(this.organizationId,n))));const n=yield this.formPromise;yield this.load(n),this.showRotateScreen=!1,this.platformUtilsService.showToast("success",null,this.i18nService.t("billingSyncApiKeyRotated"))}else{this.formPromise=this.userVerificationService.buildRequest(this.masterPassword,N._).then((n=>(n.type=x.x.BillingSync,this.organizationApiService.getOrCreateApiKey(this.organizationId,n))));const n=yield this.formPromise;yield this.load(n)}}))}load(n){return D(this,void 0,void 0,(function*(){this.clientSecret=n.apiKey,this.keyRevisionDate=n.revisionDate,this.hasBillingToken=!0;const i=yield this.apiService.getSponsorshipSyncStatus(this.organizationId);this.lastSyncDate=i.lastSyncDate}))}cancelRotate(){this.showRotateScreen=!1}rotateToken(){this.showRotateScreen=!0}dayDiff(n,i){const t=Math.abs(i.getTime()-n.getTime());return Math.round(t/864e5)}get submitButtonText(){return this.showRotateScreen?this.i18nService.t("rotateToken"):this.i18nService.t(this.hasBillingToken?"continue":"generateToken")}get showLastSyncText(){return this.lastSyncDate&&this.lastSyncDate>this.keyRevisionDate}get showAwaitingSyncText(){return this.lastSyncDate&&this.lastSyncDate<=this.keyRevisionDate}get daysBetween(){return this.dayDiff(this.keyRevisionDate,new Date)}}en.ɵfac=function(n){return new(n||en)(l.Y36(O.i),l.Y36(q.s),l.Y36(j.P),l.Y36(Y.D),l.Y36(r.M))},en.ɵcmp=l.Xpm({type:en,selectors:[["app-billing-sync-api-key"]],decls:44,vars:14,consts:[["role","dialog","aria-modal","true","aria-labelledby","billingSyncApiKeyTitle",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],["ngNativeValidate","",1,"modal-content",3,"appApiAction","ngSubmit"],["form",""],[1,"modal-header"],["id","billingSyncApiKeyTitle",1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"appA11yTitle"],["aria-hidden","true"],[1,"modal-body"],["ngDefaultControl","","name","secret",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","submit","class","btn btn-primary btn-submit",3,"disabled",4,"ngIf"],["type","button","class","btn btn-outline-secondary","data-dismiss","modal",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["ngDefaultControl","","name","secret",3,"ngModel","ngModelChange"],["type","warning"],["for","clientSecret"],[1,"input-group"],["id","clientSecret","type","text","name","clientSecret","disabled","",1,"form-control","text-monospace",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"appA11yTitle","click"],["aria-hidden","true",1,"bwi","bwi-lg","bwi-clone"],["class","small text-muted mt-2",4,"ngIf"],["class","small text-danger mt-2",4,"ngIf"],[1,"small","text-muted","mt-2"],[1,"font-weight-semibold"],[1,"small","text-danger","mt-2"],[1,"bwi","bwi-error"],["type","submit",1,"btn","btn-primary","btn-submit",3,"disabled"],["class","bwi bwi-spinner bwi-spin",3,"title",4,"ngIf"],[1,"bwi","bwi-spinner","bwi-spin",3,"title"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(n,i){1&n&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.TgZ(4,"form",2,3),l.NdJ("ngSubmit",(function(){return i.submit()})),l._uU(6,"\n      "),l.TgZ(7,"div",4),l._uU(8,"\n        "),l.TgZ(9,"h2",5),l._uU(10),l.ALo(11,"i18n"),l.qZA(),l._uU(12,"\n        "),l.TgZ(13,"button",6),l.ALo(14,"i18n"),l._uU(15,"\n          "),l.TgZ(16,"span",7),l._uU(17,"×"),l.qZA(),l._uU(18,"\n        "),l.qZA(),l._uU(19,"\n      "),l.qZA(),l._uU(20,"\n      "),l.TgZ(21,"div",8),l._uU(22,"\n        "),l.YNc(23,F,2,1,"app-user-verification",9),l._uU(24,"\n        "),l.YNc(25,G,10,6,"ng-container",10),l._uU(26,"\n\n        "),l.YNc(27,V,27,9,"div",10),l._uU(28,"\n      "),l.qZA(),l._uU(29,"\n      "),l.TgZ(30,"div",11),l._uU(31,"\n        "),l.YNc(32,W,7,3,"button",12),l._uU(33,"\n        "),l.YNc(34,X,3,3,"button",13),l._uU(35,"\n        "),l.YNc(36,nn,3,3,"button",14),l._uU(37,"\n        "),l.YNc(38,tn,3,3,"button",14),l._uU(39,"\n      "),l.qZA(),l._uU(40,"\n    "),l.qZA(),l._uU(41,"\n  "),l.qZA(),l._uU(42,"\n"),l.qZA(),l._uU(43,"\n")),2&n&&(l.xp6(4),l.Q6J("appApiAction",i.formPromise),l.xp6(6),l.hij("\n          ",l.lcZ(11,10,i.hasBillingToken?"viewBillingSyncToken":"generateBillingSyncToken"),"\n        "),l.xp6(3),l.s9C("appA11yTitle",l.lcZ(14,12,"close")),l.xp6(10),l.Q6J("ngIf",!i.clientSecret),l.xp6(2),l.Q6J("ngIf",i.clientSecret&&i.showRotateScreen),l.xp6(2),l.Q6J("ngIf",i.clientSecret&&!i.showRotateScreen),l.xp6(5),l.Q6J("ngIf",!i.clientSecret||i.showRotateScreen),l.xp6(2),l.Q6J("ngIf",!i.showRotateScreen),l.xp6(2),l.Q6J("ngIf",i.showRotateScreen),l.xp6(2),l.Q6J("ngIf",i.clientSecret&&!i.showRotateScreen))},dependencies:[u.O5,k.Fj,k.JJ,k.JL,k.On,k.F,I.B,J.b,K.O,z.W,u.uU,g.C],encapsulation:2});var Hn=t(11518),on=t(41320),sn=t(66385),an=t(64454),cn=t(54721);class ln{}ln.ɵfac=function(n){return new(n||ln)},ln.ɵcmp=l.Xpm({type:ln,selectors:[["app-image-org-subscription-hidden"]],decls:38,vars:0,consts:[["width","216","height","231","viewBox","0 0 216 231","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M133.356 85.6618C133.136 85.43 132.871 85.2457 132.577 85.1198C132.283 84.9939 131.968 84.93 131.648 84.9318H87.8482C87.5289 84.93 87.2113 84.9939 86.9175 85.1198C86.6237 85.2457 86.359 85.43 86.14 85.6618C85.9083 85.8808 85.7239 86.1473 85.598 86.4411C85.4721 86.7349 85.4082 87.0506 85.41 87.37V116.57C85.4192 118.793 85.8499 120.994 86.6802 123.056C87.4705 125.091 88.5326 127.011 89.8375 128.761C91.1789 130.515 92.6808 132.137 94.3233 133.612C95.8472 135.01 97.4532 136.318 99.1304 137.528C100.59 138.565 102.123 139.547 103.729 140.474C105.335 141.401 106.469 142.027 107.131 142.354C107.799 142.682 108.339 142.941 108.741 143.113C109.055 143.264 109.4 143.339 109.748 143.332C110.091 143.337 110.431 143.257 110.737 143.102C111.146 142.923 111.679 142.671 112.354 142.343C113.03 142.014 114.179 141.386 115.756 140.463C117.333 139.539 118.884 138.554 120.355 137.517C122.034 136.306 123.642 134.999 125.169 133.601C126.814 132.128 128.316 130.504 129.655 128.75C130.958 126.998 132.021 125.08 132.813 123.045C133.645 120.983 134.075 118.782 134.083 116.559V87.3591C134.085 87.0415 134.021 86.7276 133.895 86.4356C133.769 86.1436 133.586 85.8808 133.356 85.6618ZM127.71 116.836C127.71 127.421 109.748 136.514 109.748 136.514V91.1879H127.71V116.836Z","fill","var(--color-secondary-700)"],["d","M24.6216 122.3C24.7144 123.4 25.6819 124.217 26.7825 124.125C27.8832 124.032 28.7002 123.064 28.6074 121.964L24.6216 122.3ZM151.501 45.7445C152.57 45.4679 153.213 44.3768 152.936 43.3074L148.429 25.8809C148.152 24.8115 147.061 24.1688 145.992 24.4454C144.922 24.722 144.28 25.8131 144.556 26.8825L148.563 42.3728L133.073 46.3793C132.003 46.6559 131.361 47.747 131.637 48.8164C131.914 49.8858 133.005 50.5285 134.074 50.2519L151.501 45.7445ZM28.6074 121.964C26.6788 99.0874 34.4658 75.5543 51.9661 58.054L49.1377 55.2256C30.7695 73.5938 22.5982 98.2999 24.6216 122.3L28.6074 121.964ZM51.9661 58.054C78.5404 31.4797 119.036 27.3026 149.985 45.5315L152.015 42.0849C119.534 22.9534 77.0327 27.3306 49.1377 55.2256L51.9661 58.054Z","fill","var(--color-secondary-700)"],["d","M67.4747 185.062C66.4089 185.352 65.7801 186.451 66.0701 187.517L70.797 204.885C71.0871 205.951 72.1862 206.58 73.252 206.29C74.3179 205.999 74.9467 204.9 74.6567 203.834L70.455 188.396L85.8934 184.194C86.9592 183.904 87.5881 182.805 87.298 181.739C87.008 180.674 85.9088 180.045 84.843 180.335L67.4747 185.062ZM192.478 100.283C192.286 99.1952 191.248 98.4697 190.16 98.6625C189.072 98.8552 188.347 99.8931 188.54 100.981L192.478 100.283ZM166.138 172.225C139.813 198.55 99.8271 202.897 68.9932 185.255L67.0068 188.727C99.3669 207.242 141.333 202.687 168.966 175.054L166.138 172.225ZM188.54 100.981C192.985 126.07 185.516 152.847 166.138 172.225L168.966 175.054C189.307 154.713 197.142 126.603 192.478 100.283L188.54 100.981Z","fill","var(--color-secondary-700)"],["d","M37.726 108.132C39.283 92.1931 46.1655 76.6765 58.3734 64.4686C75.2893 47.5527 98.5583 40.8618 120.5 44.396","stroke","var(--color-secondary-700)","stroke-width","2","stroke-linecap","round"],["d","M180.595 119.132C179.653 136.119 172.693 152.834 159.717 165.811C144.44 181.088 123.982 188.025 104 186.623","stroke","var(--color-secondary-700)","stroke-width","2","stroke-linecap","round"],["x","153.5","y","56.1317","width","49","height","34","rx","2.5","stroke","var(--color-secondary-700)","stroke-width","3"],["d","M153.5 63.6317V63.6317C153.5 66.9454 156.186 69.6317 159.5 69.6317H172.509M202.5 63.6317V63.6317C202.5 66.9454 199.814 69.6317 196.5 69.6317H183.491","stroke","var(--color-secondary-700)","stroke-width","3"],["id","path-8-inside-1_1000_26057","fill","white"],["x","172","y","65.6317","width","12","height","9","rx","1.25"],["x","172","y","65.6317","width","12","height","9","rx","1.25","stroke","var(--color-secondary-700)","stroke-width","6","mask","url(#path-8-inside-1_1000_26057)"],["d","M187 54.6317C187 54.6317 187 53.6317 187 52.6317C187 51.6317 186.053 50.6317 185.105 50.6317C184.158 50.6317 171.842 50.6317 170.895 50.6317C169.947 50.6317 169 51.6317 169 52.6317C169 53.6317 169 54.6317 169 54.6317","stroke","var(--color-secondary-700)","stroke-width","3"],["cx","48","cy","141","r","10.5","fill","var(--color-background)","stroke","var(--color-secondary-700)","stroke-width","3"],["d","M64.9935 168.5H64.9126H64.8318H64.7512H64.6708H64.5905H64.5104H64.4304H64.3506H64.2709H64.1914H64.1121H64.0329H63.9538H63.8749H63.7962H63.7176H63.6392H63.5609H63.4828H63.4048H63.3269H63.2492H63.1717H63.0943H63.017H62.9399H62.8629H62.7861H62.7094H62.6329H62.5565H62.4802H62.4041H62.3281H62.2523H62.1766H62.101H62.0256H61.9503H61.8751H61.8001H61.7252H61.6504H61.5758H61.5013H61.4269H61.3527H61.2786H61.2046H61.1308H61.0571H60.9835H60.91H60.8367H60.7635H60.6904H60.6175H60.5446H60.4719H60.3993H60.3269H60.2545H60.1823H60.1102H60.0382H59.9664H59.8946H59.823H59.7515H59.6801H59.6088H59.5376H59.4666H59.3956H59.3248H59.2541H59.1835H59.113H59.0426H58.9724H58.9022H58.8322H58.7622H58.6924H58.6226H58.553H58.4835H58.4141H58.3448H58.2756H58.2065H58.1375H58.0686H57.9998H57.9311H57.8625H57.794H57.7256H57.6572H57.589H57.5209H57.4529H57.385H57.3172H57.2494H57.1818H57.1142H57.0468H56.9794H56.9121H56.8449H56.7779H56.7108H56.6439H56.5771H56.5103H56.4437H56.3771H56.3106H56.2442H56.1779H56.1117H56.0455H55.9794H55.9134H55.8475H55.7817H55.7159H55.6502H55.5846H55.5191H55.4537H55.3883H55.323H55.2578H55.1926H55.1275H55.0625H54.9976H54.9328H54.868H54.8032H54.7386H54.674H54.6095H54.5451H54.4807H54.4164H54.3521H54.2879H54.2238H54.1598H54.0958H54.0318H53.968H53.9042H53.8404H53.7767H53.7131H53.6495H53.586H53.5226H53.4592H53.3958H53.3325H53.2693H53.2061H53.143H53.0799H53.0169H52.9539H52.891H52.8281H52.7653H52.7025H52.6398H52.5771H52.5145H52.4519H52.3894H52.3269H52.2645H52.202H52.1397H52.0774H52.0151H51.9528H51.8907H51.8285H51.7664H51.7043H51.6423H51.5803H51.5183H51.4564H51.3945H51.3326H51.2708H51.209H51.1472H51.0855H51.0238H50.9621H50.9005H50.8389H50.7773H50.7157H50.6542H50.5927H50.5312H50.4698H50.4084H50.347H50.2856H50.2243H50.1629H50.1016H50.0404H49.9791H49.9178H49.8566H49.7954H49.7342H49.6731H49.6119H49.5508H49.4896H49.4285H49.3674H49.3064H49.2453H49.1842H49.1232H49.0622H49.0011H48.9401H48.8791H48.8181H48.7571H48.6962H48.6352H48.5742H48.5133H48.4523H48.3913H48.3304H48.2694H48.2085H48.1475H48.0866H48.0257H47.9647H47.9038H47.8428H47.7819H47.7209H47.6599H47.599H47.538H47.477H47.416H47.3551H47.2941H47.2331H47.172H47.111H47.05H46.9889H46.9279H46.8668H46.8057H46.7446H46.6835H46.6224H46.5612H46.5001H46.4389H46.3777H46.3165H46.2553H46.194H46.1328H46.0715H46.0102H45.9489H45.8875H45.8261H45.7647H45.7033H45.6418H45.5804H45.5189H45.4573H45.3958H45.3342H45.2726H45.2109H45.1493H45.0876H45.0258H44.9641H44.9023H44.8404H44.7786H44.7166H44.6547H44.5927H44.5307H44.4687H44.4066H44.3445H44.2823H44.2201H44.1578H44.0956H44.0332H43.9709H43.9084H43.846H43.7835H43.7209H43.6583H43.5957H43.533H43.4703H43.4075H43.3447H43.2818H43.2189H43.1559H43.0929H43.0298H42.9666H42.9034H42.8402H42.7769H42.7135H42.6501H42.5867H42.5231H42.4596H42.3959H42.3322H42.2685H42.2046H42.1408H42.0768H42.0128H41.9487H41.8846H41.8204H41.7562H41.6918H41.6274H41.563H41.4985H41.4339H41.3692H41.3045H41.2397H41.1748H41.1098H41.0448H40.9797H40.9146H40.8493H40.784H40.7186H40.6532H40.5876H40.522H40.4563H40.3905H40.3247H40.2588H40.1928H40.1267H40.0605H39.9942H39.9279H39.8615H39.795H39.7284H39.6617H39.5949H39.5281H39.4611H39.3941H39.327H39.2598H39.1925H39.1251H39.0576H38.9901H38.9224H38.8547H38.7868H38.7189H38.6508H38.5827H38.5145H38.4461H38.3777H38.3092H38.2406H38.1719H38.103H38.0341H37.9651H37.896H37.8267H37.7574H37.688H37.6184H37.5488H37.479H37.4092H37.3392H37.2691H37.199H37.1287H37.0583H36.9878H36.9171H36.8464H36.7755H36.7046H36.6335H36.5623H36.491H36.4196H36.3481H36.2764H36.2046H36.1328H36.0607H35.9886H35.9164H35.844H35.7715H35.6989H35.6262H35.5533H35.4803H35.4072H35.334H35.2606H35.1872H35.1135H35.0398H34.9659H34.8919H34.8178H34.7436H34.6692H34.5947H34.52H34.4452H34.3703H34.2952H34.2201H34.1447H34.0693H33.9937H33.9179H33.8421H33.7661H33.6899H33.6136H33.5372H33.4606H33.3839H33.3071H33.2301H33.1529H33.0756H32.9982H32.9206H32.8429H32.765H32.687H32.6088H32.5305H32.452H32.3734H32.2946H32.2157H32.1367H32.0574H31.978H31.8985H31.8188H31.739H31.659H31.5788H31.4985H31.418H31.3374H31.2566H31.1757H31.0946H31.0133H30.9318H30.8503H30.7685H30.6866H30.6045H30.5222H30.4398H30.3572H30.2745H30.1915C30.0489 168.5 29.9693 168.466 29.9164 168.433C29.8553 168.394 29.7779 168.322 29.702 168.192C29.5361 167.906 29.4608 167.48 29.5197 167.111C30.9235 158.322 38.6474 151.574 47.9925 151.574C57.3375 151.574 65.0615 158.322 66.4652 167.111C66.5751 167.799 66.4037 168.054 66.3124 168.149C66.1888 168.278 65.8364 168.5 64.9935 168.5Z","fill","var(--color-background)","stroke","var(--color-secondary-700)","stroke-width","3"],["cx","20","cy","141","r","10.5","fill","var(--color-background)","stroke","var(--color-secondary-700)","stroke-width","3"],["d","M36.9935 168.5H36.9126H36.8318H36.7512H36.6708H36.5905H36.5104H36.4304H36.3506H36.2709H36.1914H36.1121H36.0329H35.9538H35.8749H35.7962H35.7176H35.6392H35.5609H35.4828H35.4048H35.3269H35.2492H35.1717H35.0943H35.017H34.9399H34.8629H34.7861H34.7094H34.6329H34.5565H34.4802H34.4041H34.3281H34.2523H34.1766H34.101H34.0256H33.9503H33.8751H33.8001H33.7252H33.6504H33.5758H33.5013H33.4269H33.3527H33.2786H33.2046H33.1308H33.0571H32.9835H32.91H32.8367H32.7635H32.6904H32.6175H32.5446H32.4719H32.3993H32.3269H32.2545H32.1823H32.1102H32.0382H31.9664H31.8946H31.823H31.7515H31.6801H31.6088H31.5376H31.4666H31.3956H31.3248H31.2541H31.1835H31.113H31.0426H30.9724H30.9022H30.8322H30.7622H30.6924H30.6226H30.553H30.4835H30.4141H30.3448H30.2756H30.2065H30.1375H30.0686H29.9998H29.9311H29.8625H29.794H29.7256H29.6572H29.589H29.5209H29.4529H29.385H29.3172H29.2494H29.1818H29.1142H29.0468H28.9794H28.9121H28.8449H28.7779H28.7108H28.6439H28.5771H28.5103H28.4437H28.3771H28.3106H28.2442H28.1779H28.1117H28.0455H27.9794H27.9134H27.8475H27.7817H27.7159H27.6502H27.5846H27.5191H27.4537H27.3883H27.323H27.2578H27.1926H27.1275H27.0625H26.9976H26.9328H26.868H26.8032H26.7386H26.674H26.6095H26.5451H26.4807H26.4164H26.3521H26.2879H26.2238H26.1598H26.0958H26.0318H25.968H25.9042H25.8404H25.7767H25.7131H25.6495H25.586H25.5226H25.4592H25.3958H25.3325H25.2693H25.2061H25.143H25.0799H25.0169H24.9539H24.891H24.8281H24.7653H24.7025H24.6398H24.5771H24.5145H24.4519H24.3894H24.3269H24.2645H24.202H24.1397H24.0774H24.0151H23.9528H23.8907H23.8285H23.7664H23.7043H23.6423H23.5803H23.5183H23.4564H23.3945H23.3326H23.2708H23.209H23.1472H23.0855H23.0238H22.9621H22.9005H22.8389H22.7773H22.7157H22.6542H22.5927H22.5312H22.4698H22.4084H22.347H22.2856H22.2243H22.1629H22.1016H22.0404H21.9791H21.9178H21.8566H21.7954H21.7342H21.6731H21.6119H21.5508H21.4896H21.4285H21.3674H21.3064H21.2453H21.1842H21.1232H21.0622H21.0011H20.9401H20.8791H20.8181H20.7571H20.6962H20.6352H20.5742H20.5133H20.4523H20.3913H20.3304H20.2694H20.2085H20.1475H20.0866H20.0257H19.9647H19.9038H19.8428H19.7819H19.7209H19.6599H19.599H19.538H19.477H19.416H19.3551H19.2941H19.2331H19.172H19.111H19.05H18.9889H18.9279H18.8668H18.8057H18.7446H18.6835H18.6224H18.5612H18.5001H18.4389H18.3777H18.3165H18.2553H18.194H18.1328H18.0715H18.0102H17.9489H17.8875H17.8261H17.7647H17.7033H17.6418H17.5804H17.5189H17.4573H17.3958H17.3342H17.2726H17.2109H17.1493H17.0876H17.0258H16.9641H16.9023H16.8404H16.7786H16.7166H16.6547H16.5927H16.5307H16.4687H16.4066H16.3445H16.2823H16.2201H16.1578H16.0956H16.0332H15.9709H15.9084H15.846H15.7835H15.7209H15.6583H15.5957H15.533H15.4703H15.4075H15.3447H15.2818H15.2189H15.1559H15.0929H15.0298H14.9666H14.9034H14.8402H14.7769H14.7135H14.6501H14.5867H14.5231H14.4596H14.3959H14.3322H14.2685H14.2046H14.1408H14.0768H14.0128H13.9487H13.8846H13.8204H13.7562H13.6918H13.6274H13.563H13.4985H13.4339H13.3692H13.3045H13.2397H13.1748H13.1098H13.0448H12.9797H12.9146H12.8493H12.784H12.7186H12.6532H12.5876H12.522H12.4563H12.3905H12.3247H12.2588H12.1928H12.1267H12.0605H11.9942H11.9279H11.8615H11.795H11.7284H11.6617H11.5949H11.5281H11.4611H11.3941H11.327H11.2598H11.1925H11.1251H11.0576H10.9901H10.9224H10.8547H10.7868H10.7189H10.6508H10.5827H10.5145H10.4461H10.3777H10.3092H10.2406H10.1719H10.103H10.0341H9.9651H9.89597H9.82674H9.75741H9.68798H9.61843H9.54879H9.47904H9.40918H9.33921H9.26914H9.19896H9.12867H9.05826H8.98775H8.91713H8.8464H8.77555H8.70459H8.63351H8.56232H8.49102H8.4196H8.34807H8.27641H8.20464H8.13276H8.06075H7.98862H7.91638H7.84401H7.77152H7.69891H7.62617H7.55332H7.48034H7.40723H7.334H7.26064H7.18716H7.11355H7.03981H6.96594H6.89195H6.81782H6.74356H6.66918H6.59466H6.52H6.44522H6.3703H6.29525H6.22006H6.14474H6.06928H5.99368H5.91795H5.84208H5.76607H5.68992H5.61363H5.5372H5.46062H5.38391H5.30705H5.23005H5.15291H5.07562H4.99819H4.92061H4.84288H4.76501H4.68699H4.60882H4.5305H4.45203H4.37342H4.29465H4.21573H4.13665H4.05743H3.97805H3.89851H3.81882H3.73898H3.65898H3.57882H3.49851H3.41804H3.33741H3.25662H3.17566H3.09455H3.01328H2.93185H2.85025H2.76849H2.68657H2.60448H2.52223H2.43981H2.35722H2.27447H2.19155C2.04893 168.5 1.96927 168.466 1.91645 168.433C1.85532 168.394 1.77792 168.322 1.702 168.192C1.53613 167.906 1.46078 167.48 1.51975 167.111C2.92347 158.322 10.6474 151.574 19.9925 151.574C29.3375 151.574 37.0615 158.322 38.4652 167.111C38.5751 167.799 38.4037 168.054 38.3124 168.149C38.1888 168.278 37.8364 168.5 36.9935 168.5Z","fill","var(--color-background)","stroke","var(--color-secondary-700)","stroke-width","3"],["cx","34","cy","154","r","10.5","fill","var(--color-background)","stroke","var(--color-secondary-700)","stroke-width","3"],["d","M50.9935 181.5H50.9126H50.8318H50.7512H50.6708H50.5905H50.5104H50.4304H50.3506H50.2709H50.1914H50.1121H50.0329H49.9538H49.8749H49.7962H49.7176H49.6392H49.5609H49.4828H49.4048H49.3269H49.2492H49.1717H49.0943H49.017H48.9399H48.8629H48.7861H48.7094H48.6329H48.5565H48.4802H48.4041H48.3281H48.2523H48.1766H48.101H48.0256H47.9503H47.8751H47.8001H47.7252H47.6504H47.5758H47.5013H47.4269H47.3527H47.2786H47.2046H47.1308H47.0571H46.9835H46.91H46.8367H46.7635H46.6904H46.6175H46.5446H46.4719H46.3993H46.3269H46.2545H46.1823H46.1102H46.0382H45.9664H45.8946H45.823H45.7515H45.6801H45.6088H45.5376H45.4666H45.3956H45.3248H45.2541H45.1835H45.113H45.0426H44.9724H44.9022H44.8322H44.7622H44.6924H44.6226H44.553H44.4835H44.4141H44.3448H44.2756H44.2065H44.1375H44.0686H43.9998H43.9311H43.8625H43.794H43.7256H43.6572H43.589H43.5209H43.4529H43.385H43.3172H43.2494H43.1818H43.1142H43.0468H42.9794H42.9121H42.8449H42.7779H42.7108H42.6439H42.5771H42.5103H42.4437H42.3771H42.3106H42.2442H42.1779H42.1117H42.0455H41.9794H41.9134H41.8475H41.7817H41.7159H41.6502H41.5846H41.5191H41.4537H41.3883H41.323H41.2578H41.1926H41.1275H41.0625H40.9976H40.9328H40.868H40.8032H40.7386H40.674H40.6095H40.5451H40.4807H40.4164H40.3521H40.2879H40.2238H40.1598H40.0958H40.0318H39.968H39.9042H39.8404H39.7767H39.7131H39.6495H39.586H39.5226H39.4592H39.3958H39.3325H39.2693H39.2061H39.143H39.0799H39.0169H38.9539H38.891H38.8281H38.7653H38.7025H38.6398H38.5771H38.5145H38.4519H38.3894H38.3269H38.2645H38.202H38.1397H38.0774H38.0151H37.9528H37.8907H37.8285H37.7664H37.7043H37.6423H37.5803H37.5183H37.4564H37.3945H37.3326H37.2708H37.209H37.1472H37.0855H37.0238H36.9621H36.9005H36.8389H36.7773H36.7157H36.6542H36.5927H36.5312H36.4698H36.4084H36.347H36.2856H36.2243H36.1629H36.1016H36.0404H35.9791H35.9178H35.8566H35.7954H35.7342H35.6731H35.6119H35.5508H35.4896H35.4285H35.3674H35.3064H35.2453H35.1842H35.1232H35.0622H35.0011H34.9401H34.8791H34.8181H34.7571H34.6962H34.6352H34.5742H34.5133H34.4523H34.3913H34.3304H34.2694H34.2085H34.1475H34.0866H34.0257H33.9647H33.9038H33.8428H33.7819H33.7209H33.6599H33.599H33.538H33.477H33.416H33.3551H33.2941H33.2331H33.172H33.111H33.05H32.9889H32.9279H32.8668H32.8057H32.7446H32.6835H32.6224H32.5612H32.5001H32.4389H32.3777H32.3165H32.2553H32.194H32.1328H32.0715H32.0102H31.9489H31.8875H31.8261H31.7647H31.7033H31.6418H31.5804H31.5189H31.4573H31.3958H31.3342H31.2726H31.2109H31.1493H31.0876H31.0258H30.9641H30.9023H30.8404H30.7786H30.7166H30.6547H30.5927H30.5307H30.4687H30.4066H30.3445H30.2823H30.2201H30.1578H30.0956H30.0332H29.9709H29.9084H29.846H29.7835H29.7209H29.6583H29.5957H29.533H29.4703H29.4075H29.3447H29.2818H29.2189H29.1559H29.0929H29.0298H28.9666H28.9034H28.8402H28.7769H28.7135H28.6501H28.5867H28.5231H28.4596H28.3959H28.3322H28.2685H28.2046H28.1408H28.0768H28.0128H27.9487H27.8846H27.8204H27.7562H27.6918H27.6274H27.563H27.4985H27.4339H27.3692H27.3045H27.2397H27.1748H27.1098H27.0448H26.9797H26.9146H26.8493H26.784H26.7186H26.6532H26.5876H26.522H26.4563H26.3905H26.3247H26.2588H26.1928H26.1267H26.0605H25.9942H25.9279H25.8615H25.795H25.7284H25.6617H25.5949H25.5281H25.4611H25.3941H25.327H25.2598H25.1925H25.1251H25.0576H24.9901H24.9224H24.8547H24.7868H24.7189H24.6508H24.5827H24.5145H24.4461H24.3777H24.3092H24.2406H24.1719H24.103H24.0341H23.9651H23.896H23.8267H23.7574H23.688H23.6184H23.5488H23.479H23.4092H23.3392H23.2691H23.199H23.1287H23.0583H22.9878H22.9171H22.8464H22.7755H22.7046H22.6335H22.5623H22.491H22.4196H22.3481H22.2764H22.2046H22.1328H22.0607H21.9886H21.9164H21.844H21.7715H21.6989H21.6262H21.5533H21.4803H21.4072H21.334H21.2606H21.1872H21.1135H21.0398H20.9659H20.8919H20.8178H20.7436H20.6692H20.5947H20.52H20.4452H20.3703H20.2952H20.2201H20.1447H20.0693H19.9937H19.9179H19.8421H19.7661H19.6899H19.6136H19.5372H19.4606H19.3839H19.3071H19.2301H19.1529H19.0756H18.9982H18.9206H18.8429H18.765H18.687H18.6088H18.5305H18.452H18.3734H18.2946H18.2157H18.1367H18.0574H17.978H17.8985H17.8188H17.739H17.659H17.5788H17.4985H17.418H17.3374H17.2566H17.1757H17.0946H17.0133H16.9318H16.8503H16.7685H16.6866H16.6045H16.5222H16.4398H16.3572H16.2745H16.1915C16.045 181.5 15.9628 181.465 15.9092 181.432C15.8479 181.394 15.772 181.324 15.6978 181.198C15.5354 180.922 15.4617 180.509 15.5193 180.153C16.9196 171.496 24.6325 164.823 33.9925 164.823C43.3524 164.823 51.0654 171.496 52.4657 180.153C52.574 180.823 52.4052 181.064 52.319 181.152C52.1962 181.279 51.8413 181.5 50.9935 181.5Z","fill","var(--color-background)","stroke","var(--color-secondary-700)","stroke-width","3"]],template:function(n,i){1&n&&(l.O4$(),l.TgZ(0,"svg",0),l._uU(1,"\n  "),l._UZ(2,"path",1),l._uU(3,"\n  "),l._UZ(4,"path",2),l._uU(5,"\n  "),l._UZ(6,"path",3),l._uU(7,"\n  "),l._UZ(8,"path",4),l._uU(9,"\n  "),l._UZ(10,"path",5),l._uU(11,"\n  "),l._UZ(12,"rect",6),l._uU(13,"\n  "),l._UZ(14,"path",7),l._uU(15,"\n  "),l.TgZ(16,"mask",8),l._uU(17,"\n    "),l._UZ(18,"rect",9),l._uU(19,"\n  "),l.qZA(),l._uU(20,"\n  "),l._UZ(21,"rect",10),l._uU(22,"\n  "),l._UZ(23,"path",11),l._uU(24,"\n  "),l._UZ(25,"circle",12),l._uU(26,"\n  "),l._UZ(27,"path",13),l._uU(28,"\n  "),l._UZ(29,"circle",14),l._uU(30,"\n  "),l._UZ(31,"path",15),l._uU(32,"\n  "),l._UZ(33,"circle",16),l._uU(34,"\n  "),l._UZ(35,"path",17),l._uU(36,"\n"),l.qZA(),l._uU(37,"\n"))},encapsulation:2});var rn=function(n,i,t,e){return new(t||(t=Promise))((function(H,o){function s(n){try{c(e.next(n))}catch(i){o(i)}}function a(n){try{c(e.throw(n))}catch(i){o(i)}}function c(n){var i;n.done?H(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(s,a)}c((e=e.apply(n,i||[])).next())}))};const un=["setupBillingSyncTemplate"],dn=["rotateBillingSyncKeyTemplate"];function pn(n,i){1&n&&(l.TgZ(0,"small"),l._uU(1,"\n      "),l._UZ(2,"i",4),l.ALo(3,"i18n"),l._uU(4,"\n      "),l.TgZ(5,"span",5),l._uU(6),l.ALo(7,"i18n"),l.qZA(),l._uU(8,"\n    "),l.qZA()),2&n&&(l.xp6(2),l.s9C("title",l.lcZ(3,2,"loading")),l.xp6(4),l.Oqu(l.lcZ(7,4,"loading")))}function gn(n,i){1&n&&(l.ynx(0),l._uU(1,"\n  "),l._UZ(2,"i",6),l.ALo(3,"i18n"),l._uU(4,"\n  "),l.TgZ(5,"span",5),l._uU(6),l.ALo(7,"i18n"),l.qZA(),l._uU(8,"\n"),l.BQk()),2&n&&(l.xp6(2),l.s9C("title",l.lcZ(3,2,"loading")),l.xp6(4),l.Oqu(l.lcZ(7,4,"loading")))}function hn(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n  "),l.TgZ(2,"div",7),l._uU(3,"\n    "),l._UZ(4,"app-image-org-subscription-hidden"),l._uU(5,"\n    "),l.TgZ(6,"p",8),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n    "),l.TgZ(10,"p"),l._uU(11),l.ALo(12,"i18n"),l.qZA(),l._uU(13,"\n  "),l.qZA(),l._uU(14,"\n"),l.BQk()),2&n){const n=l.oxw();l.xp6(7),l.Oqu(l.xi3(8,2,"billingManagedByProvider",n.userOrg.providerName)),l.xp6(4),l.Oqu(l.lcZ(12,5,"billingContactProviderForAssistance"))}}function Zn(n,i){1&n&&(l.TgZ(0,"app-callout",10),l.ALo(1,"i18n"),l._uU(2),l.ALo(3,"i18n"),l.qZA()),2&n&&(l.s9C("title",l.lcZ(1,2,"canceled")),l.xp6(2),l.hij("\n    ",l.lcZ(3,4,"subscriptionCanceled"),""))}function bn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"app-callout",10),l.ALo(1,"i18n"),l._uU(2,"\n    "),l.TgZ(3,"p"),l._uU(4),l.ALo(5,"i18n"),l.qZA(),l._uU(6,"\n    "),l.TgZ(7,"button",11,12),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(2);return l.KtG(i.reinstate())})),l._uU(9,"\n      "),l._UZ(10,"i",13),l.ALo(11,"i18n"),l._uU(12,"\n      "),l.TgZ(13,"span"),l._uU(14),l.ALo(15,"i18n"),l.qZA(),l._uU(16,"\n    "),l.qZA(),l._uU(17,"\n  "),l.qZA()}if(2&n){const n=l.MAs(8),i=l.oxw(2);l.s9C("title",l.lcZ(1,6,"pendingCancellation")),l.xp6(4),l.Oqu(l.lcZ(5,8,"subscriptionPendingCanceled")),l.xp6(3),l.Q6J("appApiAction",i.reinstatePromise)("disabled",n.loading),l.xp6(3),l.s9C("title",l.lcZ(11,10,"loading")),l.xp6(4),l.Oqu(l.lcZ(15,12,"reinstateSubscription"))}}function Un(n,i){1&n&&(l.TgZ(0,"span",31),l._uU(1),l.ALo(2,"i18n"),l.qZA()),2&n&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"pendingCancellation")))}function _n(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n            "),l.TgZ(2,"dt"),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n            "),l.TgZ(6,"dd"),l._uU(7,"\n              "),l.TgZ(8,"span",29),l._uU(9),l.qZA(),l._uU(10,"\n              "),l.YNc(11,Un,3,3,"span",30),l._uU(12,"\n            "),l.qZA(),l._uU(13,"\n            "),l.TgZ(14,"dt"),l._uU(15),l.ALo(16,"i18n"),l.qZA(),l._uU(17,"\n            "),l.TgZ(18,"dd"),l._uU(19),l.ALo(20,"date"),l.ALo(21,"currency"),l.qZA(),l._uU(22,"\n          "),l.BQk()),2&n){const n=l.oxw(3);l.xp6(3),l.Oqu(l.lcZ(4,5,"status")),l.xp6(6),l.Oqu(n.isSponsoredSubscription?"sponsored":n.subscription.status||"-"),l.xp6(2),l.Q6J("ngIf",n.subscriptionMarkedForCancel),l.xp6(4),l.Oqu(l.lcZ(16,7,"nextCharge")),l.xp6(4),l.hij("\n              ",n.nextInvoice?l.xi3(20,9,n.nextInvoice.date,"mediumDate")+", "+l.xi3(21,12,n.nextInvoice.amount,"$"):"-","\n            ")}}function fn(n,i){if(1&n&&(l.TgZ(0,"tr"),l._uU(1,"\n              "),l.TgZ(2,"td"),l._uU(3),l.ALo(4,"currency"),l.qZA(),l._uU(5,"\n              "),l.TgZ(6,"td"),l._uU(7),l.ALo(8,"currency"),l.ALo(9,"i18n"),l.qZA(),l._uU(10,"\n            "),l.qZA()),2&n){const n=i.$implicit;l.xp6(3),l.lnq("\n                ",n.name," ",n.quantity>1?"×"+n.quantity:""," @\n                ",l.xi3(4,5,n.amount,"$"),"\n              "),l.xp6(4),l.AsE("",l.xi3(8,8,n.quantity*n.amount,"$")," /",l.lcZ(9,11,n.interval),"")}}function yn(n,i){if(1&n&&(l.TgZ(0,"div",32),l._uU(1,"\n        "),l.TgZ(2,"strong",33),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n        "),l.TgZ(6,"table",34),l._uU(7,"\n          "),l.TgZ(8,"tbody"),l._uU(9,"\n            "),l.YNc(10,fn,11,13,"tr",35),l._uU(11,"\n          "),l.qZA(),l._uU(12,"\n        "),l.qZA(),l._uU(13,"\n      "),l.qZA()),2&n){const n=l.oxw(3);l.xp6(3),l.Oqu(l.lcZ(4,2,"details")),l.xp6(7),l.Q6J("ngForOf",n.subscription.items)}}function An(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n        "),l.TgZ(2,"div",36),l._uU(3,"\n          "),l.TgZ(4,"dl"),l._uU(5,"\n            "),l.TgZ(6,"dt"),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n            "),l.TgZ(10,"dd"),l._uU(11),l.ALo(12,"i18n"),l.qZA(),l._uU(13,"\n          "),l.qZA(),l._uU(14,"\n        "),l.qZA(),l._uU(15,"\n      "),l.BQk()),2&n){const n=l.oxw(3);l.xp6(7),l.Oqu(l.lcZ(8,2,"provider")),l.xp6(4),l.Oqu(l.xi3(12,4,"yourProviderIs",n.userOrg.providerName))}}function xn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.changePlan())})),l._uU(1),l.ALo(2,"i18n"),l.qZA()}2&n&&(l.xp6(1),l.hij("\n        ",l.lcZ(2,1,"changeBillingPlan"),"\n      "))}function mn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"app-change-plan",38),l.NdJ("onChanged",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeChangePlan(!0))}))("onCanceled",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeChangePlan(!1))})),l.qZA()}if(2&n){const n=l.oxw(3);l.Q6J("organizationId",n.organizationId)}}function vn(n,i){if(1&n){const n=l.EpF();l.ynx(0),l._uU(1,"\n      "),l.TgZ(2,"div",39),l._uU(3,"\n        "),l.TgZ(4,"app-adjust-subscription",40),l.NdJ("onAdjusted",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.subscriptionAdjusted())})),l._uU(5,"\n        "),l.qZA(),l._uU(6,"\n      "),l.qZA(),l._uU(7,"\n    "),l.BQk()}if(2&n){const n=l.oxw(3);l.xp6(4),l.Q6J("seatPrice",n.seatPrice)("organizationId",n.organizationId)("interval",n.billingInterval)("currentSeatCount",n.seats)("maxAutoscaleSeats",n.maxAutoscaleSeats)}}function Sn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",41,42),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.removeSponsorship())})),l._uU(2,"\n      "),l._UZ(3,"i",13),l.ALo(4,"i18n"),l._uU(5,"\n      "),l.TgZ(6,"span"),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n    "),l.qZA()}if(2&n){const n=l.MAs(1),i=l.oxw(3);l.Q6J("appApiAction",i.removeSponsorshipPromise)("disabled",n.loading),l.xp6(3),l.s9C("title",l.lcZ(4,4,"loading")),l.xp6(4),l.Oqu(l.lcZ(8,6,"removeSponsorship"))}}function wn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"div",24),l._uU(1,"\n          "),l.TgZ(2,"button",37),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(4);return l.KtG(i.adjustStorage(!0))})),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n          "),l.TgZ(6,"button",45),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(4);return l.KtG(i.adjustStorage(!1))})),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n        "),l.qZA()}2&n&&(l.xp6(3),l.hij("\n            ",l.lcZ(4,2,"addStorage"),"\n          "),l.xp6(4),l.hij("\n            ",l.lcZ(8,4,"removeStorage"),"\n          "))}function Tn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"app-adjust-storage",46),l.NdJ("onAdjusted",(function(){l.CHM(n);const i=l.oxw(4);return l.KtG(i.closeStorage(!0))}))("onCanceled",(function(){l.CHM(n);const i=l.oxw(4);return l.KtG(i.closeStorage(!1))})),l.qZA()}if(2&n){const n=l.oxw(4);l.Q6J("storageGbPrice",n.storageGbPrice)("add",n.adjustStorageAdd)("organizationId",n.organizationId)("interval",n.billingInterval)}}function Cn(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n      "),l.TgZ(2,"div",39),l._uU(3,"\n        "),l.YNc(4,wn,10,6,"div",43),l._uU(5,"\n        "),l.YNc(6,Tn,1,4,"app-adjust-storage",44),l._uU(7,"\n      "),l.qZA(),l._uU(8,"\n    "),l.BQk()),2&n){const n=l.oxw(3);l.xp6(4),l.Q6J("ngIf",!n.showAdjustStorage),l.xp6(2),l.Q6J("ngIf",n.showAdjustStorage)}}function qn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",47),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.downloadLicense())})),l._uU(1),l.ALo(2,"i18n"),l.qZA()}if(2&n){const n=l.oxw(3);l.Q6J("disabled",n.showDownloadLicense),l.xp6(1),l.hij("\n        ",l.lcZ(2,2,"downloadLicense"),"\n      ")}}function Ln(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",45),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.manageBillingSync())})),l._uU(1),l.ALo(2,"i18n"),l.qZA()}if(2&n){const n=l.oxw(3);l.xp6(1),l.hij("\n        ",l.lcZ(2,1,n.hasBillingSyncToken?"manageBillingSync":"setUpBillingSync"),"\n      ")}}function kn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"div",39),l._uU(1,"\n      "),l.TgZ(2,"app-download-license",48),l.NdJ("onDownloaded",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeDownloadLicense())}))("onCanceled",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeDownloadLicense())})),l.qZA(),l._uU(3,"\n    "),l.qZA()}if(2&n){const n=l.oxw(3);l.xp6(2),l.Q6J("organizationId",n.organizationId)}}function In(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"button",49,50),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.cancel())})),l._uU(2,"\n        "),l._UZ(3,"i",13),l.ALo(4,"i18n"),l._uU(5,"\n        "),l.TgZ(6,"span"),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n      "),l.qZA()}if(2&n){const n=l.MAs(1),i=l.oxw(3);l.Q6J("appApiAction",i.cancelPromise)("disabled",n.loading),l.xp6(3),l.s9C("title",l.lcZ(4,4,"loading")),l.xp6(4),l.Oqu(l.lcZ(8,6,"cancelSubscription"))}}const Jn=function(n){return{width:n}};function Mn(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n    "),l.TgZ(2,"div",14),l._uU(3,"\n      "),l.TgZ(4,"div",15),l._uU(5,"\n        "),l.TgZ(6,"dl"),l._uU(7,"\n          "),l.TgZ(8,"dt"),l._uU(9),l.ALo(10,"i18n"),l.qZA(),l._uU(11,"\n          "),l.TgZ(12,"dd"),l._uU(13),l.qZA(),l._uU(14,"\n          "),l.YNc(15,_n,23,15,"ng-container",1),l._uU(16,"\n        "),l.qZA(),l._uU(17,"\n      "),l.qZA(),l._uU(18,"\n      "),l.YNc(19,yn,14,4,"div",16),l._uU(20,"\n      "),l.YNc(21,An,16,7,"ng-container",1),l._uU(22,"\n    "),l.qZA(),l._uU(23,"\n    "),l.ynx(24),l._uU(25,"\n      "),l.YNc(26,xn,3,3,"button",17),l._uU(27,"\n      "),l.YNc(28,mn,1,1,"app-change-plan",18),l._uU(29,"\n    "),l.BQk(),l._uU(30,"\n    "),l.TgZ(31,"h2",19),l._uU(32),l.ALo(33,"i18n"),l.qZA(),l._uU(34,"\n    "),l.TgZ(35,"p",20),l._uU(36),l.qZA(),l._uU(37,"\n    "),l.YNc(38,vn,8,5,"ng-container",1),l._uU(39,"\n    "),l.YNc(40,Sn,10,8,"button",21),l._uU(41,"\n    "),l.TgZ(42,"h2",19),l._uU(43),l.ALo(44,"i18n"),l.qZA(),l._uU(45,"\n    "),l.TgZ(46,"p"),l._uU(47),l.ALo(48,"i18n"),l.qZA(),l._uU(49,"\n    "),l.TgZ(50,"div",22),l._uU(51,"\n      "),l.TgZ(52,"div",23),l._uU(53),l.ALo(54,"percent"),l.qZA(),l._uU(55,"\n    "),l.qZA(),l._uU(56,"\n    "),l.YNc(57,Cn,9,2,"ng-container",1),l._uU(58,"\n    "),l._uU(59,"\n    "),l.TgZ(60,"h2",19),l._uU(61),l.ALo(62,"i18n"),l.qZA(),l._uU(63,"\n    "),l.TgZ(64,"p",20),l._uU(65),l.ALo(66,"i18n"),l.qZA(),l._uU(67,"\n    "),l.TgZ(68,"div",24),l._uU(69,"\n      "),l.YNc(70,qn,3,4,"button",25),l._uU(71,"\n      "),l.YNc(72,Ln,3,3,"button",26),l._uU(73,"\n    "),l.qZA(),l._uU(74,"\n    "),l.YNc(75,kn,4,1,"div",27),l._uU(76,"\n    "),l.TgZ(77,"h2",19),l._uU(78),l.ALo(79,"i18n"),l.qZA(),l._uU(80,"\n    "),l.TgZ(81,"p",20),l._uU(82),l.ALo(83,"i18n"),l.qZA(),l._uU(84,"\n    "),l.TgZ(85,"div",24),l._uU(86,"\n      "),l.YNc(87,In,10,8,"button",28),l._uU(88,"\n    "),l.qZA(),l._uU(89,"\n  "),l.BQk()),2&n){const n=l.oxw(2);l.xp6(9),l.Oqu(l.lcZ(10,25,"billingPlan")),l.xp6(4),l.Oqu(n.sub.plan.name),l.xp6(2),l.Q6J("ngIf",n.subscription),l.xp6(4),l.Q6J("ngIf",n.subscription),l.xp6(2),l.Q6J("ngIf",null!=(null==n.userOrg?null:n.userOrg.providerId)),l.xp6(5),l.Q6J("ngIf",n.showChangePlanButton),l.xp6(2),l.Q6J("ngIf",n.showChangePlan),l.xp6(4),l.Oqu(l.lcZ(33,27,"manageSubscription")),l.xp6(4),l.Oqu(n.subscriptionDesc),l.xp6(2),l.Q6J("ngIf",n.subscription&&n.canAdjustSeats&&!n.subscription.cancelled&&!n.subscriptionMarkedForCancel),l.xp6(2),l.Q6J("ngIf",n.isSponsoredSubscription),l.xp6(3),l.Oqu(l.lcZ(44,29,"storage")),l.xp6(4),l.Oqu(l.Dn7(48,31,"subscriptionStorage",n.sub.maxStorageGb||0,n.sub.storageName||"0 MB")),l.xp6(5),l.Q6J("ngStyle",l.VKq(45,Jn,n.storageProgressWidth+"%")),l.uIk("aria-valuenow",n.storagePercentage),l.xp6(1),l.hij("\n        ",l.lcZ(54,35,n.storagePercentage/100),"\n      "),l.xp6(4),l.Q6J("ngIf",n.subscription&&!n.subscription.cancelled&&!n.subscriptionMarkedForCancel),l.xp6(4),l.Oqu(l.lcZ(62,37,"selfHostingTitle")),l.xp6(4),l.hij("\n      ",l.lcZ(66,39,"selfHostingEnterpriseOrganizationSectionCopy"),"\n    "),l.xp6(5),l.Q6J("ngIf",n.canDownloadLicense),l.xp6(2),l.Q6J("ngIf",n.canManageBillingSync),l.xp6(3),l.Q6J("ngIf",n.showDownloadLicense),l.xp6(3),l.Oqu(l.lcZ(79,41,"additionalOptions")),l.xp6(4),l.hij("\n      ",l.lcZ(83,43,"additionalOptionsDesc"),"\n    "),l.xp6(5),l.Q6J("ngIf",n.subscription&&!n.subscription.cancelled&&!n.subscriptionMarkedForCancel)}}function Bn(n,i){1&n&&(l.TgZ(0,"span",54),l._uU(1,"\n          "),l._UZ(2,"i",55),l._uU(3),l.ALo(4,"i18n"),l.qZA()),2&n&&(l.xp6(3),l.hij("\n          ",l.lcZ(4,1,"licenseIsExpired"),"\n        "))}function Qn(n,i){if(1&n&&(l.TgZ(0,"dd"),l._uU(1),l.ALo(2,"date"),l.YNc(3,Bn,5,3,"span",53),l._uU(4,"\n      "),l.qZA()),2&n){const n=l.oxw(3);l.xp6(1),l.hij("\n        ",l.xi3(2,2,n.sub.expiration,"mediumDate"),"\n        "),l.xp6(2),l.Q6J("ngIf",n.isExpired)}}function Pn(n,i){1&n&&(l.TgZ(0,"dd"),l._uU(1),l.ALo(2,"i18n"),l.qZA()),2&n&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"neverExpires")))}function Nn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"div",56),l._uU(1,"\n      "),l.TgZ(2,"div",57),l._uU(3,"\n        "),l.TgZ(4,"button",58),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeUpdateLicense(!1))})),l.ALo(5,"i18n"),l._uU(6,"\n          "),l.TgZ(7,"span",59),l._uU(8,"×"),l.qZA(),l._uU(9,"\n        "),l.qZA(),l._uU(10,"\n        "),l.TgZ(11,"h3",60),l._uU(12),l.ALo(13,"i18n"),l.qZA(),l._uU(14,"\n        "),l.TgZ(15,"app-update-license",61),l.NdJ("onUpdated",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeUpdateLicense(!0))}))("onCanceled",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.closeUpdateLicense(!1))})),l.qZA(),l._uU(16,"\n      "),l.qZA(),l._uU(17,"\n    "),l.qZA()}if(2&n){const n=l.oxw(3);l.xp6(4),l.s9C("appA11yTitle",l.lcZ(5,3,"cancel")),l.xp6(8),l.Oqu(l.lcZ(13,5,"updateLicense")),l.xp6(3),l.Q6J("organizationId",n.organizationId)}}function On(n,i){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"date"),l.qZA()),2&n){const n=l.oxw(5);l.xp6(1),l.hij("\n          ",l.xi3(2,1,n.userOrg.familySponsorshipLastSyncDate,"medium"),"\n        ")}}function jn(n,i){1&n&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"lowercase"),l.ALo(3,"i18n"),l.qZA()),2&n&&(l.xp6(1),l.hij("\n          ",l.lcZ(2,1,l.lcZ(3,3,"never")),"\n        "))}function Yn(n,i){if(1&n&&(l.TgZ(0,"small",64),l._uU(1),l.ALo(2,"i18n"),l.YNc(3,On,3,4,"span",1),l._uU(4,"\n        "),l.YNc(5,jn,4,5,"span",1),l._uU(6,"\n      "),l.qZA()),2&n){const n=l.oxw(4);l.xp6(1),l.hij("\n        ",l.lcZ(2,3,"lastSync"),":\n        "),l.xp6(2),l.Q6J("ngIf",null!=n.userOrg.familySponsorshipLastSyncDate),l.xp6(2),l.Q6J("ngIf",null==n.userOrg.familySponsorshipLastSyncDate)}}function Kn(n,i){if(1&n){const n=l.EpF();l.TgZ(0,"div"),l._uU(1,"\n      "),l.TgZ(2,"h2",62),l._uU(3),l.ALo(4,"i18n"),l.qZA(),l._uU(5,"\n      "),l.TgZ(6,"p"),l._uU(7),l.ALo(8,"i18n"),l.qZA(),l._uU(9,"\n      "),l.TgZ(10,"button",37),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.manageBillingSyncSelfHosted())})),l._uU(11),l.ALo(12,"i18n"),l.qZA(),l._uU(13,"\n      "),l.YNc(14,Yn,7,5,"small",63),l._uU(15,"\n    "),l.qZA()}if(2&n){const n=l.oxw(3);l.xp6(3),l.hij("\n        ",l.lcZ(4,4,"billingSync"),"\n      "),l.xp6(4),l.hij("\n        ",l.lcZ(8,6,"billingSyncDesc"),"\n      "),l.xp6(4),l.hij("\n        ",l.lcZ(12,8,"manageBillingSync"),"\n      "),l.xp6(3),l.Q6J("ngIf",n.billingSyncSetUp)}}function zn(n,i){if(1&n){const n=l.EpF();l.ynx(0),l._uU(1,"\n    "),l.TgZ(2,"dl"),l._uU(3,"\n      "),l.TgZ(4,"dt"),l._uU(5),l.ALo(6,"i18n"),l.qZA(),l._uU(7,"\n      "),l.TgZ(8,"dd"),l._uU(9),l.qZA(),l._uU(10,"\n      "),l.TgZ(11,"dt"),l._uU(12),l.ALo(13,"i18n"),l.qZA(),l._uU(14,"\n      "),l.YNc(15,Qn,5,5,"dd",1),l._uU(16,"\n      "),l.YNc(17,Pn,3,3,"dd",1),l._uU(18,"\n    "),l.qZA(),l._uU(19,"\n    "),l.TgZ(20,"div"),l._uU(21,"\n      "),l.TgZ(22,"button",37),l.NdJ("click",(function(){l.CHM(n);const i=l.oxw(2);return l.KtG(i.updateLicense())})),l._uU(23),l.ALo(24,"i18n"),l.qZA(),l._uU(25,"\n      "),l.TgZ(26,"a",51),l._uU(27),l.ALo(28,"i18n"),l.qZA(),l._uU(29,"\n    "),l.qZA(),l._uU(30,"\n    "),l.YNc(31,Nn,18,7,"div",52),l._uU(32,"\n    "),l.YNc(33,Kn,16,10,"div",1),l._uU(34,"\n  "),l.BQk()}if(2&n){const n=l.oxw(2);l.xp6(5),l.Oqu(l.lcZ(6,9,"billingPlan")),l.xp6(4),l.Oqu(n.sub.plan.name),l.xp6(3),l.Oqu(l.lcZ(13,11,"expiration")),l.xp6(3),l.Q6J("ngIf",n.sub.expiration),l.xp6(2),l.Q6J("ngIf",!n.sub.expiration),l.xp6(6),l.hij("\n        ",l.lcZ(24,13,"updateLicense"),"\n      "),l.xp6(4),l.hij("\n        ",l.lcZ(28,15,"manageSubscription"),"\n      "),l.xp6(4),l.Q6J("ngIf",n.showUpdateLicense),l.xp6(2),l.Q6J("ngIf",n.showBillingSyncKey)}}function Dn(n,i){if(1&n&&(l.ynx(0),l._uU(1,"\n  "),l.YNc(2,Zn,4,6,"app-callout",9),l._uU(3,"\n  "),l.YNc(4,bn,18,14,"app-callout",9),l._uU(5,"\n  "),l.YNc(6,Mn,90,47,"ng-container",1),l._uU(7,"\n  "),l.YNc(8,zn,35,17,"ng-container",1),l._uU(9,"\n"),l.BQk()),2&n){const n=l.oxw();l.xp6(2),l.Q6J("ngIf",n.subscription&&n.subscription.cancelled),l.xp6(2),l.Q6J("ngIf",n.subscriptionMarkedForCancel),l.xp6(2),l.Q6J("ngIf",!n.selfHosted),l.xp6(2),l.Q6J("ngIf",n.selfHosted)}}function Fn(n,i){}function Gn(n,i){}class Rn{constructor(n,i,t,e,H,o,s,a,c){this.apiService=n,this.platformUtilsService=i,this.i18nService=t,this.messagingService=e,this.route=H,this.organizationService=o,this.logService=s,this.modalService=a,this.organizationApiService=c,this.loading=!1,this.firstLoaded=!1,this.adjustSeatsAdd=!0,this.showAdjustSeats=!1,this.showAdjustSeatAutoscale=!1,this.adjustStorageAdd=!0,this.showAdjustStorage=!1,this.showUpdateLicense=!1,this.showBillingSyncKey=!1,this.showDownloadLicense=!1,this.showChangePlan=!1,this.selfHosted=!1,this.selfHosted=i.isSelfHost()}ngOnInit(){return rn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((n=>rn(this,void 0,void 0,(function*(){this.organizationId=n.organizationId,yield this.load(),this.firstLoaded=!0}))))}))}load(){return rn(this,void 0,void 0,(function*(){if(this.loading)return;this.loading=!0,this.userOrg=yield this.organizationService.get(this.organizationId),this.userOrg.canManageBilling&&(this.sub=yield this.organizationApiService.getSubscription(this.organizationId));const n=yield this.organizationApiService.getApiKeyInformation(this.organizationId);this.hasBillingSyncToken=n.data.some((n=>n.keyType===x.x.BillingSync)),this.selfHosted&&(this.showBillingSyncKey=yield this.apiService.getCloudCommunicationsEnabled()),this.showBillingSyncKey&&(this.existingBillingSyncConnection=yield this.apiService.getOrganizationConnection(this.organizationId,m.q.CloudBillingSync,w)),this.loading=!1}))}reinstate(){return rn(this,void 0,void 0,(function*(){if(this.loading)return;if(yield this.platformUtilsService.showDialog(this.i18nService.t("reinstateConfirmation"),this.i18nService.t("reinstateSubscription"),this.i18nService.t("yes"),this.i18nService.t("cancel")))try{this.reinstatePromise=this.organizationApiService.reinstate(this.organizationId),yield this.reinstatePromise,this.platformUtilsService.showToast("success",null,this.i18nService.t("reinstated")),this.load()}catch(n){this.logService.error(n)}}))}cancel(){return rn(this,void 0,void 0,(function*(){if(this.loading)return;if(yield this.platformUtilsService.showDialog(this.i18nService.t("cancelConfirmation"),this.i18nService.t("cancelSubscription"),this.i18nService.t("yes"),this.i18nService.t("no"),"warning"))try{this.cancelPromise=this.organizationApiService.cancel(this.organizationId),yield this.cancelPromise,this.platformUtilsService.showToast("success",null,this.i18nService.t("canceledSubscription")),this.load()}catch(n){this.logService.error(n)}}))}changePlan(){return rn(this,void 0,void 0,(function*(){this.showChangePlan=!this.showChangePlan}))}closeChangePlan(n){this.showChangePlan=!1}downloadLicense(){this.showDownloadLicense=!this.showDownloadLicense}manageBillingSync(){return rn(this,void 0,void 0,(function*(){const[n]=yield this.modalService.openViewRef(en,this.setupBillingSyncModalRef,(n=>{n.organizationId=this.organizationId,n.hasBillingToken=this.hasBillingSyncToken}));n.onClosed.subscribe((()=>rn(this,void 0,void 0,(function*(){yield this.load()}))))}))}closeDownloadLicense(){this.showDownloadLicense=!1}updateLicense(){this.loading||(this.showUpdateLicense=!0)}closeUpdateLicense(n){this.showUpdateLicense=!1,n&&(this.load(),this.messagingService.send("updatedOrgLicense"))}subscriptionAdjusted(){this.load()}adjustStorage(n){this.adjustStorageAdd=n,this.showAdjustStorage=!0}closeStorage(n){this.showAdjustStorage=!1,n&&this.load()}removeSponsorship(){return rn(this,void 0,void 0,(function*(){if(yield this.platformUtilsService.showDialog(this.i18nService.t("removeSponsorshipConfirmation"),this.i18nService.t("removeSponsorship"),this.i18nService.t("remove"),this.i18nService.t("cancel"),"warning"))try{this.removeSponsorshipPromise=this.apiService.deleteRemoveSponsorship(this.organizationId),yield this.removeSponsorshipPromise,this.platformUtilsService.showToast("success",null,this.i18nService.t("removeSponsorshipSuccess")),yield this.load()}catch(n){this.logService.error(n)}}))}manageBillingSyncSelfHosted(){return rn(this,void 0,void 0,(function*(){this.billingSyncKeyRef=yield this.modalService.openViewRef(P,this.billingSyncKeyViewContainerRef,(n=>{var i,t,e;n.entityId=this.organizationId,n.existingConnectionId=null===(i=this.existingBillingSyncConnection)||void 0===i?void 0:i.id,n.billingSyncKey=null===(e=null===(t=this.existingBillingSyncConnection)||void 0===t?void 0:t.config)||void 0===e?void 0:e.billingSyncKey,n.setParentConnection=n=>{this.existingBillingSyncConnection=n,this.billingSyncKeyRef[0].close()}}))}))}get isExpired(){return null!=this.sub&&null!=this.sub.expiration&&new Date(this.sub.expiration)<new Date}get subscriptionMarkedForCancel(){return null!=this.subscription&&!this.subscription.cancelled&&this.subscription.cancelAtEndDate}get subscription(){return null!=this.sub?this.sub.subscription:null}get nextInvoice(){return null!=this.sub?this.sub.upcomingInvoice:null}get storagePercentage(){return null!=this.sub&&this.sub.maxStorageGb?+(this.sub.storageGb/this.sub.maxStorageGb*100).toFixed(2):0}get storageProgressWidth(){return this.storagePercentage<5?5:0}get billingInterval(){return!this.sub.plan.isAnnual?"month":"year"}get storageGbPrice(){return this.sub.plan.additionalStoragePricePerGb}get seatPrice(){return this.sub.plan.seatPrice}get seats(){return this.sub.seats}get maxAutoscaleSeats(){return this.sub.maxAutoscaleSeats}get canAdjustSeats(){return this.sub.plan.hasAdditionalSeatsOption}get isSponsoredSubscription(){var n;return null===(n=this.sub.subscription)||void 0===n?void 0:n.items.some((n=>n.sponsoredSubscriptionItem))}get canDownloadLicense(){return this.sub.planType!==v.k.Free&&null==this.subscription||null!=this.subscription&&!this.subscription.cancelled}get canManageBillingSync(){return!this.selfHosted&&(this.sub.planType===v.k.EnterpriseAnnually||this.sub.planType===v.k.EnterpriseMonthly||this.sub.planType===v.k.EnterpriseAnnually2019||this.sub.planType===v.k.EnterpriseMonthly2019)}get subscriptionDesc(){return this.sub.planType===v.k.Free?this.i18nService.t("subscriptionFreePlan",this.sub.seats.toString()):this.sub.planType===v.k.FamiliesAnnually||this.sub.planType===v.k.FamiliesAnnually2019?this.isSponsoredSubscription?this.i18nService.t("subscriptionSponsoredFamiliesPlan",this.sub.seats.toString()):this.i18nService.t("subscriptionFamiliesPlan",this.sub.seats.toString()):this.sub.maxAutoscaleSeats===this.sub.seats&&null!=this.sub.seats?this.i18nService.t("subscriptionMaxReached",this.sub.seats.toString()):null==this.sub.maxAutoscaleSeats?this.i18nService.t("subscriptionUserSeatsUnlimitedAutoscale"):this.i18nService.t("subscriptionUserSeatsLimitedAutoscale",this.sub.maxAutoscaleSeats.toString())}get showChangePlanButton(){return null==this.subscription&&this.sub.planType===v.k.Free&&!this.showChangePlan}get billingSyncSetUp(){var n;return null!=(null===(n=this.existingBillingSyncConnection)||void 0===n?void 0:n.id)}}Rn.ɵfac=function(n){return new(n||Rn)(l.Y36(q.s),l.Y36(j.P),l.Y36(Y.D),l.Y36(Hn.o),l.Y36(o.gz),l.Y36(on.M),l.Y36(L.$),l.Y36(A.Z),l.Y36(r.M))},Rn.ɵcmp=l.Xpm({type:Rn,selectors:[["app-org-subscription"]],viewQuery:function(n,i){if(1&n&&(l.Gf(un,7,l.s_b),l.Gf(dn,7,l.s_b)),2&n){let n;l.iGM(n=l.CRH())&&(i.setupBillingSyncModalRef=n.first),l.iGM(n=l.CRH())&&(i.billingSyncKeyViewContainerRef=n.first)}},decls:21,vars:7,consts:[[1,"page-header"],[4,"ngIf"],["setupBillingSyncTemplate",""],["rotateBillingSyncKeyTemplate",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-text-info"],[1,"tw-font-bold"],["type","warning",3,"title",4,"ngIf"],["type","warning",3,"title"],["type","button",1,"btn","btn-outline-secondary","btn-submit",3,"appApiAction","disabled","click"],["reinstateBtn",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"],[1,"row"],[1,"col-4"],["class","col-8",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[3,"organizationId","onChanged","onCanceled",4,"ngIf"],[1,"spaced-header"],[1,"mb-4"],["type","button","class","btn btn-outline-danger btn-submit",3,"appApiAction","disabled","click",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",3,"ngStyle"],[1,"d-flex"],["type","button","class","btn btn-outline-secondary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-secondary ml-1",3,"click",4,"ngIf"],["class","mt-3",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-submit ml-1",3,"appApiAction","disabled","click",4,"ngIf"],[1,"text-capitalize"],["bitBadge","","badgeType","warning",4,"ngIf"],["bitBadge","","badgeType","warning"],[1,"col-8"],[1,"d-block","mb-1"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-sm"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"organizationId","onChanged","onCanceled"],[1,"mt-3"],[3,"seatPrice","organizationId","interval","currentSeatCount","maxAutoscaleSeats","onAdjusted"],["type","button",1,"btn","btn-outline-danger","btn-submit",3,"appApiAction","disabled","click"],["removeSponsorshipBtn",""],["class","d-flex",4,"ngIf"],[3,"storageGbPrice","add","organizationId","interval","onAdjusted","onCanceled",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","ml-1",3,"click"],[3,"storageGbPrice","add","organizationId","interval","onAdjusted","onCanceled"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],[3,"organizationId","onDownloaded","onCanceled"],["type","button",1,"btn","btn-outline-danger","btn-submit","ml-1",3,"appApiAction","disabled","click"],["cancelBtn",""],["href","https://vault.bitwarden.com","target","_blank","rel","noopener",1,"btn","btn-outline-secondary"],["class","card mt-3",4,"ngIf"],["class","text-danger ml-2",4,"ngIf"],[1,"text-danger","ml-2"],["aria-hidden","true",1,"bwi","bwi-exclamation-triangle"],[1,"card","mt-3"],[1,"card-body"],["type","button",1,"close",3,"appA11yTitle","click"],["aria-hidden","true"],[1,"card-body-header"],[3,"organizationId","onUpdated","onCanceled"],[1,"mt-5"],["class","form-text text-muted",4,"ngIf"],[1,"form-text","text-muted"]],template:function(n,i){1&n&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"h1"),l._uU(3),l.ALo(4,"i18n"),l.YNc(5,pn,9,6,"small",1),l._uU(6,"\n  "),l.qZA(),l._uU(7,"\n"),l.qZA(),l._uU(8,"\n"),l.YNc(9,gn,9,6,"ng-container",1),l._uU(10,"\n\n"),l.YNc(11,hn,15,7,"ng-container",1),l._uU(12,"\n\n"),l.YNc(13,Dn,10,4,"ng-container",1),l._uU(14,"\n"),l.YNc(15,Fn,0,0,"ng-template",null,2,l.W1O),l._uU(17,"\n"),l.YNc(18,Gn,0,0,"ng-template",null,3,l.W1O),l._uU(20,"\n")),2&n&&(l.xp6(3),l.hij("\n    ",l.lcZ(4,5,"subscription"),"\n    "),l.xp6(2),l.Q6J("ngIf",i.firstLoaded&&i.loading),l.xp6(4),l.Q6J("ngIf",!i.firstLoaded&&i.loading),l.xp6(2),l.Q6J("ngIf",i.firstLoaded&&!i.userOrg.canManageBilling),l.xp6(2),l.Q6J("ngIf",i.sub))},dependencies:[u.sg,u.O5,u.PC,I.B,J.b,K.O,sn.l,an.H,cn.$,ln,u.i8,u.Zx,u.H9,u.uU,g.C],encapsulation:2});const En=[{path:"",component:y,canActivate:[a.G],data:{organizationPermissions:c.pF},children:[{path:"",pathMatch:"full",redirectTo:"subscription"},{path:"subscription",component:Rn,data:{titleId:"subscription"}},{path:"payment-method",component:s.Z,data:{titleId:"paymentMethod"}},{path:"history",component:f,data:{titleId:"billingHistory"}}]}];class Vn{}Vn.ɵfac=function(n){return new(n||Vn)},Vn.ɵmod=l.oAB({type:Vn}),Vn.ɵinj=l.cJS({imports:[o.Bz.forChild(En),o.Bz]});class $n{}$n.ɵfac=function(n){return new(n||$n)},$n.ɵmod=l.oAB({type:$n}),$n.ɵinj=l.cJS({imports:[H.m,e.f,Vn]})}}]);
//# sourceMappingURL=367.d99a202a9bbc24878d38.js.map