"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[440],{46440:(n,t,i)=>{i.r(t),i.d(t,{OrganizationReportingModule:()=>vt});var e=i(64668),o=i(88085),a=i(15061),s=i(10926),r=i(19576),u=i(95479),c=i(25754),p=i(24852),l=i(55602),g=i(94820),d=i(14424),U=i(32100),_=i(27885),Z=i(41320),h=i(17559),f=i(86290),A=i(19419),x=i(98645),m=i(24610),b=i(17404),v=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function q(n,t){1&n&&(p.ynx(0),p._uU(1,"\n  "),p._UZ(2,"i",16),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",17),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function w(n,t){1&n&&(p.TgZ(0,"p"),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"noEventsInList")))}function T(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n        "),p.TgZ(2,"td"),p._uU(3),p.ALo(4,"date"),p.qZA(),p._uU(5,"\n        "),p.TgZ(6,"td"),p._uU(7,"\n          "),p._UZ(8,"i",26),p._uU(9,"\n          "),p.TgZ(10,"span",17),p._uU(11),p.qZA(),p._uU(12,"\n        "),p.qZA(),p._uU(13,"\n        "),p.TgZ(14,"td"),p._uU(15,"\n          "),p.TgZ(16,"span",27),p._uU(17),p.qZA(),p._uU(18,"\n        "),p.qZA(),p._uU(19,"\n        "),p._UZ(20,"td",28),p._uU(21,"\n      "),p.qZA()),2&n){const n=t.$implicit;p.xp6(3),p.Oqu(p.xi3(4,11,n.date,"medium")),p.xp6(5),p.Gre("text-muted bwi bwi-lg ",n.appIcon,""),p.hYB("title","",n.appName,", ",n.ip,""),p.xp6(3),p.AsE("",n.appName,", ",n.ip,""),p.xp6(5),p.s9C("title",n.userEmail),p.xp6(1),p.Oqu(n.userName),p.xp6(3),p.Q6J("innerHTML",n.message,p.oJD)}}function I(n,t){if(1&n&&(p.TgZ(0,"table",20),p._uU(1,"\n    "),p.TgZ(2,"thead"),p._uU(3,"\n      "),p.TgZ(4,"tr"),p._uU(5,"\n        "),p.TgZ(6,"th",21),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n        "),p.TgZ(10,"th",22),p._uU(11,"\n          "),p.TgZ(12,"span",17),p._uU(13),p.ALo(14,"i18n"),p.qZA(),p._uU(15,"\n        "),p.qZA(),p._uU(16,"\n        "),p.TgZ(17,"th",23),p._uU(18),p.ALo(19,"i18n"),p.qZA(),p._uU(20,"\n        "),p.TgZ(21,"th",24),p._uU(22),p.ALo(23,"i18n"),p.qZA(),p._uU(24,"\n      "),p.qZA(),p._uU(25,"\n    "),p.qZA(),p._uU(26,"\n    "),p.TgZ(27,"tbody"),p._uU(28,"\n      "),p.YNc(29,T,22,14,"tr",25),p._uU(30,"\n    "),p.qZA(),p._uU(31,"\n  "),p.qZA()),2&n){const n=p.oxw(2);p.xp6(7),p.Oqu(p.lcZ(8,5,"timestamp")),p.xp6(6),p.Oqu(p.lcZ(14,7,"device")),p.xp6(5),p.Oqu(p.lcZ(19,9,"user")),p.xp6(4),p.Oqu(p.lcZ(23,11,"event")),p.xp6(7),p.Q6J("ngForOf",n.events)}}function O(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"button",29,30),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw(2);return p.KtG(t.loadEvents(!1))})),p._uU(2,"\n    "),p._UZ(3,"i",31),p.ALo(4,"i18n"),p._uU(5,"\n    "),p.TgZ(6,"span"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n  "),p.qZA()}if(2&n){const n=p.MAs(1),t=p.oxw(2);p.Q6J("appApiAction",t.morePromise)("disabled",t.loaded&&n.loading),p.xp6(3),p.s9C("title",p.lcZ(4,4,"loading")),p.xp6(4),p.Oqu(p.lcZ(8,6,"loadMore"))}}function L(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n  "),p.YNc(2,w,3,3,"p",15),p._uU(3,"\n  "),p.YNc(4,I,32,13,"table",18),p._uU(5,"\n  "),p.YNc(6,O,10,8,"button",19),p._uU(7,"\n"),p.BQk()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.events||!n.events.length),p.xp6(2),p.Q6J("ngIf",n.events&&n.events.length),p.xp6(2),p.Q6J("ngIf",n.continuationToken)}}const y=function(n){return{"bwi-spin":n}},Y=function(n){return{loading:n}};class C extends u.i{constructor(n,t,i,e,o,a,s,r,u,c,p,l){super(i,e,o,a,r,l),this.apiService=n,this.route=t,this.router=s,this.userNamePipe=u,this.organizationService=c,this.providerService=p,this.exportFileName="org-events",this.orgUsersUserIdMap=new Map}ngOnInit(){return v(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((n=>v(this,void 0,void 0,(function*(){this.organizationId=n.organizationId,this.organization=yield this.organizationService.get(this.organizationId),null!=this.organization&&this.organization.useEvents?yield this.load():this.router.navigate(["/organizations",this.organizationId])}))))}))}load(){return v(this,void 0,void 0,(function*(){if((yield this.apiService.getOrganizationUsers(this.organizationId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:t,email:n.email})})),null!=this.organization.providerId)try{if(null!=(yield this.providerService.get(this.organization.providerId))&&(yield this.providerService.get(this.organization.providerId)).canManageUsers){(yield this.apiService.getProviderUsers(this.organization.providerId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:`${t} (${this.organization.providerName})`,email:n.email})}))}}catch(n){this.logService.warning(n)}yield this.loadEvents(!0),this.loaded=!0}))}requestEvents(n,t,i){return this.apiService.getEventsOrganization(this.organizationId,n,t,i)}getUserName(n,t){return null==t?null:this.orgUsersUserIdMap.has(t)?this.orgUsersUserIdMap.get(t):null!=n.providerId&&n.providerId===this.organization.providerId?{name:this.organization.providerName}:null}}C.ɵfac=function(n){return new(n||C)(p.Y36(l.s),p.Y36(a.gz),p.Y36(c.PO),p.Y36(g.D),p.Y36(d.T),p.Y36(U.P),p.Y36(a.F0),p.Y36(_.$),p.Y36(r.z),p.Y36(Z.M),p.Y36(h.H),p.Y36(f._))},C.ɵcmp=p.Xpm({type:C,selectors:[["app-org-events"]],features:[p.qOj],decls:57,vars:35,consts:[[1,"page-header","d-flex"],[1,"ml-auto","d-flex"],[1,"form-inline"],["for","start",1,"sr-only"],["type","datetime-local","id","start","placeholder","YYYY-MM-DDTHH:MM",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange","change"],[1,"mx-2"],["for","end",1,"sr-only"],["type","datetime-local","id","end","placeholder","YYYY-MM-DDTHH:MM",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange","change"],[1,"d-inline",3,"appApiAction"],["refreshForm",""],["type","button",1,"btn","btn-sm","btn-outline-primary","ml-3",3,"disabled","click"],["aria-hidden","true",1,"bwi","bwi-refresh","bwi-fw",3,"ngClass"],["exportForm",""],["type","button",1,"btn","btn-sm","btn-outline-primary","btn-submit","manual","ml-3",3,"ngClass","disabled","click"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin"],[4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],["class","table table-hover",4,"ngIf"],["type","button","class","btn btn-block btn-link btn-submit",3,"appApiAction","disabled","click",4,"ngIf"],[1,"table","table-hover"],["width","210",1,"border-top-0"],["width","40",1,"border-top-0"],["width","150",1,"border-top-0"],[1,"border-top-0"],[4,"ngFor","ngForOf"],["aria-hidden","true",3,"title"],[3,"title"],[3,"innerHTML"],["type","button",1,"btn","btn-block","btn-link","btn-submit",3,"appApiAction","disabled","click"],["moreBtn",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"]],template:function(n,t){if(1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n  "),p.TgZ(6,"div",1),p._uU(7,"\n    "),p.TgZ(8,"div",2),p._uU(9,"\n      "),p.TgZ(10,"label",3),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n      "),p.TgZ(14,"input",4),p.NdJ("ngModelChange",(function(n){return t.start=n}))("change",(function(){return t.dirtyDates=!0})),p.ALo(15,"i18n"),p.qZA(),p._uU(16,"\n      "),p.TgZ(17,"span",5),p._uU(18,"-"),p.qZA(),p._uU(19,"\n      "),p.TgZ(20,"label",6),p._uU(21),p.ALo(22,"i18n"),p.qZA(),p._uU(23,"\n      "),p.TgZ(24,"input",7),p.NdJ("ngModelChange",(function(n){return t.end=n}))("change",(function(){return t.dirtyDates=!0})),p.ALo(25,"i18n"),p.qZA(),p._uU(26,"\n    "),p.qZA(),p._uU(27,"\n    "),p.TgZ(28,"form",8,9),p._uU(30,"\n      "),p.TgZ(31,"button",10),p.NdJ("click",(function(){return t.loadEvents(!0)})),p._uU(32,"\n        "),p._UZ(33,"i",11),p._uU(34),p.ALo(35,"i18n"),p.qZA(),p._uU(36,"\n    "),p.qZA(),p._uU(37,"\n    "),p.TgZ(38,"form",8,12),p._uU(40,"\n      "),p.TgZ(41,"button",13),p.NdJ("click",(function(){return t.exportEvents()})),p._uU(42,"\n        "),p._UZ(43,"i",14),p._uU(44,"\n        "),p.TgZ(45,"span"),p._uU(46),p.ALo(47,"i18n"),p.qZA(),p._uU(48,"\n      "),p.qZA(),p._uU(49,"\n    "),p.qZA(),p._uU(50,"\n  "),p.qZA(),p._uU(51,"\n"),p.qZA(),p._uU(52,"\n"),p.YNc(53,q,9,6,"ng-container",15),p._uU(54,"\n"),p.YNc(55,L,8,3,"ng-container",15),p._uU(56,"\n")),2&n){const n=p.MAs(29),i=p.MAs(39);p.xp6(3),p.Oqu(p.lcZ(4,17,"eventLogs")),p.xp6(8),p.Oqu(p.lcZ(12,19,"startDate")),p.xp6(3),p.s9C("placeholder",p.lcZ(15,21,"startDate")),p.Q6J("ngModel",t.start),p.xp6(7),p.Oqu(p.lcZ(22,23,"endDate")),p.xp6(3),p.s9C("placeholder",p.lcZ(25,25,"endDate")),p.Q6J("ngModel",t.end),p.xp6(4),p.Q6J("appApiAction",t.refreshPromise),p.xp6(3),p.Q6J("disabled",t.loaded&&n.loading),p.xp6(2),p.Q6J("ngClass",p.VKq(31,y,t.loaded&&n.loading)),p.xp6(1),p.hij("\n        ",p.lcZ(35,27,"refresh"),"\n      "),p.xp6(4),p.Q6J("appApiAction",t.exportPromise),p.xp6(3),p.Q6J("ngClass",p.VKq(33,Y,i.loading))("disabled",t.loaded&&i.loading||t.dirtyDates),p.xp6(5),p.Oqu(p.lcZ(47,29,"export")),p.xp6(7),p.Q6J("ngIf",!t.loaded),p.xp6(2),p.Q6J("ngIf",t.loaded)}},dependencies:[A.mk,A.sg,A.O5,x._Y,x.Fj,x.JJ,x.JL,x.On,x.F,m.b,A.uU,b.C],encapsulation:2});var J=i(27218),Q=i(77494),N=i(41173),z=i(3906),k=i(98438),M=i(11518),P=i(64184),S=i(82598),F=i(53707),j=i(29370),E=i(2051),B=i(12963),$=i(66385),D=i(67882),R=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function W(n,t){1&n&&(p.TgZ(0,"app-callout",7),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noExposedPasswords"),"\n  "))}function G(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n              "),p.TgZ(2,"a",18),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n            "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function H(n,t){if(1&n&&(p._uU(0,"\n              "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n            ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function X(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",19),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",20),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function K(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",21),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",20),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function V(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",11),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",12),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",13),p._uU(8,"\n            "),p.YNc(9,G,6,4,"ng-container",14),p._uU(10,"\n            "),p.YNc(11,H,4,1,"ng-template",null,15,p.W1O),p._uU(13,"\n            "),p.YNc(14,X,9,6,"ng-container",6),p._uU(15,"\n            "),p.YNc(16,K,9,6,"ng-container",6),p._uU(17,"\n            "),p._UZ(18,"br"),p._uU(19,"\n            "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n          "),p.qZA(),p._uU(23,"\n          "),p.TgZ(24,"td",16),p._uU(25,"\n            "),p.TgZ(26,"span",17),p._uU(27),p.ALo(28,"i18n"),p.ALo(29,"number"),p.qZA(),p._uU(30,"\n          "),p.qZA(),p._uU(31,"\n        "),p.qZA()),2&n){const n=t.$implicit,i=p.MAs(12),e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),p.xp6(5),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(6),p.hij("\n              ",p.xi3(28,7,"exposedXTimes",p.lcZ(29,10,e.exposedPasswordMap.get(n.id))),"\n            ")}}function nn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",8),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",9),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,V,32,12,"tr",10),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,4,"exposedPasswordsFound")),p.Q6J("useAlertRole",!0),p.xp6(2),p.hij("\n      ",p.xi3(5,6,"exposedPasswordsFoundDesc",p.lcZ(6,9,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function tn(n,t){if(1&n&&(p.TgZ(0,"div",4),p._uU(1,"\n  "),p.YNc(2,W,4,6,"app-callout",5),p._uU(3,"\n  "),p.YNc(4,nn,16,11,"ng-container",6),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function en(n,t){}class on extends N.W{constructor(n,t,i,e,o,a,s,r){super(n,t,i,e,o,r),this.organizationService=a,this.route=s}ngOnInit(){this.route.parent.parent.params.subscribe((n=>R(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(n.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield this.checkAccess()}))))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}on.ɵfac=function(n){return new(n||on)(p.Y36(z.u),p.Y36(k.C),p.Y36(Q.Z),p.Y36(M.o),p.Y36(P.b),p.Y36(Z.M),p.Y36(a.gz),p.Y36(S.C))},on.ɵcmp=p.Xpm({type:on,selectors:[["app-org-exposed-passwords-report"]],features:[p.qOj],decls:20,vars:11,consts:[[1,"page-header"],[3,"loading","click"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],[4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title","useAlertRole"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],[1,"text-right"],["bitBadge","","badgeType","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],[1,"sr-only"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n"),p.qZA(),p._uU(6,"\n"),p.TgZ(7,"p"),p._uU(8),p.ALo(9,"i18n"),p.qZA(),p._uU(10,"\n"),p.TgZ(11,"bit-submit-button",1),p.NdJ("click",(function(){return t.load()})),p._uU(12),p.ALo(13,"i18n"),p.qZA(),p._uU(14,"\n"),p.YNc(15,tn,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,en,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.Oqu(p.lcZ(4,5,"exposedPasswordsReport")),p.xp6(5),p.Oqu(p.lcZ(9,7,"exposedPasswordsReportDesc")),p.xp6(3),p.Q6J("loading",t.loading),p.xp6(1),p.hij("\n  ",p.lcZ(13,9,"checkExposedPasswords"),"\n"),p.xp6(3),p.Q6J("ngIf",t.hasLoaded))},dependencies:[A.sg,A.O5,F.O,j.o,E.O,B._,$.l,D.w,A.JJ,b.C],encapsulation:2});var an=i(39315),sn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function rn(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function un(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function cn(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noInactive2fa"),"\n  "))}function pn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",18),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function ln(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",19),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function gn(n,t){if(1&n&&(p.TgZ(0,"a",20),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.s9C("href",t.cipherDocs.get(n.id),p.LSH),p.xp6(1),p.hij("\n              ",p.lcZ(2,2,"instructions"),"")}}function dn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.TgZ(9,"a",15),p.NdJ("click",(function(){const t=p.CHM(n).$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(10,"i18n"),p._uU(11),p.qZA(),p._uU(12,"\n            "),p.YNc(13,pn,9,6,"ng-container",1),p._uU(14,"\n            "),p.YNc(15,ln,9,6,"ng-container",1),p._uU(16,"\n            "),p._UZ(17,"br"),p._uU(18,"\n            "),p.TgZ(19,"small"),p._uU(20),p.qZA(),p._uU(21,"\n          "),p.qZA(),p._uU(22,"\n          "),p.TgZ(23,"td",16),p._uU(24,"\n            "),p.YNc(25,gn,3,4,"a",17),p._uU(26,"\n          "),p.qZA(),p._uU(27,"\n        "),p.qZA()}if(2&n){const n=t.$implicit,i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.s9C("title",p.lcZ(10,7,"editItem")),p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",i.cipherDocs.has(n.id))}}function Un(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,dn,28,9,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"inactive2faFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"inactive2faFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function _n(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,cn,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,Un,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function Zn(n,t){}class hn extends an.Y{constructor(n,t,i,e,o,a,s,r){super(n,t,i,e,a,s),this.route=o,this.organizationService=r}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return sn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>sn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}hn.ɵfac=function(n){return new(n||hn)(p.Y36(z.u),p.Y36(Q.Z),p.Y36(M.o),p.Y36(P.b),p.Y36(a.gz),p.Y36(_.$),p.Y36(S.C),p.Y36(Z.M))},hn.ɵcmp=p.Xpm({type:hn,selectors:[["app-inactive-two-factor-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],[1,"text-right"],["bitBadge","","target","_blank","rel","noopener",3,"href",4,"ngIf"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["bitBadge","","target","_blank","rel","noopener",3,"href"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,rn,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,un,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,_n,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,Zn,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"inactive2faReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"inactive2faReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[A.sg,A.O5,F.O,j.o,E.O,B._,$.l,A.JJ,b.C],encapsulation:2});var fn=i(50050),An=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function xn(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function mn(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function bn(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noReusedPasswords"),"\n  "))}function vn(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n              "),p.TgZ(2,"a",19),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n            "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function qn(n,t){if(1&n&&(p._uU(0,"\n              "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n            ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function wn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",20),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function Tn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",21),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function In(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.YNc(9,vn,6,4,"ng-container",15),p._uU(10,"\n            "),p.YNc(11,qn,4,1,"ng-template",null,16,p.W1O),p._uU(13,"\n            "),p.YNc(14,wn,9,6,"ng-container",1),p._uU(15,"\n            "),p.YNc(16,Tn,9,6,"ng-container",1),p._uU(17,"\n            "),p._UZ(18,"br"),p._uU(19,"\n            "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n          "),p.qZA(),p._uU(23,"\n          "),p.TgZ(24,"td",17),p._uU(25,"\n            "),p.TgZ(26,"span",18),p._uU(27),p.ALo(28,"i18n"),p.qZA(),p._uU(29,"\n          "),p.qZA(),p._uU(30,"\n        "),p.qZA()),2&n){const n=t.$implicit,i=p.MAs(12),e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),p.xp6(5),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(6),p.hij("\n              ",p.xi3(28,7,"reusedXTimes",e.passwordUseMap.get(n.login.password)),"\n            ")}}function On(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,In,31,10,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"reusedPasswordsFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"reusedPasswordsFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function Ln(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,bn,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,On,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function yn(n,t){}class Yn extends fn.Q{constructor(n,t,i,e,o,a,s){super(n,t,i,e,s),this.route=o,this.organizationService=a}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return An(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>An(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}Yn.ɵfac=function(n){return new(n||Yn)(p.Y36(z.u),p.Y36(Q.Z),p.Y36(M.o),p.Y36(P.b),p.Y36(a.gz),p.Y36(Z.M),p.Y36(S.C))},Yn.ɵcmp=p.Xpm({type:Yn,selectors:[["app-reused-passwords-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],[1,"text-right"],["bitBadge","","badgeType","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,xn,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,mn,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,Ln,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,yn,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"reusedPasswordsReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"reusedPasswordsReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[A.sg,A.O5,F.O,j.o,E.O,B._,$.l,A.JJ,b.C],encapsulation:2});var Cn=i(84374),Jn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function Qn(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Nn(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function zn(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noUnsecuredWebsites"),"\n  "))}function kn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",16),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function Mn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",17),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function Pn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.TgZ(9,"a",15),p.NdJ("click",(function(){const t=p.CHM(n).$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(10,"i18n"),p._uU(11),p.qZA(),p._uU(12,"\n            "),p.YNc(13,kn,9,6,"ng-container",1),p._uU(14,"\n            "),p.YNc(15,Mn,9,6,"ng-container",1),p._uU(16,"\n            "),p._UZ(17,"br"),p._uU(18,"\n            "),p.TgZ(19,"small"),p._uU(20),p.qZA(),p._uU(21,"\n          "),p.qZA(),p._uU(22,"\n        "),p.qZA()}if(2&n){const n=t.$implicit,i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.s9C("title",p.lcZ(10,6,"editItem")),p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle)}}function Sn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,Pn,23,8,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"unsecuredWebsitesFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"unsecuredWebsitesFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function Fn(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,zn,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,Sn,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function jn(n,t){}class En extends Cn.i{constructor(n,t,i,e,o,a,s){super(n,t,i,e,s),this.route=o,this.organizationService=a}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Jn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>Jn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}En.ɵfac=function(n){return new(n||En)(p.Y36(z.u),p.Y36(Q.Z),p.Y36(M.o),p.Y36(P.b),p.Y36(a.gz),p.Y36(Z.M),p.Y36(S.C))},En.ɵcmp=p.Xpm({type:En,selectors:[["app-unsecured-websites-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,Qn,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,Nn,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,Fn,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,jn,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"unsecuredWebsitesReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"unsecuredWebsitesReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[A.sg,A.O5,F.O,j.o,E.O,B._,A.JJ,b.C],encapsulation:2});var Bn=i(88467),$n=i(98202),Dn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function Rn(n,t){1&n&&(p.TgZ(0,"small"),p._uU(1,"\n      "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n      "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n    "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Wn(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n  "),p._UZ(2,"i",4),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Gn(n,t){1&n&&(p.TgZ(0,"app-callout",8),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n    ",p.lcZ(3,4,"noWeakPasswords"),"\n  "))}function Hn(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n              "),p.TgZ(2,"a",19),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,i=p.oxw(3);return p.KtG(i.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n            "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function Xn(n,t){if(1&n&&(p._uU(0,"\n              "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n            ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function Kn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",20),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function Vn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n              "),p._UZ(2,"i",21),p.ALo(3,"i18n"),p._uU(4,"\n              "),p.TgZ(5,"span",5),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n            "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function nt(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n          "),p.TgZ(2,"td",12),p._uU(3,"\n            "),p._UZ(4,"app-vault-icon",13),p._uU(5,"\n          "),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"td",14),p._uU(8,"\n            "),p.YNc(9,Hn,6,4,"ng-container",15),p._uU(10,"\n            "),p.YNc(11,Xn,4,1,"ng-template",null,16,p.W1O),p._uU(13,"\n            "),p.YNc(14,Kn,9,6,"ng-container",1),p._uU(15,"\n            "),p.YNc(16,Vn,9,6,"ng-container",1),p._uU(17,"\n            "),p._UZ(18,"br"),p._uU(19,"\n            "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n          "),p.qZA(),p._uU(23,"\n          "),p.TgZ(24,"td",17),p._uU(25,"\n            "),p.TgZ(26,"span",18),p._uU(27),p.ALo(28,"i18n"),p.qZA(),p._uU(29,"\n          "),p.qZA(),p._uU(30,"\n        "),p.qZA()),2&n){const n=t.$implicit,i=p.MAs(12),e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),p.xp6(5),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("badgeType",e.passwordStrengthMap.get(n.id)[1]),p.xp6(1),p.hij("\n              ",p.lcZ(28,8,e.passwordStrengthMap.get(n.id)[0]),"\n            ")}}function tt(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n    "),p.TgZ(2,"app-callout",9),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n    "),p.TgZ(8,"table",10),p._uU(9,"\n      "),p.TgZ(10,"tbody"),p._uU(11,"\n        "),p.YNc(12,nt,31,10,"tr",11),p._uU(13,"\n      "),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n  "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,3,"weakPasswordsFound")),p.xp6(2),p.hij("\n      ",p.xi3(5,5,"weakPasswordsFoundDesc",p.lcZ(6,8,n.ciphers.length)),"\n    "),p.xp6(8),p.Q6J("ngForOf",n.ciphers)}}function it(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n  "),p.YNc(2,Gn,4,6,"app-callout",7),p._uU(3,"\n  "),p.YNc(4,tt,16,10,"ng-container",1),p._uU(5,"\n"),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function et(n,t){}class ot extends Bn.m{constructor(n,t,i,e,o,a,s,r){super(n,t,i,e,o,r),this.route=a,this.organizationService=s}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Dn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>Dn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}ot.ɵfac=function(n){return new(n||ot)(p.Y36(z.u),p.Y36($n.f),p.Y36(Q.Z),p.Y36(M.o),p.Y36(P.b),p.Y36(a.gz),p.Y36(Z.M),p.Y36(S.C))},ot.ɵcmp=p.Xpm({type:ot,selectors:[["app-weak-passwords-report"]],features:[p.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],[1,"text-right"],["bitBadge","",3,"badgeType"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"h1"),p._uU(3),p.ALo(4,"i18n"),p.YNc(5,Rn,9,6,"small",1),p._uU(6,"\n  "),p.qZA(),p._uU(7,"\n"),p.qZA(),p._uU(8,"\n"),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n"),p.YNc(13,Wn,9,6,"div",1),p._uU(14,"\n"),p.YNc(15,it,6,2,"div",2),p._uU(16,"\n"),p.YNc(17,et,0,0,"ng-template",null,3,p.W1O),p._uU(19,"\n")),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,5,"weakPasswordsReport"),"\n    "),p.xp6(2),p.Q6J("ngIf",t.hasLoaded&&t.loading),p.xp6(5),p.Oqu(p.lcZ(11,7,"weakPasswordsReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[A.sg,A.O5,F.O,j.o,E.O,B._,$.l,A.JJ,b.C],encapsulation:2});var at=i(54019),st=i(59157),rt=i(68362),ut=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function ct(n,t){1&n&&(p.TgZ(0,"a",11),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.hij("\n            ",p.lcZ(2,1,"eventLogs"),"\n          "))}function pt(n,t){1&n&&(p.TgZ(0,"a",12),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.hij("\n            ",p.lcZ(2,1,"reports"),"\n          "))}function lt(n,t){if(1&n&&(p.TgZ(0,"div",6),p._uU(1,"\n        "),p.TgZ(2,"div",7),p._uU(3),p.ALo(4,"i18n"),p.qZA(),p._uU(5,"\n        "),p.TgZ(6,"div",8),p._uU(7,"\n          "),p.YNc(8,ct,3,3,"a",9),p._uU(9,"\n          "),p.YNc(10,pt,3,3,"a",10),p._uU(11,"\n        "),p.qZA(),p._uU(12,"\n      "),p.qZA()),2&n){const n=p.oxw(2);p.xp6(3),p.Oqu(p.lcZ(4,3,"reporting")),p.xp6(5),p.Q6J("ngIf",n.organization.canAccessEventLogs),p.xp6(2),p.Q6J("ngIf",n.organization.canAccessReports)}}function gt(n,t){if(1&n&&(p.TgZ(0,"div",4),p._uU(1,"\n      "),p.YNc(2,lt,13,5,"div",5),p._uU(3,"\n    "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",n.organization)}}class dt{constructor(n,t){this.route=n,this.organizationService=t,this.showLeftNav=!0,this.destroy$=new at.x}ngOnInit(){this.route.params.pipe((0,st.b)((n=>ut(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(n.organizationId),this.showLeftNav=this.organization.canAccessEventLogs})))),(0,rt.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}dt.ɵfac=function(n){return new(n||dt)(p.Y36(a.gz),p.Y36(Z.M))},dt.ɵcmp=p.Xpm({type:dt,selectors:[["app-org-reporting"]],decls:13,vars:2,consts:[[1,"container","page-content"],[1,"row"],["class","col-3",4,"ngIf"],[1,"col-9",3,"ngClass"],[1,"col-3"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],["routerLink","events","class","list-group-item","routerLinkActive","active",4,"ngIf"],["routerLink","reports","class","list-group-item","routerLinkActive","active",4,"ngIf"],["routerLink","events","routerLinkActive","active",1,"list-group-item"],["routerLink","reports","routerLinkActive","active",1,"list-group-item"]],template:function(n,t){1&n&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"div",1),p._uU(3,"\n    "),p.YNc(4,gt,4,1,"div",2),p._uU(5,"\n    "),p.TgZ(6,"div",3),p._uU(7,"\n      "),p._UZ(8,"router-outlet"),p._uU(9,"\n    "),p.qZA(),p._uU(10,"\n  "),p.qZA(),p._uU(11,"\n"),p.qZA(),p._uU(12,"\n")),2&n&&(p.xp6(4),p.Q6J("ngIf",t.showLeftNav),p.xp6(2),p.Q6J("ngClass",t.showLeftNav?"col-9":"col-12"))},dependencies:[A.mk,A.O5,a.lC,a.yS,a.Od,b.C],encapsulation:2});var Ut=i(67775),_t=i(64707),Zt=i(73174),ht=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function ft(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n  "),p.TgZ(2,"div",4),p._uU(3,"\n    "),p.TgZ(4,"h1"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.qZA(),p._uU(8,"\n\n  "),p.TgZ(9,"p"),p._uU(10),p.ALo(11,"i18n"),p.qZA(),p._uU(12,"\n\n  "),p._UZ(13,"app-report-list",5),p._uU(14,"\n"),p.BQk()),2&n){const n=p.oxw();p.xp6(5),p.Oqu(p.lcZ(6,3,"reports")),p.xp6(5),p.Oqu(p.lcZ(11,5,"orgsReportsDesc")),p.xp6(3),p.Q6J("reports",n.reports)}}function At(n,t){1&n&&(p.TgZ(0,"a",6),p._uU(1,"\n      "),p._UZ(2,"i",7),p._uU(3),p.ALo(4,"i18n"),p.qZA()),2&n&&(p.xp6(3),p.hij("\n      ",p.lcZ(4,1,"backToReports"),"\n    "))}class xt{constructor(n,t){this.stateService=n,this.homepage=!0,this.destrory$=new at.x,t.events.pipe((0,Ut.h)((n=>n instanceof a.m2)),(0,rt.R)(this.destrory$)).subscribe((n=>{this.homepage=n.urlAfterRedirects.endsWith("/reports")}))}ngOnInit(){return ht(this,void 0,void 0,(function*(){const n=(yield this.stateService.getCanAccessPremium())?e.x6.Enabled:e.x6.RequiresPremium;this.reports=[Object.assign(Object.assign({},e.Gm[e.C2.ExposedPasswords]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.ReusedPasswords]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.WeakPasswords]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.UnsecuredWebsites]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.Inactive2fa]),{variant:n})]}))}ngOnDestroy(){this.destrory$.next(),this.destrory$.complete()}}xt.ɵfac=function(n){return new(n||xt)(p.Y36(P.b),p.Y36(a.F0))},xt.ɵcmp=p.Xpm({type:xt,selectors:[["app-org-reports-home"]],decls:12,vars:2,consts:[[4,"ngIf"],[1,"row","mt-4"],[1,"col"],["bitButton","","routerLink","./",4,"ngIf"],[1,"page-header"],[3,"reports"],["bitButton","","routerLink","./"],["aria-hidden","true",1,"bwi","bwi-angle-left"]],template:function(n,t){1&n&&(p.YNc(0,ft,15,7,"ng-container",0),p._uU(1,"\n\n"),p._UZ(2,"router-outlet"),p._uU(3,"\n\n"),p.TgZ(4,"div",1),p._uU(5,"\n  "),p.TgZ(6,"div",2),p._uU(7,"\n    "),p.YNc(8,At,5,3,"a",3),p._uU(9,"\n  "),p.qZA(),p._uU(10,"\n"),p.qZA(),p._uU(11,"\n")),2&n&&(p.Q6J("ngIf",t.homepage),p.xp6(8),p.Q6J("ngIf",!t.homepage))},dependencies:[A.O5,a.lC,a.yS,_t.H,Zt.s,b.C],encapsulation:2});const mt=[{path:"",component:dt,canActivate:[s.G],data:{organizationPermissions:J.$G},children:[{path:"",pathMatch:"full",redirectTo:"reports"},{path:"reports",component:xt,canActivate:[s.G],data:{titleId:"reports"},children:[{path:"exposed-passwords-report",component:on,data:{titleId:"exposedPasswordsReport"}},{path:"inactive-two-factor-report",component:hn,data:{titleId:"inactive2faReport"}},{path:"reused-passwords-report",component:Yn,data:{titleId:"reusedPasswordsReport"}},{path:"unsecured-websites-report",component:En,data:{titleId:"unsecuredWebsitesReport"}},{path:"weak-passwords-report",component:ot,data:{titleId:"weakPasswordsReport"}}]},{path:"events",component:C,canActivate:[s.G],data:{titleId:"eventLogs",organizationPermissions:n=>n.canAccessEventLogs}}]}];class bt{}bt.ɵfac=function(n){return new(n||bt)},bt.ɵmod=p.oAB({type:bt}),bt.ɵinj=p.cJS({imports:[a.Bz.forChild(mt),a.Bz]});class vt{}vt.ɵfac=function(n){return new(n||vt)},vt.ɵmod=p.oAB({type:vt}),vt.ɵinj=p.cJS({imports:[o.m,e.FX,bt]})}}]);
//# sourceMappingURL=440.d28daf4574dbcdf06446.js.map