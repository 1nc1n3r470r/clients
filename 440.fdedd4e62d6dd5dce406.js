"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[440],{46440:(n,t,i)=>{i.r(t),i.d(t,{OrganizationReportingModule:()=>yt});var e=i(64668),o=i(80185),a=i(15061),s=i(66206),r=i(10926),u=i(54019),c=i(59157),p=i(68362),l=i(19576),g=i(65698),d=i(38127),U=i(24852),_=i(55602),Z=i(94820),h=i(14424),f=i(32100),A=i(27885),x=i(17559),m=i(86290),b=i(19419),v=i(98645),q=i(24610),w=i(81974),T=i(24637),I=i(10083),y=i(11512),O=i(54735),L=i(50941),Y=i(26361),C=i(17404),J=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function Q(n,t){1&n&&(U.ynx(0),U._uU(1,"\n  "),U._UZ(2,"i",11),U.ALo(3,"i18n"),U._uU(4,"\n  "),U.TgZ(5,"span",12),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n"),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function N(n,t){1&n&&(U.TgZ(0,"p"),U._uU(1),U.ALo(2,"i18n"),U.qZA()),2&n&&(U.xp6(1),U.Oqu(U.lcZ(2,1,"noEventsInList")))}function z(n,t){if(1&n&&(U.TgZ(0,"tr",18),U._uU(1,"\n        "),U.TgZ(2,"td",19),U._uU(3),U.ALo(4,"date"),U.qZA(),U._uU(5,"\n        "),U.TgZ(6,"td",15),U._uU(7,"\n          "),U.TgZ(8,"span",20),U._uU(9),U.qZA(),U._uU(10,"\n        "),U.qZA(),U._uU(11,"\n        "),U.TgZ(12,"td",15),U._uU(13,"\n          "),U.TgZ(14,"span",20),U._uU(15),U.qZA(),U._uU(16,"\n        "),U.qZA(),U._uU(17,"\n        "),U._UZ(18,"td",21),U._uU(19,"\n      "),U.qZA()),2&n){const n=t.$implicit;U.xp6(3),U.Oqu(U.xi3(4,7,n.date,"medium")),U.xp6(5),U.hYB("title","",n.appName,", ",n.ip,""),U.xp6(1),U.Oqu(n.appName),U.xp6(5),U.s9C("title",n.userEmail),U.xp6(1),U.Oqu(n.userName),U.xp6(3),U.Q6J("innerHTML",n.message,U.oJD)}}function k(n,t){if(1&n&&(U.TgZ(0,"bit-table"),U._uU(1,"\n    "),U.ynx(2,14),U._uU(3,"\n      "),U.TgZ(4,"tr"),U._uU(5,"\n        "),U.TgZ(6,"th",15),U._uU(7),U.ALo(8,"i18n"),U.qZA(),U._uU(9,"\n        "),U.TgZ(10,"th",15),U._uU(11),U.ALo(12,"i18n"),U.qZA(),U._uU(13,"\n        "),U.TgZ(14,"th",15),U._uU(15),U.ALo(16,"i18n"),U.qZA(),U._uU(17,"\n        "),U.TgZ(18,"th",15),U._uU(19),U.ALo(20,"i18n"),U.qZA(),U._uU(21,"\n      "),U.qZA(),U._uU(22,"\n    "),U.BQk(),U._uU(23,"\n    "),U.ynx(24,16),U._uU(25,"\n      "),U.YNc(26,z,20,10,"tr",17),U._uU(27,"\n    "),U.BQk(),U._uU(28,"\n  "),U.qZA()),2&n){const n=U.oxw(2);U.xp6(7),U.Oqu(U.lcZ(8,5,"timestamp")),U.xp6(4),U.Oqu(U.lcZ(12,7,"client")),U.xp6(4),U.Oqu(U.lcZ(16,9,"member")),U.xp6(4),U.Oqu(U.lcZ(20,11,"event")),U.xp6(7),U.Q6J("ngForOf",n.events)}}function P(n,t){1&n&&(U._UZ(0,"i",25),U.ALo(1,"i18n")),2&n&&U.s9C("title",U.lcZ(1,1,"loading"))}function S(n,t){if(1&n){const n=U.EpF();U.TgZ(0,"button",22,23),U.NdJ("click",(function(){U.CHM(n);const t=U.oxw(2);return U.KtG(t.loadEvents(!1))})),U._uU(2,"\n    "),U.YNc(3,P,2,3,"i",24),U._uU(4,"\n    "),U.TgZ(5,"span"),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n  "),U.qZA()}if(2&n){const n=U.MAs(1),t=U.oxw(2);U.Q6J("appApiAction",t.morePromise)("disabled",t.loaded&&n.loading),U.xp6(3),U.Q6J("ngIf",n.loading),U.xp6(3),U.Oqu(U.lcZ(7,4,"loadMore"))}}function F(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n  "),U.YNc(2,N,3,3,"p",10),U._uU(3,"\n  "),U.YNc(4,k,29,13,"bit-table",10),U._uU(5,"\n  "),U.YNc(6,S,9,6,"button",13),U._uU(7,"\n"),U.BQk()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",!n.events||!n.events.length),U.xp6(2),U.Q6J("ngIf",n.events&&n.events.length),U.xp6(2),U.Q6J("ngIf",n.continuationToken)}}const M=function(n){return{loading:n}},j=function(n,t){return{"bwi-sign-in":n,"bwi-spinner bwi-spin":t}};class B extends g.i{constructor(n,t,i,e,o,a,s,r,c,p,l,g){super(i,e,o,a,r,g),this.apiService=n,this.route=t,this.router=s,this.userNamePipe=c,this.organizationService=p,this.providerService=l,this.exportFileName="org-events",this.orgUsersUserIdMap=new Map,this.destroy$=new u.x}ngOnInit(){return J(this,void 0,void 0,(function*(){this.route.params.pipe((0,c.b)((n=>J(this,void 0,void 0,(function*(){this.organizationId=n.organizationId,this.organization=yield this.organizationService.get(this.organizationId),null!=this.organization&&this.organization.useEvents?yield this.load():yield this.router.navigate(["/organizations",this.organizationId])})))),(0,p.R)(this.destroy$)).subscribe()}))}load(){return J(this,void 0,void 0,(function*(){if((yield this.apiService.getOrganizationUsers(this.organizationId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:t,email:n.email})})),null!=this.organization.providerId)try{if(null!=(yield this.providerService.get(this.organization.providerId))&&(yield this.providerService.get(this.organization.providerId)).canManageUsers){(yield this.apiService.getProviderUsers(this.organization.providerId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:`${t} (${this.organization.providerName})`,email:n.email})}))}}catch(n){this.logService.warning(n)}yield this.loadEvents(!0),this.loaded=!0}))}requestEvents(n,t,i){return this.apiService.getEventsOrganization(this.organizationId,n,t,i)}getUserName(n,t){return null==t?null:this.orgUsersUserIdMap.has(t)?this.orgUsersUserIdMap.get(t):null!=n.providerId&&n.providerId===this.organization.providerId?{name:this.organization.providerName}:null}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}B.ɵfac=function(n){return new(n||B)(U.Y36(_.s),U.Y36(a.gz),U.Y36(d.PO),U.Y36(Z.D),U.Y36(h.T),U.Y36(f.P),U.Y36(a.F0),U.Y36(A.$),U.Y36(l.z),U.Y36(s.Mn),U.Y36(x.H),U.Y36(m._))},B.ɵcmp=U.Xpm({type:B,selectors:[["app-org-events"]],features:[U.qOj],decls:58,vars:36,consts:[[1,"tw-mb-4"],[1,"tw-mt-4","tw-flex","tw-items-center"],["bitInput","","type","datetime-local",3,"placeholder","ngModel","ngModelChange","change"],[1,"tw-mx-2"],[3,"appApiAction"],["refreshForm",""],["type","button","bitButton","","buttonType","primary",1,"tw-mx-3","tw-mt-1",3,"disabled","click"],["exportForm",""],["type","button","bitButton","",1,"tw-mt-1",3,"ngClass","disabled","click"],["aria-hidden","true",1,"bwi","bwi-fw",3,"ngClass"],[4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],["type","button","bitButton","","buttonType","primary",3,"appApiAction","disabled","click",4,"ngIf"],["header",""],["bitCell",""],["body",""],["bitRow","","alignContent","top",4,"ngFor","ngForOf"],["bitRow","","alignContent","top"],["bitCell","",1,"tw-whitespace-nowrap"],[3,"title"],["bitCell","",3,"innerHTML"],["type","button","bitButton","","buttonType","primary",3,"appApiAction","disabled","click"],["moreBtn",""],["class","bwi bwi-spinner bwi-spin","aria-hidden","true",3,"title",4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"]],template:function(n,t){if(1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"h1"),U._uU(3),U.ALo(4,"i18n"),U.qZA(),U._uU(5,"\n  "),U.TgZ(6,"div",1),U._uU(7,"\n    "),U.TgZ(8,"bit-form-field"),U._uU(9,"\n      "),U.TgZ(10,"bit-label"),U._uU(11),U.ALo(12,"i18n"),U.qZA(),U._uU(13,"\n      "),U.TgZ(14,"input",2),U.NdJ("ngModelChange",(function(n){return t.start=n}))("change",(function(){return t.dirtyDates=!0})),U.ALo(15,"i18n"),U.qZA(),U._uU(16,"\n    "),U.qZA(),U._uU(17,"\n    "),U.TgZ(18,"span",3),U._uU(19,"-"),U.qZA(),U._uU(20,"\n    "),U.TgZ(21,"bit-form-field"),U._uU(22,"\n      "),U.TgZ(23,"bit-label"),U._uU(24),U.ALo(25,"i18n"),U.qZA(),U._uU(26,"\n      "),U.TgZ(27,"input",2),U.NdJ("ngModelChange",(function(n){return t.end=n}))("change",(function(){return t.dirtyDates=!0})),U.ALo(28,"i18n"),U.qZA(),U._uU(29,"\n    "),U.qZA(),U._uU(30,"\n    "),U.TgZ(31,"form",4,5),U._uU(33,"\n      "),U.TgZ(34,"button",6),U.NdJ("click",(function(){return t.loadEvents(!0)})),U._uU(35),U.ALo(36,"i18n"),U.qZA(),U._uU(37,"\n    "),U.qZA(),U._uU(38,"\n    "),U.TgZ(39,"form",4,7),U._uU(41,"\n      "),U.TgZ(42,"button",8),U.NdJ("click",(function(){return t.exportEvents()})),U._uU(43,"\n        "),U.TgZ(44,"span"),U._uU(45),U.ALo(46,"i18n"),U.qZA(),U._uU(47,"\n        "),U._UZ(48,"i",9),U._uU(49,"\n      "),U.qZA(),U._uU(50,"\n    "),U.qZA(),U._uU(51,"\n  "),U.qZA(),U._uU(52,"\n"),U.qZA(),U._uU(53,"\n"),U.YNc(54,Q,9,6,"ng-container",10),U._uU(55,"\n"),U.YNc(56,F,8,3,"ng-container",10),U._uU(57,"\n")),2&n){const n=U.MAs(32),i=U.MAs(40);U.xp6(3),U.Oqu(U.lcZ(4,17,"eventLogs")),U.xp6(8),U.Oqu(U.lcZ(12,19,"from")),U.xp6(3),U.s9C("placeholder",U.lcZ(15,21,"startDate")),U.Q6J("ngModel",t.start),U.xp6(10),U.Oqu(U.lcZ(25,23,"to")),U.xp6(3),U.s9C("placeholder",U.lcZ(28,25,"endDate")),U.Q6J("ngModel",t.end),U.xp6(4),U.Q6J("appApiAction",t.refreshPromise),U.xp6(3),U.Q6J("disabled",t.loaded&&n.loading),U.xp6(1),U.hij("\n        ",U.lcZ(36,27,"update"),"\n      "),U.xp6(4),U.Q6J("appApiAction",t.exportPromise),U.xp6(3),U.Q6J("ngClass",U.VKq(31,M,i.loading))("disabled",t.loaded&&i.loading||t.dirtyDates),U.xp6(3),U.Oqu(U.lcZ(46,29,"export")),U.xp6(3),U.Q6J("ngClass",U.WLB(33,j,!i.loading,i.loading)),U.xp6(6),U.Q6J("ngIf",!t.loaded),U.xp6(2),U.Q6J("ngIf",t.loaded)}},dependencies:[b.mk,b.sg,b.O5,v._Y,v.Fj,v.JJ,v.JL,v.On,v.F,q.b,w.r,T.d,I.u,y.G,O.a,L.Y,Y.v,b.uU,C.C],encapsulation:2});var E=i(77494),$=i(41173),R=i(3906),D=i(98438),W=i(11518),G=i(64184),X=i(82598),H=i(53707),K=i(29370),V=i(2051),nn=i(12963),tn=i(66385),en=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function on(n,t){1&n&&(U.TgZ(0,"app-callout",7),U.ALo(1,"i18n"),U._uU(2),U.ALo(3,"i18n"),U.qZA()),2&n&&(U.s9C("title",U.lcZ(1,2,"goodNews")),U.xp6(2),U.hij("\n    ",U.lcZ(3,4,"noExposedPasswords"),"\n  "))}function an(n,t){if(1&n){const n=U.EpF();U.ynx(0),U._uU(1,"\n              "),U.TgZ(2,"a",18),U.NdJ("click",(function(){U.CHM(n);const t=U.oxw().$implicit,i=U.oxw(3);return U.KtG(i.selectCipher(t))})),U.ALo(3,"i18n"),U._uU(4),U.qZA(),U._uU(5,"\n            "),U.BQk()}if(2&n){const n=U.oxw().$implicit;U.xp6(2),U.s9C("title",U.lcZ(3,2,"editItem")),U.xp6(2),U.Oqu(n.name)}}function sn(n,t){if(1&n&&(U._uU(0,"\n              "),U.TgZ(1,"span"),U._uU(2),U.qZA(),U._uU(3,"\n            ")),2&n){const n=U.oxw().$implicit;U.xp6(2),U.Oqu(n.name)}}function rn(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",19),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",20),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"shared")),U.xp6(4),U.Oqu(U.lcZ(7,4,"shared")))}function un(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",21),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",20),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"attachments")),U.xp6(4),U.Oqu(U.lcZ(7,4,"attachments")))}function cn(n,t){if(1&n&&(U.TgZ(0,"tr"),U._uU(1,"\n          "),U.TgZ(2,"td",11),U._uU(3,"\n            "),U._UZ(4,"app-vault-icon",12),U._uU(5,"\n          "),U.qZA(),U._uU(6,"\n          "),U.TgZ(7,"td",13),U._uU(8,"\n            "),U.YNc(9,an,6,4,"ng-container",14),U._uU(10,"\n            "),U.YNc(11,sn,4,1,"ng-template",null,15,U.W1O),U._uU(13,"\n            "),U.YNc(14,rn,9,6,"ng-container",6),U._uU(15,"\n            "),U.YNc(16,un,9,6,"ng-container",6),U._uU(17,"\n            "),U._UZ(18,"br"),U._uU(19,"\n            "),U.TgZ(20,"small"),U._uU(21),U.qZA(),U._uU(22,"\n          "),U.qZA(),U._uU(23,"\n          "),U.TgZ(24,"td",16),U._uU(25,"\n            "),U.TgZ(26,"span",17),U._uU(27),U.ALo(28,"i18n"),U.ALo(29,"number"),U.qZA(),U._uU(30,"\n          "),U.qZA(),U._uU(31,"\n        "),U.qZA()),2&n){const n=t.$implicit,i=U.MAs(12),e=U.oxw(3);U.xp6(4),U.Q6J("cipher",n),U.xp6(5),U.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),U.xp6(5),U.Q6J("ngIf",!e.organization&&n.organizationId),U.xp6(2),U.Q6J("ngIf",n.hasAttachments),U.xp6(5),U.Oqu(n.subTitle),U.xp6(6),U.hij("\n              ",U.xi3(28,7,"exposedXTimes",U.lcZ(29,10,e.exposedPasswordMap.get(n.id))),"\n            ")}}function pn(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n    "),U.TgZ(2,"app-callout",8),U.ALo(3,"i18n"),U._uU(4),U.ALo(5,"i18n"),U.ALo(6,"number"),U.qZA(),U._uU(7,"\n    "),U.TgZ(8,"table",9),U._uU(9,"\n      "),U.TgZ(10,"tbody"),U._uU(11,"\n        "),U.YNc(12,cn,32,12,"tr",10),U._uU(13,"\n      "),U.qZA(),U._uU(14,"\n    "),U.qZA(),U._uU(15,"\n  "),U.BQk()),2&n){const n=U.oxw(2);U.xp6(2),U.s9C("title",U.lcZ(3,4,"exposedPasswordsFound")),U.Q6J("useAlertRole",!0),U.xp6(2),U.hij("\n      ",U.xi3(5,6,"exposedPasswordsFoundDesc",U.lcZ(6,9,n.ciphers.length)),"\n    "),U.xp6(8),U.Q6J("ngForOf",n.ciphers)}}function ln(n,t){if(1&n&&(U.TgZ(0,"div",4),U._uU(1,"\n  "),U.YNc(2,on,4,6,"app-callout",5),U._uU(3,"\n  "),U.YNc(4,pn,16,11,"ng-container",6),U._uU(5,"\n"),U.qZA()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",!n.ciphers.length),U.xp6(2),U.Q6J("ngIf",n.ciphers.length)}}function gn(n,t){}class dn extends $.W{constructor(n,t,i,e,o,a,s,r){super(n,t,i,e,o,r),this.organizationService=a,this.route=s}ngOnInit(){this.route.parent.parent.params.subscribe((n=>en(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(n.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield this.checkAccess()}))))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}dn.ɵfac=function(n){return new(n||dn)(U.Y36(R.u),U.Y36(D.C),U.Y36(E.Z),U.Y36(W.o),U.Y36(G.b),U.Y36(s.Mn),U.Y36(a.gz),U.Y36(X.C))},dn.ɵcmp=U.Xpm({type:dn,selectors:[["app-org-exposed-passwords-report"]],features:[U.qOj],decls:20,vars:11,consts:[[1,"page-header"],["type","submit","buttonType","primary","bitButton","",3,"loading","click"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],[4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title","useAlertRole"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],[1,"text-right"],["bitBadge","","badgeType","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],[1,"sr-only"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"h1"),U._uU(3),U.ALo(4,"i18n"),U.qZA(),U._uU(5,"\n"),U.qZA(),U._uU(6,"\n"),U.TgZ(7,"p"),U._uU(8),U.ALo(9,"i18n"),U.qZA(),U._uU(10,"\n"),U.TgZ(11,"button",1),U.NdJ("click",(function(){return t.load()})),U._uU(12),U.ALo(13,"i18n"),U.qZA(),U._uU(14,"\n"),U.YNc(15,ln,6,2,"div",2),U._uU(16,"\n"),U.YNc(17,gn,0,0,"ng-template",null,3,U.W1O),U._uU(19,"\n")),2&n&&(U.xp6(3),U.Oqu(U.lcZ(4,5,"exposedPasswordsReport")),U.xp6(5),U.Oqu(U.lcZ(9,7,"exposedPasswordsReportDesc")),U.xp6(3),U.Q6J("loading",t.loading),U.xp6(1),U.hij("\n  ",U.lcZ(13,9,"checkExposedPasswords"),"\n"),U.xp6(3),U.Q6J("ngIf",t.hasLoaded))},dependencies:[b.sg,b.O5,H.O,K.o,V.O,nn._,tn.l,w.r,b.JJ,C.C],encapsulation:2});var Un=i(39315),_n=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function Zn(n,t){1&n&&(U.TgZ(0,"small"),U._uU(1,"\n      "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n      "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n    "),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function hn(n,t){1&n&&(U.TgZ(0,"div"),U._uU(1,"\n  "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n  "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n"),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function fn(n,t){1&n&&(U.TgZ(0,"app-callout",8),U.ALo(1,"i18n"),U._uU(2),U.ALo(3,"i18n"),U.qZA()),2&n&&(U.s9C("title",U.lcZ(1,2,"goodNews")),U.xp6(2),U.hij("\n    ",U.lcZ(3,4,"noInactive2fa"),"\n  "))}function An(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",18),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"shared")),U.xp6(4),U.Oqu(U.lcZ(7,4,"shared")))}function xn(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",19),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"attachments")),U.xp6(4),U.Oqu(U.lcZ(7,4,"attachments")))}function mn(n,t){if(1&n&&(U.TgZ(0,"a",20),U._uU(1),U.ALo(2,"i18n"),U.qZA()),2&n){const n=U.oxw().$implicit,t=U.oxw(3);U.s9C("href",t.cipherDocs.get(n.id),U.LSH),U.xp6(1),U.hij("\n              ",U.lcZ(2,2,"instructions"),"")}}function bn(n,t){if(1&n){const n=U.EpF();U.TgZ(0,"tr"),U._uU(1,"\n          "),U.TgZ(2,"td",12),U._uU(3,"\n            "),U._UZ(4,"app-vault-icon",13),U._uU(5,"\n          "),U.qZA(),U._uU(6,"\n          "),U.TgZ(7,"td",14),U._uU(8,"\n            "),U.TgZ(9,"a",15),U.NdJ("click",(function(){const t=U.CHM(n).$implicit,i=U.oxw(3);return U.KtG(i.selectCipher(t))})),U.ALo(10,"i18n"),U._uU(11),U.qZA(),U._uU(12,"\n            "),U.YNc(13,An,9,6,"ng-container",1),U._uU(14,"\n            "),U.YNc(15,xn,9,6,"ng-container",1),U._uU(16,"\n            "),U._UZ(17,"br"),U._uU(18,"\n            "),U.TgZ(19,"small"),U._uU(20),U.qZA(),U._uU(21,"\n          "),U.qZA(),U._uU(22,"\n          "),U.TgZ(23,"td",16),U._uU(24,"\n            "),U.YNc(25,mn,3,4,"a",17),U._uU(26,"\n          "),U.qZA(),U._uU(27,"\n        "),U.qZA()}if(2&n){const n=t.$implicit,i=U.oxw(3);U.xp6(4),U.Q6J("cipher",n),U.xp6(5),U.s9C("title",U.lcZ(10,7,"editItem")),U.xp6(2),U.Oqu(n.name),U.xp6(2),U.Q6J("ngIf",!i.organization&&n.organizationId),U.xp6(2),U.Q6J("ngIf",n.hasAttachments),U.xp6(5),U.Oqu(n.subTitle),U.xp6(5),U.Q6J("ngIf",i.cipherDocs.has(n.id))}}function vn(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n    "),U.TgZ(2,"app-callout",9),U.ALo(3,"i18n"),U._uU(4),U.ALo(5,"i18n"),U.ALo(6,"number"),U.qZA(),U._uU(7,"\n    "),U.TgZ(8,"table",10),U._uU(9,"\n      "),U.TgZ(10,"tbody"),U._uU(11,"\n        "),U.YNc(12,bn,28,9,"tr",11),U._uU(13,"\n      "),U.qZA(),U._uU(14,"\n    "),U.qZA(),U._uU(15,"\n  "),U.BQk()),2&n){const n=U.oxw(2);U.xp6(2),U.s9C("title",U.lcZ(3,3,"inactive2faFound")),U.xp6(2),U.hij("\n      ",U.xi3(5,5,"inactive2faFoundDesc",U.lcZ(6,8,n.ciphers.length)),"\n    "),U.xp6(8),U.Q6J("ngForOf",n.ciphers)}}function qn(n,t){if(1&n&&(U.TgZ(0,"div",6),U._uU(1,"\n  "),U.YNc(2,fn,4,6,"app-callout",7),U._uU(3,"\n  "),U.YNc(4,vn,16,10,"ng-container",1),U._uU(5,"\n"),U.qZA()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",!n.ciphers.length),U.xp6(2),U.Q6J("ngIf",n.ciphers.length)}}function wn(n,t){}class Tn extends Un.Y{constructor(n,t,i,e,o,a,s,r){super(n,t,i,e,a,s),this.route=o,this.organizationService=r}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return _n(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>_n(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}Tn.ɵfac=function(n){return new(n||Tn)(U.Y36(R.u),U.Y36(E.Z),U.Y36(W.o),U.Y36(G.b),U.Y36(a.gz),U.Y36(A.$),U.Y36(X.C),U.Y36(s.Mn))},Tn.ɵcmp=U.Xpm({type:Tn,selectors:[["app-inactive-two-factor-report"]],features:[U.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],[1,"text-right"],["bitBadge","","target","_blank","rel","noopener",3,"href",4,"ngIf"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["bitBadge","","target","_blank","rel","noopener",3,"href"]],template:function(n,t){1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"h1"),U._uU(3),U.ALo(4,"i18n"),U.YNc(5,Zn,9,6,"small",1),U._uU(6,"\n  "),U.qZA(),U._uU(7,"\n"),U.qZA(),U._uU(8,"\n"),U.TgZ(9,"p"),U._uU(10),U.ALo(11,"i18n"),U.qZA(),U._uU(12,"\n"),U.YNc(13,hn,9,6,"div",1),U._uU(14,"\n"),U.YNc(15,qn,6,2,"div",2),U._uU(16,"\n"),U.YNc(17,wn,0,0,"ng-template",null,3,U.W1O),U._uU(19,"\n")),2&n&&(U.xp6(3),U.hij("\n    ",U.lcZ(4,5,"inactive2faReport"),"\n    "),U.xp6(2),U.Q6J("ngIf",t.hasLoaded&&t.loading),U.xp6(5),U.Oqu(U.lcZ(11,7,"inactive2faReportDesc")),U.xp6(3),U.Q6J("ngIf",!t.hasLoaded&&t.loading),U.xp6(2),U.Q6J("ngIf",t.hasLoaded))},dependencies:[b.sg,b.O5,H.O,K.o,V.O,nn._,tn.l,b.JJ,C.C],encapsulation:2});var In=i(50050),yn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function On(n,t){1&n&&(U.TgZ(0,"small"),U._uU(1,"\n      "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n      "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n    "),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function Ln(n,t){1&n&&(U.TgZ(0,"div"),U._uU(1,"\n  "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n  "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n"),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function Yn(n,t){1&n&&(U.TgZ(0,"app-callout",8),U.ALo(1,"i18n"),U._uU(2),U.ALo(3,"i18n"),U.qZA()),2&n&&(U.s9C("title",U.lcZ(1,2,"goodNews")),U.xp6(2),U.hij("\n    ",U.lcZ(3,4,"noReusedPasswords"),"\n  "))}function Cn(n,t){if(1&n){const n=U.EpF();U.ynx(0),U._uU(1,"\n              "),U.TgZ(2,"a",19),U.NdJ("click",(function(){U.CHM(n);const t=U.oxw().$implicit,i=U.oxw(3);return U.KtG(i.selectCipher(t))})),U.ALo(3,"i18n"),U._uU(4),U.qZA(),U._uU(5,"\n            "),U.BQk()}if(2&n){const n=U.oxw().$implicit;U.xp6(2),U.s9C("title",U.lcZ(3,2,"editItem")),U.xp6(2),U.Oqu(n.name)}}function Jn(n,t){if(1&n&&(U._uU(0,"\n              "),U.TgZ(1,"span"),U._uU(2),U.qZA(),U._uU(3,"\n            ")),2&n){const n=U.oxw().$implicit;U.xp6(2),U.Oqu(n.name)}}function Qn(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",20),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"shared")),U.xp6(4),U.Oqu(U.lcZ(7,4,"shared")))}function Nn(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",21),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"attachments")),U.xp6(4),U.Oqu(U.lcZ(7,4,"attachments")))}function zn(n,t){if(1&n&&(U.TgZ(0,"tr"),U._uU(1,"\n          "),U.TgZ(2,"td",12),U._uU(3,"\n            "),U._UZ(4,"app-vault-icon",13),U._uU(5,"\n          "),U.qZA(),U._uU(6,"\n          "),U.TgZ(7,"td",14),U._uU(8,"\n            "),U.YNc(9,Cn,6,4,"ng-container",15),U._uU(10,"\n            "),U.YNc(11,Jn,4,1,"ng-template",null,16,U.W1O),U._uU(13,"\n            "),U.YNc(14,Qn,9,6,"ng-container",1),U._uU(15,"\n            "),U.YNc(16,Nn,9,6,"ng-container",1),U._uU(17,"\n            "),U._UZ(18,"br"),U._uU(19,"\n            "),U.TgZ(20,"small"),U._uU(21),U.qZA(),U._uU(22,"\n          "),U.qZA(),U._uU(23,"\n          "),U.TgZ(24,"td",17),U._uU(25,"\n            "),U.TgZ(26,"span",18),U._uU(27),U.ALo(28,"i18n"),U.qZA(),U._uU(29,"\n          "),U.qZA(),U._uU(30,"\n        "),U.qZA()),2&n){const n=t.$implicit,i=U.MAs(12),e=U.oxw(3);U.xp6(4),U.Q6J("cipher",n),U.xp6(5),U.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),U.xp6(5),U.Q6J("ngIf",!e.organization&&n.organizationId),U.xp6(2),U.Q6J("ngIf",n.hasAttachments),U.xp6(5),U.Oqu(n.subTitle),U.xp6(6),U.hij("\n              ",U.xi3(28,7,"reusedXTimes",e.passwordUseMap.get(n.login.password)),"\n            ")}}function kn(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n    "),U.TgZ(2,"app-callout",9),U.ALo(3,"i18n"),U._uU(4),U.ALo(5,"i18n"),U.ALo(6,"number"),U.qZA(),U._uU(7,"\n    "),U.TgZ(8,"table",10),U._uU(9,"\n      "),U.TgZ(10,"tbody"),U._uU(11,"\n        "),U.YNc(12,zn,31,10,"tr",11),U._uU(13,"\n      "),U.qZA(),U._uU(14,"\n    "),U.qZA(),U._uU(15,"\n  "),U.BQk()),2&n){const n=U.oxw(2);U.xp6(2),U.s9C("title",U.lcZ(3,3,"reusedPasswordsFound")),U.xp6(2),U.hij("\n      ",U.xi3(5,5,"reusedPasswordsFoundDesc",U.lcZ(6,8,n.ciphers.length)),"\n    "),U.xp6(8),U.Q6J("ngForOf",n.ciphers)}}function Pn(n,t){if(1&n&&(U.TgZ(0,"div",6),U._uU(1,"\n  "),U.YNc(2,Yn,4,6,"app-callout",7),U._uU(3,"\n  "),U.YNc(4,kn,16,10,"ng-container",1),U._uU(5,"\n"),U.qZA()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",!n.ciphers.length),U.xp6(2),U.Q6J("ngIf",n.ciphers.length)}}function Sn(n,t){}class Fn extends In.Q{constructor(n,t,i,e,o,a,s){super(n,t,i,e,s),this.route=o,this.organizationService=a}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return yn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>yn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}Fn.ɵfac=function(n){return new(n||Fn)(U.Y36(R.u),U.Y36(E.Z),U.Y36(W.o),U.Y36(G.b),U.Y36(a.gz),U.Y36(s.Mn),U.Y36(X.C))},Fn.ɵcmp=U.Xpm({type:Fn,selectors:[["app-reused-passwords-report"]],features:[U.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],[1,"text-right"],["bitBadge","","badgeType","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"h1"),U._uU(3),U.ALo(4,"i18n"),U.YNc(5,On,9,6,"small",1),U._uU(6,"\n  "),U.qZA(),U._uU(7,"\n"),U.qZA(),U._uU(8,"\n"),U.TgZ(9,"p"),U._uU(10),U.ALo(11,"i18n"),U.qZA(),U._uU(12,"\n"),U.YNc(13,Ln,9,6,"div",1),U._uU(14,"\n"),U.YNc(15,Pn,6,2,"div",2),U._uU(16,"\n"),U.YNc(17,Sn,0,0,"ng-template",null,3,U.W1O),U._uU(19,"\n")),2&n&&(U.xp6(3),U.hij("\n    ",U.lcZ(4,5,"reusedPasswordsReport"),"\n    "),U.xp6(2),U.Q6J("ngIf",t.hasLoaded&&t.loading),U.xp6(5),U.Oqu(U.lcZ(11,7,"reusedPasswordsReportDesc")),U.xp6(3),U.Q6J("ngIf",!t.hasLoaded&&t.loading),U.xp6(2),U.Q6J("ngIf",t.hasLoaded))},dependencies:[b.sg,b.O5,H.O,K.o,V.O,nn._,tn.l,b.JJ,C.C],encapsulation:2});var Mn=i(84374),jn=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function Bn(n,t){1&n&&(U.TgZ(0,"small"),U._uU(1,"\n      "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n      "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n    "),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function En(n,t){1&n&&(U.TgZ(0,"div"),U._uU(1,"\n  "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n  "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n"),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function $n(n,t){1&n&&(U.TgZ(0,"app-callout",8),U.ALo(1,"i18n"),U._uU(2),U.ALo(3,"i18n"),U.qZA()),2&n&&(U.s9C("title",U.lcZ(1,2,"goodNews")),U.xp6(2),U.hij("\n    ",U.lcZ(3,4,"noUnsecuredWebsites"),"\n  "))}function Rn(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",16),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"shared")),U.xp6(4),U.Oqu(U.lcZ(7,4,"shared")))}function Dn(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",17),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"attachments")),U.xp6(4),U.Oqu(U.lcZ(7,4,"attachments")))}function Wn(n,t){if(1&n){const n=U.EpF();U.TgZ(0,"tr"),U._uU(1,"\n          "),U.TgZ(2,"td",12),U._uU(3,"\n            "),U._UZ(4,"app-vault-icon",13),U._uU(5,"\n          "),U.qZA(),U._uU(6,"\n          "),U.TgZ(7,"td",14),U._uU(8,"\n            "),U.TgZ(9,"a",15),U.NdJ("click",(function(){const t=U.CHM(n).$implicit,i=U.oxw(3);return U.KtG(i.selectCipher(t))})),U.ALo(10,"i18n"),U._uU(11),U.qZA(),U._uU(12,"\n            "),U.YNc(13,Rn,9,6,"ng-container",1),U._uU(14,"\n            "),U.YNc(15,Dn,9,6,"ng-container",1),U._uU(16,"\n            "),U._UZ(17,"br"),U._uU(18,"\n            "),U.TgZ(19,"small"),U._uU(20),U.qZA(),U._uU(21,"\n          "),U.qZA(),U._uU(22,"\n        "),U.qZA()}if(2&n){const n=t.$implicit,i=U.oxw(3);U.xp6(4),U.Q6J("cipher",n),U.xp6(5),U.s9C("title",U.lcZ(10,6,"editItem")),U.xp6(2),U.Oqu(n.name),U.xp6(2),U.Q6J("ngIf",!i.organization&&n.organizationId),U.xp6(2),U.Q6J("ngIf",n.hasAttachments),U.xp6(5),U.Oqu(n.subTitle)}}function Gn(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n    "),U.TgZ(2,"app-callout",9),U.ALo(3,"i18n"),U._uU(4),U.ALo(5,"i18n"),U.ALo(6,"number"),U.qZA(),U._uU(7,"\n    "),U.TgZ(8,"table",10),U._uU(9,"\n      "),U.TgZ(10,"tbody"),U._uU(11,"\n        "),U.YNc(12,Wn,23,8,"tr",11),U._uU(13,"\n      "),U.qZA(),U._uU(14,"\n    "),U.qZA(),U._uU(15,"\n  "),U.BQk()),2&n){const n=U.oxw(2);U.xp6(2),U.s9C("title",U.lcZ(3,3,"unsecuredWebsitesFound")),U.xp6(2),U.hij("\n      ",U.xi3(5,5,"unsecuredWebsitesFoundDesc",U.lcZ(6,8,n.ciphers.length)),"\n    "),U.xp6(8),U.Q6J("ngForOf",n.ciphers)}}function Xn(n,t){if(1&n&&(U.TgZ(0,"div",6),U._uU(1,"\n  "),U.YNc(2,$n,4,6,"app-callout",7),U._uU(3,"\n  "),U.YNc(4,Gn,16,10,"ng-container",1),U._uU(5,"\n"),U.qZA()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",!n.ciphers.length),U.xp6(2),U.Q6J("ngIf",n.ciphers.length)}}function Hn(n,t){}class Kn extends Mn.i{constructor(n,t,i,e,o,a,s){super(n,t,i,e,s),this.route=o,this.organizationService=a}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return jn(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>jn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}Kn.ɵfac=function(n){return new(n||Kn)(U.Y36(R.u),U.Y36(E.Z),U.Y36(W.o),U.Y36(G.b),U.Y36(a.gz),U.Y36(s.Mn),U.Y36(X.C))},Kn.ɵcmp=U.Xpm({type:Kn,selectors:[["app-unsecured-websites-report"]],features:[U.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"h1"),U._uU(3),U.ALo(4,"i18n"),U.YNc(5,Bn,9,6,"small",1),U._uU(6,"\n  "),U.qZA(),U._uU(7,"\n"),U.qZA(),U._uU(8,"\n"),U.TgZ(9,"p"),U._uU(10),U.ALo(11,"i18n"),U.qZA(),U._uU(12,"\n"),U.YNc(13,En,9,6,"div",1),U._uU(14,"\n"),U.YNc(15,Xn,6,2,"div",2),U._uU(16,"\n"),U.YNc(17,Hn,0,0,"ng-template",null,3,U.W1O),U._uU(19,"\n")),2&n&&(U.xp6(3),U.hij("\n    ",U.lcZ(4,5,"unsecuredWebsitesReport"),"\n    "),U.xp6(2),U.Q6J("ngIf",t.hasLoaded&&t.loading),U.xp6(5),U.Oqu(U.lcZ(11,7,"unsecuredWebsitesReportDesc")),U.xp6(3),U.Q6J("ngIf",!t.hasLoaded&&t.loading),U.xp6(2),U.Q6J("ngIf",t.hasLoaded))},dependencies:[b.sg,b.O5,H.O,K.o,V.O,nn._,b.JJ,C.C],encapsulation:2});var Vn=i(88467),nt=i(98202),tt=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function it(n,t){1&n&&(U.TgZ(0,"small"),U._uU(1,"\n      "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n      "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n    "),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function et(n,t){1&n&&(U.TgZ(0,"div"),U._uU(1,"\n  "),U._UZ(2,"i",4),U.ALo(3,"i18n"),U._uU(4,"\n  "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n"),U.qZA()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"loading")),U.xp6(4),U.Oqu(U.lcZ(7,4,"loading")))}function ot(n,t){1&n&&(U.TgZ(0,"app-callout",8),U.ALo(1,"i18n"),U._uU(2),U.ALo(3,"i18n"),U.qZA()),2&n&&(U.s9C("title",U.lcZ(1,2,"goodNews")),U.xp6(2),U.hij("\n    ",U.lcZ(3,4,"noWeakPasswords"),"\n  "))}function at(n,t){if(1&n){const n=U.EpF();U.ynx(0),U._uU(1,"\n              "),U.TgZ(2,"a",19),U.NdJ("click",(function(){U.CHM(n);const t=U.oxw().$implicit,i=U.oxw(3);return U.KtG(i.selectCipher(t))})),U.ALo(3,"i18n"),U._uU(4),U.qZA(),U._uU(5,"\n            "),U.BQk()}if(2&n){const n=U.oxw().$implicit;U.xp6(2),U.s9C("title",U.lcZ(3,2,"editItem")),U.xp6(2),U.Oqu(n.name)}}function st(n,t){if(1&n&&(U._uU(0,"\n              "),U.TgZ(1,"span"),U._uU(2),U.qZA(),U._uU(3,"\n            ")),2&n){const n=U.oxw().$implicit;U.xp6(2),U.Oqu(n.name)}}function rt(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",20),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"shared")),U.xp6(4),U.Oqu(U.lcZ(7,4,"shared")))}function ut(n,t){1&n&&(U.ynx(0),U._uU(1,"\n              "),U._UZ(2,"i",21),U.ALo(3,"i18n"),U._uU(4,"\n              "),U.TgZ(5,"span",5),U._uU(6),U.ALo(7,"i18n"),U.qZA(),U._uU(8,"\n            "),U.BQk()),2&n&&(U.xp6(2),U.s9C("title",U.lcZ(3,2,"attachments")),U.xp6(4),U.Oqu(U.lcZ(7,4,"attachments")))}function ct(n,t){if(1&n&&(U.TgZ(0,"tr"),U._uU(1,"\n          "),U.TgZ(2,"td",12),U._uU(3,"\n            "),U._UZ(4,"app-vault-icon",13),U._uU(5,"\n          "),U.qZA(),U._uU(6,"\n          "),U.TgZ(7,"td",14),U._uU(8,"\n            "),U.YNc(9,at,6,4,"ng-container",15),U._uU(10,"\n            "),U.YNc(11,st,4,1,"ng-template",null,16,U.W1O),U._uU(13,"\n            "),U.YNc(14,rt,9,6,"ng-container",1),U._uU(15,"\n            "),U.YNc(16,ut,9,6,"ng-container",1),U._uU(17,"\n            "),U._UZ(18,"br"),U._uU(19,"\n            "),U.TgZ(20,"small"),U._uU(21),U.qZA(),U._uU(22,"\n          "),U.qZA(),U._uU(23,"\n          "),U.TgZ(24,"td",17),U._uU(25,"\n            "),U.TgZ(26,"span",18),U._uU(27),U.ALo(28,"i18n"),U.qZA(),U._uU(29,"\n          "),U.qZA(),U._uU(30,"\n        "),U.qZA()),2&n){const n=t.$implicit,i=U.MAs(12),e=U.oxw(3);U.xp6(4),U.Q6J("cipher",n),U.xp6(5),U.Q6J("ngIf",!e.organization||e.canManageCipher(n))("ngIfElse",i),U.xp6(5),U.Q6J("ngIf",!e.organization&&n.organizationId),U.xp6(2),U.Q6J("ngIf",n.hasAttachments),U.xp6(5),U.Oqu(n.subTitle),U.xp6(5),U.Q6J("badgeType",e.passwordStrengthMap.get(n.id)[1]),U.xp6(1),U.hij("\n              ",U.lcZ(28,8,e.passwordStrengthMap.get(n.id)[0]),"\n            ")}}function pt(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n    "),U.TgZ(2,"app-callout",9),U.ALo(3,"i18n"),U._uU(4),U.ALo(5,"i18n"),U.ALo(6,"number"),U.qZA(),U._uU(7,"\n    "),U.TgZ(8,"table",10),U._uU(9,"\n      "),U.TgZ(10,"tbody"),U._uU(11,"\n        "),U.YNc(12,ct,31,10,"tr",11),U._uU(13,"\n      "),U.qZA(),U._uU(14,"\n    "),U.qZA(),U._uU(15,"\n  "),U.BQk()),2&n){const n=U.oxw(2);U.xp6(2),U.s9C("title",U.lcZ(3,3,"weakPasswordsFound")),U.xp6(2),U.hij("\n      ",U.xi3(5,5,"weakPasswordsFoundDesc",U.lcZ(6,8,n.ciphers.length)),"\n    "),U.xp6(8),U.Q6J("ngForOf",n.ciphers)}}function lt(n,t){if(1&n&&(U.TgZ(0,"div",6),U._uU(1,"\n  "),U.YNc(2,ot,4,6,"app-callout",7),U._uU(3,"\n  "),U.YNc(4,pt,16,10,"ng-container",1),U._uU(5,"\n"),U.qZA()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",!n.ciphers.length),U.xp6(2),U.Q6J("ngIf",n.ciphers.length)}}function gt(n,t){}class dt extends Vn.m{constructor(n,t,i,e,o,a,s,r){super(n,t,i,e,o,r),this.route=a,this.organizationService=s}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return tt(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((t=>tt(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}dt.ɵfac=function(n){return new(n||dt)(U.Y36(R.u),U.Y36(nt.f),U.Y36(E.Z),U.Y36(W.o),U.Y36(G.b),U.Y36(a.gz),U.Y36(s.Mn),U.Y36(X.C))},dt.ɵcmp=U.Xpm({type:dt,selectors:[["app-weak-passwords-report"]],features:[U.qOj],decls:20,vars:9,consts:[[1,"page-header"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[1,"table","table-hover","table-list","table-ciphers"],[4,"ngFor","ngForOf"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],[1,"text-right"],["bitBadge","",3,"badgeType"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"]],template:function(n,t){1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"h1"),U._uU(3),U.ALo(4,"i18n"),U.YNc(5,it,9,6,"small",1),U._uU(6,"\n  "),U.qZA(),U._uU(7,"\n"),U.qZA(),U._uU(8,"\n"),U.TgZ(9,"p"),U._uU(10),U.ALo(11,"i18n"),U.qZA(),U._uU(12,"\n"),U.YNc(13,et,9,6,"div",1),U._uU(14,"\n"),U.YNc(15,lt,6,2,"div",2),U._uU(16,"\n"),U.YNc(17,gt,0,0,"ng-template",null,3,U.W1O),U._uU(19,"\n")),2&n&&(U.xp6(3),U.hij("\n    ",U.lcZ(4,5,"weakPasswordsReport"),"\n    "),U.xp6(2),U.Q6J("ngIf",t.hasLoaded&&t.loading),U.xp6(5),U.Oqu(U.lcZ(11,7,"weakPasswordsReportDesc")),U.xp6(3),U.Q6J("ngIf",!t.hasLoaded&&t.loading),U.xp6(2),U.Q6J("ngIf",t.hasLoaded))},dependencies:[b.sg,b.O5,H.O,K.o,V.O,nn._,tn.l,b.JJ,C.C],encapsulation:2});var Ut=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function _t(n,t){1&n&&(U.TgZ(0,"a",11),U._uU(1),U.ALo(2,"i18n"),U.qZA()),2&n&&(U.xp6(1),U.hij("\n            ",U.lcZ(2,1,"eventLogs"),"\n          "))}function Zt(n,t){1&n&&(U.TgZ(0,"a",12),U._uU(1),U.ALo(2,"i18n"),U.qZA()),2&n&&(U.xp6(1),U.hij("\n            ",U.lcZ(2,1,"reports"),"\n          "))}function ht(n,t){if(1&n&&(U.TgZ(0,"div",6),U._uU(1,"\n        "),U.TgZ(2,"div",7),U._uU(3),U.ALo(4,"i18n"),U.qZA(),U._uU(5,"\n        "),U.TgZ(6,"div",8),U._uU(7,"\n          "),U.YNc(8,_t,3,3,"a",9),U._uU(9,"\n          "),U.YNc(10,Zt,3,3,"a",10),U._uU(11,"\n        "),U.qZA(),U._uU(12,"\n      "),U.qZA()),2&n){const n=U.oxw(2);U.xp6(3),U.Oqu(U.lcZ(4,3,"reporting")),U.xp6(5),U.Q6J("ngIf",n.organization.canAccessEventLogs),U.xp6(2),U.Q6J("ngIf",n.organization.canAccessReports)}}function ft(n,t){if(1&n&&(U.TgZ(0,"div",4),U._uU(1,"\n      "),U.YNc(2,ht,13,5,"div",5),U._uU(3,"\n    "),U.qZA()),2&n){const n=U.oxw();U.xp6(2),U.Q6J("ngIf",n.organization)}}class At{constructor(n,t){this.route=n,this.organizationService=t,this.showLeftNav=!0,this.destroy$=new u.x}ngOnInit(){this.route.params.pipe((0,c.b)((n=>Ut(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(n.organizationId),this.showLeftNav=this.organization.canAccessEventLogs})))),(0,p.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}At.ɵfac=function(n){return new(n||At)(U.Y36(a.gz),U.Y36(s.Mn))},At.ɵcmp=U.Xpm({type:At,selectors:[["app-org-reporting"]],decls:13,vars:2,consts:[[1,"container","page-content"],[1,"row"],["class","col-3",4,"ngIf"],[1,"col-9",3,"ngClass"],[1,"col-3"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],["routerLink","events","class","list-group-item","routerLinkActive","active",4,"ngIf"],["routerLink","reports","class","list-group-item","routerLinkActive","active",4,"ngIf"],["routerLink","events","routerLinkActive","active",1,"list-group-item"],["routerLink","reports","routerLinkActive","active",1,"list-group-item"]],template:function(n,t){1&n&&(U.TgZ(0,"div",0),U._uU(1,"\n  "),U.TgZ(2,"div",1),U._uU(3,"\n    "),U.YNc(4,ft,4,1,"div",2),U._uU(5,"\n    "),U.TgZ(6,"div",3),U._uU(7,"\n      "),U._UZ(8,"router-outlet"),U._uU(9,"\n    "),U.qZA(),U._uU(10,"\n  "),U.qZA(),U._uU(11,"\n"),U.qZA(),U._uU(12,"\n")),2&n&&(U.xp6(4),U.Q6J("ngIf",t.showLeftNav),U.xp6(2),U.Q6J("ngClass",t.showLeftNav?"col-9":"col-12"))},dependencies:[b.mk,b.O5,a.lC,a.yS,a.Od,C.C],encapsulation:2});var xt=i(67775),mt=i(96210),bt=function(n,t,i,e){return new(i||(i=Promise))((function(o,a){function s(n){try{u(e.next(n))}catch(t){a(t)}}function r(n){try{u(e.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i((function(n){n(t)}))).then(s,r)}u((e=e.apply(n,t||[])).next())}))};function vt(n,t){if(1&n&&(U.ynx(0),U._uU(1,"\n  "),U.TgZ(2,"div",4),U._uU(3,"\n    "),U.TgZ(4,"h1"),U._uU(5),U.ALo(6,"i18n"),U.qZA(),U._uU(7,"\n  "),U.qZA(),U._uU(8,"\n\n  "),U.TgZ(9,"p"),U._uU(10),U.ALo(11,"i18n"),U.qZA(),U._uU(12,"\n\n  "),U._UZ(13,"app-report-list",5),U._uU(14,"\n"),U.BQk()),2&n){const n=U.oxw();U.xp6(5),U.Oqu(U.lcZ(6,3,"reports")),U.xp6(5),U.Oqu(U.lcZ(11,5,"orgsReportsDesc")),U.xp6(3),U.Q6J("reports",n.reports)}}function qt(n,t){1&n&&(U.TgZ(0,"a",6),U._uU(1,"\n      "),U._UZ(2,"i",7),U._uU(3),U.ALo(4,"i18n"),U.qZA()),2&n&&(U.xp6(3),U.hij("\n      ",U.lcZ(4,1,"backToReports"),"\n    "))}class wt{constructor(n,t){this.stateService=n,this.homepage=!0,this.destrory$=new u.x,t.events.pipe((0,xt.h)((n=>n instanceof a.m2)),(0,p.R)(this.destrory$)).subscribe((n=>{this.homepage=n.urlAfterRedirects.endsWith("/reports")}))}ngOnInit(){return bt(this,void 0,void 0,(function*(){const n=(yield this.stateService.getCanAccessPremium())?e.x6.Enabled:e.x6.RequiresPremium;this.reports=[Object.assign(Object.assign({},e.Gm[e.C2.ExposedPasswords]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.ReusedPasswords]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.WeakPasswords]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.UnsecuredWebsites]),{variant:n}),Object.assign(Object.assign({},e.Gm[e.C2.Inactive2fa]),{variant:n})]}))}ngOnDestroy(){this.destrory$.next(),this.destrory$.complete()}}wt.ɵfac=function(n){return new(n||wt)(U.Y36(G.b),U.Y36(a.F0))},wt.ɵcmp=U.Xpm({type:wt,selectors:[["app-org-reports-home"]],decls:12,vars:2,consts:[[4,"ngIf"],[1,"row","mt-4"],[1,"col"],["bitButton","","routerLink","./",4,"ngIf"],[1,"page-header"],[3,"reports"],["bitButton","","routerLink","./"],["aria-hidden","true",1,"bwi","bwi-angle-left"]],template:function(n,t){1&n&&(U.YNc(0,vt,15,7,"ng-container",0),U._uU(1,"\n\n"),U._UZ(2,"router-outlet"),U._uU(3,"\n\n"),U.TgZ(4,"div",1),U._uU(5,"\n  "),U.TgZ(6,"div",2),U._uU(7,"\n    "),U.YNc(8,qt,5,3,"a",3),U._uU(9,"\n  "),U.qZA(),U._uU(10,"\n"),U.qZA(),U._uU(11,"\n")),2&n&&(U.Q6J("ngIf",t.homepage),U.xp6(8),U.Q6J("ngIf",!t.homepage))},dependencies:[b.O5,a.lC,a.yS,w.r,mt.s,C.C],encapsulation:2});const Tt=[{path:"",component:At,canActivate:[r.G],data:{organizationPermissions:s.$G},children:[{path:"",pathMatch:"full",redirectTo:"reports"},{path:"reports",component:wt,canActivate:[r.G],data:{titleId:"reports"},children:[{path:"exposed-passwords-report",component:dn,data:{titleId:"exposedPasswordsReport"}},{path:"inactive-two-factor-report",component:Tn,data:{titleId:"inactive2faReport"}},{path:"reused-passwords-report",component:Fn,data:{titleId:"reusedPasswordsReport"}},{path:"unsecured-websites-report",component:Kn,data:{titleId:"unsecuredWebsitesReport"}},{path:"weak-passwords-report",component:dt,data:{titleId:"weakPasswordsReport"}}]},{path:"events",component:B,canActivate:[r.G],data:{titleId:"eventLogs",organizationPermissions:n=>n.canAccessEventLogs}}]}];class It{}It.ɵfac=function(n){return new(n||It)},It.ɵmod=U.oAB({type:It}),It.ɵinj=U.cJS({imports:[a.Bz.forChild(Tt),a.Bz]});class yt{}yt.ɵfac=function(n){return new(n||yt)},yt.ɵmod=U.oAB({type:yt}),yt.ɵinj=U.cJS({imports:[o.m,e.FX,It]})}}]);
//# sourceMappingURL=440.fdedd4e62d6dd5dce406.js.map