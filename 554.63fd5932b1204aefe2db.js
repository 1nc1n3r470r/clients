"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[554],{86554:(n,i,t)=>{t.r(i),t.d(i,{OrganizationSettingsModule:()=>kn});var e=t(71146),o=t(17854),a=t(45181),r=t(75557),u=t(58691),c=t(47064),l=t(56992),s=t(24852),p=t(98645),g=t(54019),d=t(30359),m=t(33031),f=t(92716),h=t(59260),b=t(68362),_=t(70032),U=t(77494);class Z{}var A=t(53988);class y{}var v=t(27646),x=t(3816),w=t(86558),T=t(13159),q=t(78627),O=t(99721),z=t(76528),I=t(97360),L=t(73369),S=t(19419),N=t(46246),K=t(36338),C=t(14970),Y=t(81974),M=t(7172),k=t(24637),J=t(11512),G=t(75734),B=t(36179),D=t(28315),Q=t(82933),j=function(n,i,t,e){return new(t||(t=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(i){a(i)}}function u(n){try{c(e.throw(n))}catch(i){a(i)}}function c(n){var i;n.done?o(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(r,u)}c((e=e.apply(n,i||[])).next())}))};const E=["purgeOrganizationTemplate"],R=["apiKeyTemplate"],P=["rotateApiKeyTemplate"];function W(n,i){1&n&&(s.TgZ(0,"div"),s._uU(1,"\n  "),s._UZ(2,"i",9),s.ALo(3,"i18n"),s._uU(4,"\n  "),s.TgZ(5,"span",10),s._uU(6),s.ALo(7,"i18n"),s.qZA(),s._uU(8,"\n"),s.qZA()),2&n&&(s.xp6(2),s.s9C("title",s.lcZ(3,2,"loading")),s.xp6(4),s.Oqu(s.lcZ(7,4,"loading")))}function F(n,i){if(1&n&&(s.TgZ(0,"form",11),s._uU(1,"\n  "),s.TgZ(2,"div",12),s._uU(3,"\n    "),s.TgZ(4,"div"),s._uU(5,"\n      "),s.TgZ(6,"bit-form-field"),s._uU(7,"\n        "),s.TgZ(8,"bit-label"),s._uU(9),s.ALo(10,"i18n"),s.qZA(),s._uU(11,"\n        "),s._UZ(12,"input",13),s._uU(13,"\n      "),s.qZA(),s._uU(14,"\n      "),s.TgZ(15,"bit-form-field"),s._uU(16,"\n        "),s.TgZ(17,"bit-label"),s._uU(18),s.ALo(19,"i18n"),s.qZA(),s._uU(20,"\n        "),s._UZ(21,"input",14),s._uU(22,"\n      "),s.qZA(),s._uU(23,"\n      "),s.TgZ(24,"bit-form-field"),s._uU(25,"\n        "),s.TgZ(26,"bit-label"),s._uU(27),s.ALo(28,"i18n"),s.qZA(),s._uU(29,"\n        "),s._UZ(30,"input",15),s._uU(31,"\n      "),s.qZA(),s._uU(32,"\n    "),s.qZA(),s._uU(33,"\n    "),s.TgZ(34,"div"),s._uU(35,"\n      "),s._UZ(36,"bit-avatar",16),s._uU(37,"\n      "),s.TgZ(38,"app-account-fingerprint",17),s.ALo(39,"i18n"),s._uU(40,"\n      "),s.qZA(),s._uU(41,"\n    "),s.qZA(),s._uU(42,"\n  "),s.qZA(),s._uU(43,"\n  "),s.TgZ(44,"button",18),s._uU(45),s.ALo(46,"i18n"),s.qZA(),s._uU(47,"\n"),s.qZA()),2&n){const n=s.oxw();s.Q6J("bitSubmit",n.submit)("formGroup",n.formGroup),s.xp6(9),s.Oqu(s.lcZ(10,11,"organizationName")),s.xp6(9),s.Oqu(s.lcZ(19,13,"billingEmail")),s.xp6(9),s.Oqu(s.lcZ(28,15,"businessName")),s.xp6(9),s.Q6J("text",n.org.name)("id",n.org.id),s.xp6(2),s.s9C("fingerprintLabel",s.lcZ(39,17,"yourOrganizationsFingerprint")),s.Q6J("fingerprintMaterial",n.organizationId)("publicKeyBuffer",n.publicKeyBuffer),s.xp6(7),s.hij("\n    ",s.lcZ(46,19,"save"),"\n  ")}}function H(n,i){if(1&n){const n=s.EpF();s.ynx(0),s._uU(1,"\n  "),s.TgZ(2,"h1",19),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n  "),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"i18n"),s.TgZ(9,"a",20),s._uU(10),s.ALo(11,"i18n"),s.qZA(),s._uU(12,"\n  "),s.qZA(),s._uU(13,"\n  "),s.TgZ(14,"button",21),s.NdJ("click",(function(){s.CHM(n);const i=s.oxw();return s.KtG(i.viewApiKey())})),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n  "),s.TgZ(18,"button",21),s.NdJ("click",(function(){s.CHM(n);const i=s.oxw();return s.KtG(i.rotateApiKey())})),s._uU(19),s.ALo(20,"i18n"),s.qZA(),s._uU(21,"\n"),s.BQk()}2&n&&(s.xp6(3),s.Oqu(s.lcZ(4,5,"apiKey")),s.xp6(4),s.hij("\n    ",s.lcZ(8,7,"apiKeyDesc"),"\n    "),s.xp6(3),s.hij("\n      ",s.lcZ(11,9,"learnMore"),"\n    "),s.xp6(5),s.hij("\n    ",s.lcZ(16,11,"viewApiKey"),"\n  "),s.xp6(4),s.hij("\n    ",s.lcZ(20,13,"rotateApiKey"),"\n  "))}function V(n,i){if(1&n&&(s.TgZ(0,"form",11),s._uU(1,"\n  "),s.TgZ(2,"h1",19),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n  "),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"i18n"),s.qZA(),s._uU(9,"\n  "),s.TgZ(10,"bit-form-control"),s._uU(11,"\n    "),s.TgZ(12,"bit-label"),s._uU(13),s.ALo(14,"i18n"),s.qZA(),s._uU(15,"\n    "),s._UZ(16,"input",22),s._uU(17,"\n  "),s.qZA(),s._uU(18,"\n  "),s.TgZ(19,"button",23),s._uU(20),s.ALo(21,"i18n"),s.qZA(),s._uU(22,"\n"),s.qZA()),2&n){const n=s.oxw();s.Q6J("bitSubmit",n.submitCollectionManagement)("formGroup",n.collectionManagementFormGroup),s.xp6(3),s.Oqu(s.lcZ(4,6,"collectionManagement")),s.xp6(4),s.Oqu(s.lcZ(8,8,"collectionManagementDesc")),s.xp6(6),s.Oqu(s.lcZ(14,10,"limitCollectionCdOwnerAdminDesc")),s.xp6(7),s.hij("\n    ",s.lcZ(21,12,"save"),"\n  ")}}function $(n,i){}function X(n,i){}function nn(n,i){}class tn{constructor(n,i,t,e,o,a,r,u,c,l){this.modalService=n,this.i18nService=i,this.route=t,this.platformUtilsService=e,this.cryptoService=o,this.router=a,this.organizationService=r,this.organizationApiService=u,this.dialogService=c,this.formBuilder=l,this.selfHosted=!1,this.canEditSubscription=!0,this.loading=!0,this.canUseApi=!1,this.formGroup=this.formBuilder.group({orgName:this.formBuilder.control({value:"",disabled:!0},{validators:[p.kI.required,p.kI.maxLength(50)],updateOn:"change"}),billingEmail:this.formBuilder.control({value:"",disabled:!0},{validators:[p.kI.required,p.kI.email,p.kI.maxLength(256)]}),businessName:this.formBuilder.control({value:"",disabled:!0},{validators:[p.kI.maxLength(50)]})}),this.collectionManagementFormGroup=this.formBuilder.group({limitCollectionCdOwnerAdmin:[!1]}),this.destroy$=new g.x,this.submit=()=>j(this,void 0,void 0,(function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const n=new y;if(n.name=this.formGroup.value.orgName,n.businessName=this.formGroup.value.businessName,n.billingEmail=this.formGroup.value.billingEmail,!this.org.hasPublicAndPrivateKeys){const i=yield this.cryptoService.getOrgKey(this.organizationId),t=yield this.cryptoService.makeKeyPair(i);n.keys=new A.u(t[0],t[1].encryptedString)}yield this.organizationApiService.save(this.organizationId,n),this.platformUtilsService.showToast("success",null,this.i18nService.t("organizationUpdated"))})),this.submitCollectionManagement=()=>j(this,void 0,void 0,(function*(){const n=new Z;n.limitCreateDeleteOwnerAdmin=this.collectionManagementFormGroup.value.limitCollectionCdOwnerAdmin,yield this.organizationApiService.updateCollectionManagement(this.organizationId,n),this.platformUtilsService.showToast("success",null,this.i18nService.t("collectionManagementUpdated"))}))}ngOnInit(){return j(this,void 0,void 0,(function*(){this.selfHosted=this.platformUtilsService.isSelfHost(),this.route.params.pipe((0,d.w)((n=>this.organizationService.get$(n.organizationId))),(0,d.w)((n=>(0,m.a)([(0,f.of)(n),(0,h.D)(this.organizationApiService.get(n.id)),(0,h.D)(this.organizationApiService.getKeys(n.id))]))),(0,b.R)(this.destroy$)).subscribe((([n,i,t])=>{this.organizationId=n.id,this.canEditSubscription=n.canEditSubscription,this.canUseApi=n.useApi,this.selfHosted||this.formGroup.get("orgName").enable(),this.selfHosted&&!this.canEditSubscription||(this.formGroup.get("billingEmail").enable(),this.formGroup.get("businessName").enable()),this.org=i,this.publicKeyBuffer=v.c.fromB64ToArray(null==t?void 0:t.publicKey),this.formGroup.patchValue({orgName:this.org.name,billingEmail:this.org.billingEmail,businessName:this.org.businessName}),this.collectionManagementFormGroup.patchValue({limitCollectionCdOwnerAdmin:this.org.limitCollectionCdOwnerAdmin}),this.loading=!1}))}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}deleteOrganization(){return j(this,void 0,void 0,(function*(){const n=(0,T.j1)(this.dialogService,{data:{organizationId:this.organizationId,requestType:"RegularDelete"}});(yield(0,_.n)(n.closed))===T._P.Deleted&&this.router.navigate(["/"])}))}purgeVault(){return j(this,void 0,void 0,(function*(){yield this.modalService.openViewRef(w.$,this.purgeModalRef,(n=>{n.organizationId=this.organizationId}))}))}viewApiKey(){return j(this,void 0,void 0,(function*(){yield this.modalService.openViewRef(x.B,this.apiKeyModalRef,(n=>{n.keyType="organization",n.entityId=this.organizationId,n.postKey=this.organizationApiService.getOrCreateApiKey.bind(this.organizationApiService),n.scope="api.organization",n.grantType="client_credentials",n.apiKeyTitle="apiKey",n.apiKeyWarning="apiKeyWarning",n.apiKeyDescription="apiKeyDesc"}))}))}rotateApiKey(){return j(this,void 0,void 0,(function*(){yield this.modalService.openViewRef(x.B,this.rotateApiKeyModalRef,(n=>{n.keyType="organization",n.isRotation=!0,n.entityId=this.organizationId,n.postKey=this.organizationApiService.rotateApiKey.bind(this.organizationApiService),n.scope="api.organization",n.grantType="client_credentials",n.apiKeyTitle="apiKey",n.apiKeyWarning="apiKeyWarning",n.apiKeyDescription="apiKeyRotateDesc"}))}))}}tn.ɵfac=function(n){return new(n||tn)(s.Y36(U.Z),s.Y36(q.D),s.Y36(r.gz),s.Y36(O.P),s.Y36(z.$),s.Y36(r.F0),s.Y36(u.Mn),s.Y36(I.M),s.Y36(L.x),s.Y36(p.qu))},tn.ɵcmp=s.Xpm({type:tn,selectors:[["app-org-account"]],viewQuery:function(n,i){if(1&n&&(s.Gf(E,7,s.s_b),s.Gf(R,7,s.s_b),s.Gf(P,7,s.s_b)),2&n){let n;s.iGM(n=s.CRH())&&(i.purgeModalRef=n.first),s.iGM(n=s.CRH())&&(i.apiKeyModalRef=n.first),s.iGM(n=s.CRH())&&(i.rotateApiKeyModalRef=n.first)}},decls:40,vars:19,consts:[["bitTypography","h1",1,"tw-pb-2.5"],[4,"ngIf"],[3,"bitSubmit","formGroup",4,"ngIf"],["bitTypography","h1",1,"tw-mt-16","tw-pb-2.5","!tw-text-danger"],[1,"tw-rounded","tw-border","tw-border-solid","tw-border-danger-500","tw-bg-background","tw-p-5"],["type","button","bitButton","","buttonType","danger",3,"click"],["purgeOrganizationTemplate",""],["apiKeyTemplate",""],["rotateApiKeyTemplate",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"tw-sr-only"],[3,"bitSubmit","formGroup"],[1,"tw-grid","tw-grid-cols-2","tw-gap-5"],["bitInput","","id","orgName","type","text","formControlName","orgName"],["bitInput","","id","billingEmail","formControlName","billingEmail","type","email"],["bitInput","","id","businessName","formControlName","businessName","type","text"],["size","large",3,"text","id"],[3,"fingerprintMaterial","publicKeyBuffer","fingerprintLabel"],["type","submit","bitButton","","bitFormButton","","buttonType","primary"],["bitTypography","h1",1,"tw-mt-16","tw-pb-2.5"],["href","https://docs.bitwarden.com","target","_blank","rel","noopener"],["type","button","bitButton","","buttonType","secondary",3,"click"],["type","checkbox","bitCheckbox","","formControlName","limitCollectionCdOwnerAdmin"],["type","submit","bitButton","","bitFormButton","","buttonType","primary","id","collectionManagementSubmitButton"]],template:function(n,i){1&n&&(s.TgZ(0,"h1",0),s._uU(1),s.ALo(2,"i18n"),s.qZA(),s._uU(3,"\n"),s.YNc(4,W,9,6,"div",1),s._uU(5,"\n"),s.YNc(6,F,48,21,"form",2),s._uU(7,"\n"),s.YNc(8,H,22,15,"ng-container",1),s._uU(9,"\n"),s.YNc(10,V,23,14,"form",2),s._uU(11,"\n"),s.TgZ(12,"h1",3),s._uU(13),s.ALo(14,"i18n"),s.qZA(),s._uU(15,"\n"),s.TgZ(16,"div",4),s._uU(17,"\n  "),s.TgZ(18,"p"),s._uU(19),s.ALo(20,"i18n"),s.qZA(),s._uU(21,"\n  "),s.TgZ(22,"button",5),s.NdJ("click",(function(){return i.deleteOrganization()})),s._uU(23),s.ALo(24,"i18n"),s.qZA(),s._uU(25,"\n  "),s.TgZ(26,"button",5),s.NdJ("click",(function(){return i.purgeVault()})),s._uU(27),s.ALo(28,"i18n"),s.qZA(),s._uU(29,"\n"),s.qZA(),s._uU(30,"\n"),s.YNc(31,$,0,0,"ng-template",null,6,s.W1O),s._uU(33,"\n"),s.YNc(34,X,0,0,"ng-template",null,7,s.W1O),s._uU(36,"\n"),s.YNc(37,nn,0,0,"ng-template",null,8,s.W1O),s._uU(39,"\n")),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,9,"organizationInfo")),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(2),s.Q6J("ngIf",i.org&&!i.loading),s.xp6(2),s.Q6J("ngIf",i.canUseApi),s.xp6(2),s.Q6J("ngIf",i.org&&!i.loading),s.xp6(3),s.Oqu(s.lcZ(14,11,"dangerZone")),s.xp6(6),s.Oqu(s.lcZ(20,13,"dangerZoneDesc")),s.xp6(4),s.hij("\n    ",s.lcZ(24,15,"deleteOrganization"),"\n  "),s.xp6(4),s.hij("\n    ",s.lcZ(28,17,"purgeVault"),"\n  "))},dependencies:[S.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.sg,p.u,N.b,K.u,C.A,Y.r,M.b,k.d,J.G,G.A,B.u,D.t,o.V,Q.C],encapsulation:2});var en=t(82664),on=t(59157),an=t(80060),rn=t(48103),un=t(41648),cn=t(62941),ln=t(55602),sn=t(34961),pn=t(83924),gn=t(58172),dn=t(24083),mn=t(55039),fn=function(n,i,t,e){return new(t||(t=Promise))((function(o,a){function r(n){try{c(e.next(n))}catch(i){a(i)}}function u(n){try{c(e.throw(n))}catch(i){a(i)}}function c(n){var i;n.done?o(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(r,u)}c((e=e.apply(n,i||[])).next())}))};function hn(n,i){1&n&&(s.TgZ(0,"h1"),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"twoStepLogin")))}function bn(n,i){1&n&&(s.TgZ(0,"h1"),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"twoStepLoginEnforcement")))}function _n(n,i){1&n&&(s.TgZ(0,"p"),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"twoStepLoginDesc")))}function Un(n,i){1&n&&(s.ynx(0),s._uU(1),s.ALo(2,"i18n"),s.TgZ(3,"a",13),s._uU(4),s.ALo(5,"i18n"),s.qZA(),s._uU(6,"\n      "),s._UZ(7,"br"),s._uU(8),s.ALo(9,"i18n"),s._UZ(10,"br"),s._uU(11,"\n      "),s._UZ(12,"br"),s._uU(13,"\n      "),s.TgZ(14,"p"),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n    "),s.BQk()),2&n&&(s.xp6(1),s.hij("\n      ",s.lcZ(2,4,"twoStepLoginEnterpriseDescStart"),"\n      "),s.xp6(3),s.hij("",s.lcZ(5,6,"twoStepLoginPolicy"),"."),s.xp6(4),s.hij("\n      ",s.lcZ(9,8,"twoStepLoginOrganizationDuoDesc"),"\n      "),s.xp6(7),s.Oqu(s.lcZ(16,10,"twoStepLoginOrganizationSsoDesc")))}function Zn(n,i){1&n&&(s._uU(0),s.ALo(1,"i18n"),s._UZ(2,"br"),s._uU(3),s.ALo(4,"i18n")),2&n&&(s.hij("\n      ",s.lcZ(1,2,"twoStepLoginTeamsDesc"),"\n      "),s.xp6(3),s.hij("\n      ",s.lcZ(4,4,"twoStepLoginOrganizationDuoDesc"),"\n    "))}function An(n,i){if(1&n&&(s.ynx(0),s._uU(1,"\n  "),s.TgZ(2,"p"),s._uU(3,"\n    "),s.YNc(4,Un,18,12,"ng-container",11),s._uU(5,"\n    "),s.YNc(6,Zn,5,6,"ng-template",null,12,s.W1O),s._uU(8,"\n  "),s.qZA(),s._uU(9,"\n"),s.BQk()),2&n){const n=s.MAs(7),i=s.oxw();s.xp6(4),s.Q6J("ngIf",i.isEnterpriseOrg)("ngIfElse",n)}}function yn(n,i){if(1&n){const n=s.EpF();s.TgZ(0,"bit-callout",14),s._uU(1,"\n  "),s.TgZ(2,"p"),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n  "),s.TgZ(6,"button",15),s.NdJ("click",(function(){s.CHM(n);const i=s.oxw();return s.KtG(i.recoveryCode())})),s._uU(7),s.ALo(8,"i18n"),s.qZA(),s._uU(9,"\n"),s.qZA()}2&n&&(s.xp6(3),s.Oqu(s.lcZ(4,2,"twoStepLoginRecoveryWarning")),s.xp6(4),s.hij("\n    ",s.lcZ(8,4,"viewRecoveryCode"),"\n  "))}function vn(n,i){1&n&&(s.TgZ(0,"small"),s._uU(1,"\n    "),s._UZ(2,"i",16),s.ALo(3,"i18n"),s._uU(4,"\n    "),s.TgZ(5,"span",17),s._uU(6),s.ALo(7,"i18n"),s.qZA(),s._uU(8,"\n  "),s.qZA()),2&n&&(s.xp6(2),s.s9C("title",s.lcZ(3,2,"loading")),s.xp6(4),s.Oqu(s.lcZ(7,4,"loading")))}function xn(n,i){1&n&&(s.TgZ(0,"bit-callout",14),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.hij("\n  ",s.lcZ(2,1,"twoStepLoginPolicyUserWarning"),"\n"))}function wn(n,i){1&n&&(s.ynx(0),s._uU(1,"\n          "),s._UZ(2,"i",25),s.ALo(3,"i18n"),s._uU(4,"\n          "),s.TgZ(5,"span",17),s._uU(6),s.ALo(7,"i18n"),s.qZA(),s._uU(8,"\n        "),s.BQk()),2&n&&(s.xp6(2),s.s9C("title",s.lcZ(3,2,"enabled")),s.xp6(4),s.Oqu(s.lcZ(7,4,"enabled")))}function Tn(n,i){1&n&&s._UZ(0,"app-premium-badge")}function qn(n,i){if(1&n){const n=s.EpF();s.TgZ(0,"li",18),s._uU(1,"\n    "),s.TgZ(2,"div",19),s._uU(3,"\n      "),s._UZ(4,"img",20),s._uU(5,"\n    "),s.qZA(),s._uU(6,"\n    "),s.TgZ(7,"div",21),s._uU(8,"\n      "),s.TgZ(9,"h3",22),s._uU(10),s.YNc(11,wn,9,6,"ng-container",1),s._uU(12,"\n        "),s.YNc(13,Tn,1,0,"app-premium-badge",1),s._uU(14,"\n      "),s.qZA(),s._uU(15),s.qZA(),s._uU(16,"\n    "),s.TgZ(17,"div",23),s._uU(18,"\n      "),s.TgZ(19,"button",24),s.NdJ("click",(function(){const i=s.CHM(n).$implicit,t=s.oxw();return s.KtG(t.manage(i.type))})),s._uU(20),s.ALo(21,"i18n"),s.qZA(),s._uU(22,"\n    "),s.qZA(),s._uU(23,"\n  "),s.qZA()}if(2&n){const n=i.$implicit,t=s.oxw();s.xp6(4),s.Tol("mfaType"+n.type),s.Q6J("alt",n.name+" logo"),s.xp6(6),s.hij("\n        ",n.name,"\n        "),s.xp6(1),s.Q6J("ngIf",n.enabled),s.xp6(2),s.Q6J("ngIf",n.premium),s.xp6(2),s.hij("\n      ",n.description,"\n    "),s.xp6(4),s.Q6J("disabled",!t.canAccessPremium&&n.premium),s.xp6(1),s.hij("\n        ",s.lcZ(21,9,"manage"),"\n      ")}}function On(n,i){}function zn(n,i){}function In(n,i){}function Ln(n,i){}function Sn(n,i){}function Nn(n,i){}const Kn=function(n){return{"mt-5":n}};class Cn extends cn.x{constructor(n,i,t,e,o,a,r){super(n,i,t,e,a),this.route=o,this.organizationService=r,this.tabbedHeader=!1}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return fn(this,void 0,void 0,(function*(){this.route.params.pipe((0,an.b)((n=>{this.organizationId=n.organizationId,this.organization=this.organizationService.get(this.organizationId)})),(0,on.b)((()=>fn(this,void 0,void 0,(function*(){return yield n.ngOnInit.call(this)})))),(0,b.R)(this.destroy$)).subscribe()}))}manage(n){return fn(this,void 0,void 0,(function*(){switch(n){case rn.L.OrganizationDuo:{const n=yield this.openModal(this.duoModalRef,un.C);n.type=rn.L.OrganizationDuo,n.organizationId=this.organizationId,n.onUpdated.pipe((0,b.R)(this.destroy$)).subscribe((n=>{this.updateStatus(n,rn.L.OrganizationDuo)}));break}}}))}getTwoFactorProviders(){return this.apiService.getTwoFactorOrganizationProviders(this.organizationId)}filterProvider(n){return n!==rn.L.OrganizationDuo}}Cn.ɵfac=function(n){return new(n||Cn)(s.Y36(ln.s),s.Y36(U.Z),s.Y36(sn.o),s.Y36(pn.d),s.Y36(r.gz),s.Y36(gn.b),s.Y36(u.Mn))},Cn.ɵcmp=s.Xpm({type:Cn,selectors:[["app-two-factor-setup"]],features:[s.qOj],decls:44,vars:15,consts:[[3,"ngClass"],[4,"ngIf"],["type","warning",4,"ngIf"],[1,"list-group","list-group-2fa"],["class","list-group-item d-flex align-items-center",4,"ngFor","ngForOf"],["authenticatorTemplate",""],["recoveryTemplate",""],["duoTemplate",""],["emailTemplate",""],["yubikeyTemplate",""],["webAuthnTemplate",""],[4,"ngIf","ngIfElse"],["teamsDescription",""],["routerLink","../policies"],["type","warning"],["type","button","bitButton","","buttonType","secondary",3,"click"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","bwi-fw","text-muted",3,"title"],[1,"sr-only"],[1,"list-group-item","d-flex","align-items-center"],[1,"logo-2fa","d-flex","justify-content-center"],[3,"alt"],[1,"mx-4"],[1,"mb-0"],[1,"ml-auto"],["type","button","bitButton","","buttonType","secondary",3,"disabled","click"],["aria-hidden","true",1,"bwi","bwi-check","text-success","bwi-fw",3,"title"]],template:function(n,i){1&n&&(s.TgZ(0,"div",0),s._uU(1,"\n  "),s.YNc(2,hn,3,3,"h1",1),s._uU(3,"\n  "),s.YNc(4,bn,3,3,"h1",1),s._uU(5,"\n"),s.qZA(),s._uU(6,"\n"),s.YNc(7,_n,3,3,"p",1),s._uU(8,"\n"),s.YNc(9,An,10,2,"ng-container",1),s._uU(10,"\n"),s.YNc(11,yn,10,6,"bit-callout",2),s._uU(12,"\n"),s.TgZ(13,"h2",0),s._uU(14),s.ALo(15,"i18n"),s.YNc(16,vn,9,6,"small",1),s._uU(17,"\n"),s.qZA(),s._uU(18,"\n"),s.YNc(19,xn,3,3,"bit-callout",2),s._uU(20,"\n"),s.TgZ(21,"ul",3),s._uU(22,"\n  "),s.YNc(23,qn,24,11,"li",4),s._uU(24,"\n"),s.qZA(),s._uU(25,"\n\n"),s.YNc(26,On,0,0,"ng-template",null,5,s.W1O),s._uU(28,"\n"),s.YNc(29,zn,0,0,"ng-template",null,6,s.W1O),s._uU(31,"\n"),s.YNc(32,In,0,0,"ng-template",null,7,s.W1O),s._uU(34,"\n"),s.YNc(35,Ln,0,0,"ng-template",null,8,s.W1O),s._uU(37,"\n"),s.YNc(38,Sn,0,0,"ng-template",null,9,s.W1O),s._uU(40,"\n"),s.YNc(41,Nn,0,0,"ng-template",null,10,s.W1O),s._uU(43,"\n")),2&n&&(s.Q6J("ngClass",i.tabbedHeader?"tabbed-header":"page-header"),s.xp6(2),s.Q6J("ngIf",!i.organizationId||!i.isEnterpriseOrg),s.xp6(2),s.Q6J("ngIf",i.organizationId&&i.isEnterpriseOrg),s.xp6(3),s.Q6J("ngIf",!i.organizationId),s.xp6(2),s.Q6J("ngIf",i.organizationId),s.xp6(2),s.Q6J("ngIf",!i.organizationId),s.xp6(2),s.Q6J("ngClass",s.VKq(13,Kn,!i.organizationId)),s.xp6(1),s.hij("\n  ",s.lcZ(15,11,"providers"),"\n  "),s.xp6(2),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngIf",i.showPolicyWarning),s.xp6(4),s.Q6J("ngForOf",i.providers))},dependencies:[S.mk,S.sg,S.O5,r.rH,Y.r,dn.O,mn.R,Q.C],encapsulation:2});const Yn=[{path:"",component:en.f,canActivate:[c.G],data:{organizationPermissions:u.DL},children:[{path:"",pathMatch:"full",canActivate:[l.S],data:{autoRedirectCallback:function(n){if(n.isOwner)return"account";if(n.canManagePolicies)return"policies";if(n.canAccessImportExport)return["tools","import"];if(n.canManageSso)return"sso";if(n.canManageScim)return"scim";if(n.canManageDeviceApprovals)return"device-approvals";return}},children:[]},{path:"account",component:tn,data:{titleId:"organizationInfo"}},{path:"two-factor",component:Cn,data:{titleId:"twoStepLogin"}},{path:"policies",component:a.K,canActivate:[c.G],data:{organizationPermissions:n=>n.canManagePolicies,titleId:"policies"}},{path:"tools",loadChildren:()=>Promise.all([t.e(584),t.e(212),t.e(920)]).then(t.bind(t,94920)).then((n=>n.OrganizationImportExportModule))}]}];class Mn{}Mn.ɵfac=function(n){return new(n||Mn)},Mn.ɵmod=s.oAB({type:Mn}),Mn.ɵinj=s.cJS({imports:[r.Bz.forChild(Yn),r.Bz]});class kn{}kn.ɵfac=function(n){return new(n||kn)},kn.ɵmod=s.oAB({type:kn}),kn.ɵinj=s.cJS({imports:[e.m,e.f,a.I2,Mn,o.V]})}}]);
//# sourceMappingURL=554.63fd5932b1204aefe2db.js.map