"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[651],{7651:(e,t,n)=>{n.r(t),n.d(t,{MembersModule:()=>Hn});var i=n(71146),o=n(64984),s=n(65017),r=n(98645),a=n(54019),c=n(92716),l=n(84598),u=n(30359),d=n(33031),p=n(68362),g=n(43493),m=n(58691),h=n(28055),U=n(20698),f=n(15015),Z=n(51261),_=n(75105),b=n(14309);function w(e){return""!==e.value&&e.value&&void 0!==e.value.split(",").map((e=>r.kI.email({value:e.trim()}))).find((e=>null!==e))?{multipleEmails:{message:"multipleInputEmails"}}:null}var v=n(82083);function A(e,t,n){return i=>{if(""===i.value||!i.value)return null;const o=i.value.split(",").filter((e=>e&&!t.some((t=>t===e))));return e.planProductType===v.kv.Free&&t.length+o.length>e.seats?{freePlanLimitReached:{message:n}}:null}}var x=n(24852),y=n(78627),T=n(99721),C=n(80361),q=n(19419),k=n(33245),S=n(98205),I=n(46246),P=n(36338),N=n(66385),M=n(81974),L=n(7172),J=n(29465),O=n(24637),z=n(11512),R=n(75734),G=n(36179),Q=n(44358),Y=n(21656),j=n(17731),E=n(26536),D=n(36689),B=n(27646),F=n(82933);function $(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",6),x._uU(1,"\n        "),x.TgZ(2,"input",7),x.NdJ("change",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.onChildCheck())})),x.qZA(),x._uU(3,"\n        "),x.TgZ(4,"label",2),x._uU(5),x.ALo(6,"i18n"),x.qZA(),x._uU(7,"\n      "),x.qZA()}if(2&e){const e=x.oxw().$implicit,t=x.oxw();x.xp6(2),x.Q6J("name",t.pascalize(e.key))("id",e.key)("formControl",e.value),x.xp6(2),x.Q6J("for",e.key),x.xp6(1),x.hij("\n          ",x.lcZ(6,5,e.key),"\n        ")}}function K(e,t){if(1&e&&(x.ynx(0),x._uU(1,"\n      "),x.YNc(2,$,8,7,"div",5),x._uU(3,"\n    "),x.BQk()),2&e){const e=t.$implicit,n=x.oxw();x.xp6(2),x.Q6J("ngIf",e.key!=n.parentId)}}class H{constructor(){this.destroy$=new a.x,this.onSavedUser=new x.vpe,this.onDeletedUser=new x.vpe}get parentIndeterminate(){return this.children.some((([e,t])=>1==t.value))&&!this.children.every((([e,t])=>1==t.value))}ngOnInit(){this.checkboxes.controls[this.parentId].valueChanges.pipe((0,p.R)(this.destroy$)).subscribe((e=>{Object.values(this.checkboxes.controls).forEach((t=>t.setValue(e,{emitEvent:!1})))}))}get parentCheckbox(){return this.checkboxes.controls[this.parentId]}get children(){return Object.entries(this.checkboxes.controls).filter((([e,t])=>e!=this.parentId))}onChildCheck(){const e=this.children.every((([e,t])=>1==t.value));this.parentCheckbox.setValue(e,{emitEvent:!1})}key(e,t){return t.key}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}pascalize(e){return B.c.camelToPascalCase(e)}}H.ɵfac=function(e){return new(e||H)},H.ɵcmp=x.Xpm({type:H,selectors:[["app-nested-checkbox"]],inputs:{parentId:"parentId",checkboxes:"checkboxes"},outputs:{onSavedUser:"onSavedUser",onDeletedUser:"onDeletedUser"},decls:15,vars:13,consts:[[3,"formGroup"],["type","checkbox",3,"name","id","formControlName","indeterminate"],[1,"!tw-font-normal",3,"for"],[1,"tw-ml-6"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","",4,"ngIf"],[1,""],["type","checkbox",1,"",3,"name","id","formControl","change"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x._uU(1,"\n  "),x._UZ(2,"input",1),x._uU(3,"\n  "),x.TgZ(4,"label",2),x._uU(5),x.ALo(6,"i18n"),x.qZA(),x._uU(7,"\n  "),x.TgZ(8,"div",3),x._uU(9,"\n    "),x.YNc(10,K,4,1,"ng-container",4),x.ALo(11,"keyvalue"),x._uU(12,"\n  "),x.qZA(),x._uU(13,"\n"),x.qZA(),x._uU(14,"\n")),2&e&&(x.Q6J("formGroup",t.checkboxes),x.xp6(2),x.Q6J("name",t.pascalize(t.parentId))("id",t.parentId)("formControlName",t.parentId)("indeterminate",t.parentIndeterminate),x.xp6(2),x.Q6J("for",t.parentId),x.xp6(1),x.hij("\n    ",x.lcZ(6,9,t.parentId),"\n  "),x.xp6(5),x.Q6J("ngForOf",x.lcZ(11,11,t.checkboxes.controls))("ngForTrackBy",t.key))},dependencies:[q.sg,q.O5,r.Wl,r.JJ,r.JL,r.oH,r.sg,r.u,q.Nd,F.C],encapsulation:2});var W,V,X=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};function ee(e,t){if(1&e&&(x.TgZ(0,"span",14),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.params.name)}}function te(e,t){1&e&&(x.TgZ(0,"span",15),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"revoked")))}function ne(e,t){1&e&&(x.ynx(0),x._uU(1,"\n        "),x._UZ(2,"i",16),x.ALo(3,"i18n"),x._uU(4,"\n        "),x.TgZ(5,"span",17),x._uU(6),x.ALo(7,"i18n"),x.qZA(),x._uU(8,"\n      "),x.BQk()),2&e&&(x.xp6(2),x.s9C("title",x.lcZ(3,2,"loading")),x.xp6(4),x.Oqu(x.lcZ(7,4,"loading")))}function ie(e,t){1&e&&(x.ynx(0),x._uU(1,"\n            "),x.TgZ(2,"p"),x._uU(3),x.ALo(4,"i18n"),x.qZA(),x._uU(5,"\n            "),x.TgZ(6,"bit-form-field"),x._uU(7,"\n              "),x.TgZ(8,"bit-label"),x._uU(9),x.ALo(10,"i18n"),x.qZA(),x._uU(11,"\n              "),x._UZ(12,"input",46),x._uU(13,"\n              "),x.TgZ(14,"bit-hint"),x._uU(15),x.ALo(16,"i18n"),x.qZA(),x._uU(17,"\n            "),x.qZA(),x._uU(18,"\n          "),x.BQk()),2&e&&(x.xp6(3),x.Oqu(x.lcZ(4,3,"inviteUserDesc")),x.xp6(6),x.Oqu(x.lcZ(10,5,"email")),x.xp6(6),x.Oqu(x.xi3(16,7,"inviteMultipleEmailDesc","20")))}function oe(e,t){1&e&&(x.ynx(0),x._uU(1,"\n                  "),x.TgZ(2,"div",27),x._uU(3),x.ALo(4,"i18n"),x.TgZ(5,"a",47),x._uU(6),x.ALo(7,"i18n"),x.qZA(),x._uU(8),x.ALo(9,"i18n"),x.qZA(),x._uU(10,"\n                "),x.BQk()),2&e&&(x.xp6(3),x.hij("\n                    ",x.lcZ(4,3,"customDescNonEnterpriseStart"),""),x.xp6(3),x.Oqu(x.lcZ(7,5,"customDescNonEnterpriseLink")),x.xp6(2),x.hij("",x.lcZ(9,7,"customDescNonEnterpriseEnd"),"\n                  "))}function se(e,t){1&e&&(x._uU(0,"\n                  "),x.TgZ(1,"div",27),x._uU(2),x.ALo(3,"i18n"),x.qZA(),x._uU(4,"\n                ")),2&e&&(x.xp6(2),x.hij("\n                    ",x.lcZ(3,1,"customDesc"),"\n                  "))}function re(e,t){if(1&e){const e=x.EpF();x.ynx(0),x._uU(1,"\n            "),x.TgZ(2,"h3",48),x._uU(3),x.ALo(4,"i18n"),x.qZA(),x._uU(5,"\n            "),x.TgZ(6,"div",49),x._uU(7,"\n              "),x.TgZ(8,"div",50),x._uU(9,"\n                "),x.TgZ(10,"div",51),x._uU(11,"\n                  "),x.TgZ(12,"label",52),x._uU(13),x.ALo(14,"i18n"),x.qZA(),x._uU(15,"\n                  "),x._UZ(16,"hr",53),x._uU(17,"\n                  "),x.TgZ(18,"app-nested-checkbox",54),x._uU(19,"\n                  "),x.qZA(),x._uU(20,"\n                "),x.qZA(),x._uU(21,"\n              "),x.qZA(),x._uU(22,"\n              "),x.TgZ(23,"div",50),x._uU(24,"\n                "),x.TgZ(25,"div",51),x._uU(26,"\n                  "),x.TgZ(27,"label",52),x._uU(28),x.ALo(29,"i18n"),x.qZA(),x._uU(30,"\n                  "),x._UZ(31,"hr",53),x._uU(32,"\n                  "),x.TgZ(33,"div"),x._uU(34,"\n                    "),x._UZ(35,"input",55),x._uU(36,"\n                    "),x.TgZ(37,"label",56),x._uU(38),x.ALo(39,"i18n"),x.qZA(),x._uU(40,"\n                  "),x.qZA(),x._uU(41,"\n                  "),x.TgZ(42,"div"),x._uU(43,"\n                    "),x._UZ(44,"input",57),x._uU(45,"\n                    "),x.TgZ(46,"label",58),x._uU(47),x.ALo(48,"i18n"),x.qZA(),x._uU(49,"\n                  "),x.qZA(),x._uU(50,"\n                  "),x.TgZ(51,"div"),x._uU(52,"\n                    "),x._UZ(53,"input",59),x._uU(54,"\n                    "),x.TgZ(55,"label",60),x._uU(56),x.ALo(57,"i18n"),x.qZA(),x._uU(58,"\n                  "),x.qZA(),x._uU(59,"\n                  "),x.TgZ(60,"app-nested-checkbox",61),x._uU(61,"\n                  "),x.qZA(),x._uU(62,"\n                  "),x.TgZ(63,"div"),x._uU(64,"\n                    "),x._UZ(65,"input",62),x._uU(66,"\n                    "),x.TgZ(67,"label",63),x._uU(68),x.ALo(69,"i18n"),x.qZA(),x._uU(70,"\n                  "),x.qZA(),x._uU(71,"\n                  "),x.TgZ(72,"div"),x._uU(73,"\n                    "),x._UZ(74,"input",64),x._uU(75,"\n                    "),x.TgZ(76,"label",65),x._uU(77),x.ALo(78,"i18n"),x.qZA(),x._uU(79,"\n                  "),x.qZA(),x._uU(80,"\n                  "),x.TgZ(81,"div"),x._uU(82,"\n                    "),x._UZ(83,"input",66),x._uU(84,"\n                    "),x.TgZ(85,"label",67),x._uU(86),x.ALo(87,"i18n"),x.qZA(),x._uU(88,"\n                  "),x.qZA(),x._uU(89,"\n                  "),x.TgZ(90,"div"),x._uU(91,"\n                    "),x.TgZ(92,"input",68),x.NdJ("change",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.handleDependentPermissions())})),x.qZA(),x._uU(93,"\n                    "),x.TgZ(94,"label",69),x._uU(95),x.ALo(96,"i18n"),x.qZA(),x._uU(97,"\n                  "),x.qZA(),x._uU(98,"\n                  "),x.TgZ(99,"div"),x._uU(100,"\n                    "),x.TgZ(101,"input",70),x.NdJ("change",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.handleDependentPermissions())})),x.qZA(),x._uU(102,"\n                    "),x.TgZ(103,"label",71),x._uU(104),x.ALo(105,"i18n"),x.qZA(),x._uU(106,"\n                  "),x.qZA(),x._uU(107,"\n                "),x.qZA(),x._uU(108,"\n              "),x.qZA(),x._uU(109,"\n            "),x.qZA(),x._uU(110,"\n          "),x.BQk()}if(2&e){const e=x.oxw(2);x.xp6(3),x.hij("\n              ",x.lcZ(4,14,"permissions"),"\n            "),x.xp6(3),x.Q6J("formGroup",e.permissionsGroup),x.xp6(7),x.Oqu(x.lcZ(14,16,"managerPermissions")),x.xp6(5),x.Q6J("checkboxes",e.permissionsGroup.controls.manageAssignedCollectionsGroup),x.xp6(10),x.Oqu(x.lcZ(29,18,"adminPermissions")),x.xp6(10),x.hij("\n                      ",x.lcZ(39,20,"accessEventLogs"),"\n                    "),x.xp6(9),x.hij("\n                      ",x.lcZ(48,22,"accessImportExport"),"\n                    "),x.xp6(9),x.hij("\n                      ",x.lcZ(57,24,"accessReports"),"\n                    "),x.xp6(4),x.Q6J("checkboxes",e.permissionsGroup.controls.manageAllCollectionsGroup),x.xp6(8),x.hij("\n                      ",x.lcZ(69,26,"manageGroups"),"\n                    "),x.xp6(9),x.hij("\n                      ",x.lcZ(78,28,"manageSso"),"\n                    "),x.xp6(9),x.hij("\n                      ",x.lcZ(87,30,"managePolicies"),"\n                    "),x.xp6(9),x.hij("\n                      ",x.lcZ(96,32,"manageUsers"),"\n                    "),x.xp6(9),x.hij("\n                      ",x.lcZ(105,34,"manageAccountRecovery"),"\n                    ")}}function ae(e,t){1&e&&(x.ynx(0),x._uU(1,"\n            "),x.TgZ(2,"h3",72),x._uU(3),x.ALo(4,"i18n"),x.TgZ(5,"a",73),x.ALo(6,"i18n"),x._uU(7,"\n                "),x._UZ(8,"i",23),x._uU(9,"\n              "),x.qZA(),x._uU(10,"\n            "),x.qZA(),x._uU(11,"\n            "),x.TgZ(12,"p",74),x._uU(13),x.ALo(14,"i18n"),x.qZA(),x._uU(15,"\n            "),x.TgZ(16,"bit-form-control"),x._uU(17,"\n              "),x._UZ(18,"input",75),x._uU(19,"\n              "),x.TgZ(20,"bit-label"),x._uU(21),x.ALo(22,"i18n"),x.qZA(),x._uU(23,"\n            "),x.qZA(),x._uU(24,"\n          "),x.BQk()),2&e&&(x.xp6(3),x.hij("\n              ",x.lcZ(4,4,"secretsManager"),"\n              "),x.xp6(2),x.s9C("appA11yTitle",x.lcZ(6,6,"learnMore")),x.xp6(8),x.Oqu(x.lcZ(14,8,"secretsManagerAccessDescription")),x.xp6(8),x.hij("\n                ",x.lcZ(22,10,"userAccessSecretsManagerGA"),"\n              "))}function ce(e,t){if(1&e&&(x.TgZ(0,"bit-tab",19),x.ALo(1,"i18n"),x._uU(2,"\n          "),x.TgZ(3,"div",42),x._uU(4),x.ALo(5,"i18n"),x.qZA(),x._uU(6,"\n          "),x._UZ(7,"bit-access-selector",76),x.ALo(8,"i18n"),x.ALo(9,"i18n"),x.ALo(10,"i18n"),x._uU(11,"\n        "),x.qZA()),2&e){const e=x.oxw(2);x.Q6J("label",x.lcZ(1,6,"groups")),x.xp6(4),x.hij("\n            ",x.lcZ(5,8,"groupAccessUserDesc"),"\n          "),x.xp6(3),x.Q6J("items",e.groupAccessItems)("columnHeader",x.lcZ(8,10,"groups"))("selectorLabelText",x.lcZ(9,12,"selectGroups"))("emptySelectionText",x.lcZ(10,14,"noGroupsAdded"))}}function le(e,t){1&e&&(x.TgZ(0,"div",42),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.hij("\n            ",x.lcZ(2,1,"userPermissionOverrideHelper"),"\n          "))}function ue(e,t){if(1&e&&(x._UZ(0,"bit-access-selector",77),x.ALo(1,"i18n"),x.ALo(2,"i18n"),x.ALo(3,"i18n")),2&e){const e=x.oxw(2);x.Q6J("permissionMode",e.PermissionMode.Edit)("showGroupColumn",e.organization.useGroups)("items",e.collectionAccessItems)("columnHeader",x.lcZ(1,6,"collection"))("selectorLabelText",x.lcZ(2,8,"selectCollections"))("emptySelectionText",x.lcZ(3,10,"noCollectionsAdded"))}}function de(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"bit-tab-group",18),x.NdJ("selectedIndexChange",(function(t){x.CHM(e);const n=x.oxw();return x.KtG(n.tabIndex=t)})),x._uU(1,"\n        "),x.TgZ(2,"bit-tab",19),x.ALo(3,"i18n"),x._uU(4,"\n          "),x.YNc(5,ie,19,10,"ng-container",6),x._uU(6,"\n          "),x.TgZ(7,"fieldset",20),x._uU(8,"\n            "),x.TgZ(9,"legend",21),x._uU(10),x.ALo(11,"i18n"),x.TgZ(12,"a",22),x.ALo(13,"i18n"),x._uU(14,"\n                "),x._UZ(15,"i",23),x._uU(16,"\n              "),x.qZA(),x._uU(17,"\n            "),x.qZA(),x._uU(18,"\n            "),x.TgZ(19,"div",24),x._uU(20,"\n              "),x._UZ(21,"input",25),x._uU(22,"\n              "),x.TgZ(23,"label",26),x._uU(24),x.ALo(25,"i18n"),x.TgZ(26,"div",27),x._uU(27),x.ALo(28,"i18n"),x.qZA(),x._uU(29,"\n              "),x.qZA(),x._uU(30,"\n            "),x.qZA(),x._uU(31,"\n            "),x.TgZ(32,"div",24),x._uU(33,"\n              "),x._UZ(34,"input",28),x._uU(35,"\n              "),x.TgZ(36,"label",29),x._uU(37),x.ALo(38,"i18n"),x.TgZ(39,"div",27),x._uU(40),x.ALo(41,"i18n"),x.qZA(),x._uU(42,"\n              "),x.qZA(),x._uU(43,"\n            "),x.qZA(),x._uU(44,"\n            "),x.TgZ(45,"div",24),x._uU(46,"\n              "),x._UZ(47,"input",30),x._uU(48,"\n              "),x.TgZ(49,"label",31),x._uU(50),x.ALo(51,"i18n"),x.TgZ(52,"div",27),x._uU(53),x.ALo(54,"i18n"),x.qZA(),x._uU(55,"\n              "),x.qZA(),x._uU(56,"\n            "),x.qZA(),x._uU(57,"\n            "),x.TgZ(58,"div",24),x._uU(59,"\n              "),x._UZ(60,"input",32),x._uU(61,"\n              "),x.TgZ(62,"label",33),x._uU(63),x.ALo(64,"i18n"),x.TgZ(65,"div",27),x._uU(66),x.ALo(67,"i18n"),x.qZA(),x._uU(68,"\n              "),x.qZA(),x._uU(69,"\n            "),x.qZA(),x._uU(70,"\n            "),x.TgZ(71,"div",34),x._uU(72,"\n              "),x._UZ(73,"input",35),x._uU(74,"\n              "),x.TgZ(75,"label",36),x._uU(76),x.ALo(77,"i18n"),x.YNc(78,oe,11,9,"ng-container",37),x._uU(79,"\n                "),x.YNc(80,se,5,3,"ng-template",null,38,x.W1O),x._uU(82,"\n              "),x.qZA(),x._uU(83,"\n            "),x.qZA(),x._uU(84,"\n          "),x.qZA(),x._uU(85,"\n          "),x.YNc(86,re,111,36,"ng-container",6),x._uU(87,"\n          "),x.YNc(88,ae,25,12,"ng-container",6),x._uU(89,"\n          "),x.TgZ(90,"bit-form-field"),x._uU(91,"\n            "),x.TgZ(92,"bit-label"),x._uU(93),x.ALo(94,"i18n"),x.qZA(),x._uU(95,"\n            "),x._UZ(96,"input",39),x._uU(97,"\n            "),x.TgZ(98,"bit-hint"),x._uU(99),x.ALo(100,"i18n"),x.qZA(),x._uU(101,"\n          "),x.qZA(),x._uU(102,"\n        "),x.qZA(),x._uU(103,"\n        "),x.YNc(104,ce,12,16,"bit-tab",40),x._uU(105,"\n        "),x.TgZ(106,"bit-tab",19),x.ALo(107,"i18n"),x._uU(108,"\n          "),x.YNc(109,le,3,3,"div",41),x._uU(110,"\n          "),x.TgZ(111,"div",42),x._uU(112,"\n            "),x.TgZ(113,"bit-form-control"),x._uU(114,"\n              "),x._UZ(115,"input",43),x._uU(116,"\n              "),x.TgZ(117,"bit-label"),x._uU(118),x.ALo(119,"i18n"),x.TgZ(120,"a",44),x.ALo(121,"i18n"),x._uU(122,"\n                  "),x._UZ(123,"i",23),x._uU(124,"\n                "),x.qZA(),x._uU(125,"\n              "),x.qZA(),x._uU(126,"\n              "),x.TgZ(127,"bit-hint"),x._uU(128),x.ALo(129,"i18n"),x.qZA(),x._uU(130,"\n            "),x.qZA(),x._uU(131,"\n          "),x.qZA(),x._uU(132,"\n          "),x.YNc(133,ue,4,12,"bit-access-selector",45),x.qZA(),x._uU(134,"\n      "),x.qZA()}if(2&e){const e=x.MAs(81),t=x.oxw();x.Q6J("selectedIndex",t.tabIndex),x.xp6(2),x.Q6J("label",x.lcZ(3,33,"role")),x.xp6(3),x.Q6J("ngIf",!t.editMode),x.xp6(5),x.hij("\n              ",x.lcZ(11,35,"memberRole"),"\n              "),x.xp6(2),x.s9C("appA11yTitle",x.lcZ(13,37,"learnMore")),x.xp6(9),x.Q6J("value",t.organizationUserType.User),x.xp6(3),x.hij("\n                ",x.lcZ(25,39,"user"),"\n                "),x.xp6(3),x.hij("\n                  ",x.lcZ(28,41,"userDesc"),"\n                "),x.xp6(7),x.Q6J("value",t.organizationUserType.Manager),x.xp6(3),x.hij("\n                ",x.lcZ(38,43,"manager"),"\n                "),x.xp6(3),x.hij("\n                  ",x.lcZ(41,45,"managerDesc"),"\n                "),x.xp6(7),x.Q6J("value",t.organizationUserType.Admin),x.xp6(3),x.hij("\n                ",x.lcZ(51,47,"admin"),"\n                "),x.xp6(3),x.hij("\n                  ",x.lcZ(54,49,"adminDesc"),"\n                "),x.xp6(7),x.Q6J("value",t.organizationUserType.Owner),x.xp6(3),x.hij("\n                ",x.lcZ(64,51,"owner"),"\n                "),x.xp6(3),x.hij("\n                  ",x.lcZ(67,53,"ownerDesc"),"\n                "),x.xp6(7),x.Q6J("value",t.organizationUserType.Custom),x.uIk("disabled",!t.canUseCustomPermissions||null),x.xp6(3),x.hij("\n                ",x.lcZ(77,55,"custom"),"\n                "),x.xp6(2),x.Q6J("ngIf",!t.canUseCustomPermissions)("ngIfElse",e),x.xp6(8),x.Q6J("ngIf",t.customUserTypeSelected),x.xp6(2),x.Q6J("ngIf",t.canUseSecretsManager),x.xp6(5),x.Oqu(x.lcZ(94,57,"externalId")),x.xp6(6),x.Oqu(x.lcZ(100,59,"externalIdDesc")),x.xp6(5),x.Q6J("ngIf",t.organization.useGroups),x.xp6(2),x.Q6J("label",x.lcZ(107,61,"collections")),x.xp6(3),x.Q6J("ngIf",t.organization.useGroups),x.xp6(9),x.hij("\n                ",x.lcZ(119,63,"accessAllCollectionsDesc"),"\n                "),x.xp6(2),x.s9C("appA11yTitle",x.lcZ(121,65,"learnMore")),x.xp6(8),x.Oqu(x.lcZ(129,67,"accessAllCollectionsHelp")),x.xp6(5),x.Q6J("ngIf",!t.accessAllCollections)}}function pe(e,t){if(1&e&&(x.TgZ(0,"button",78),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e){const e=x.oxw();x.Q6J("bitAction",e.restore)("disabled",e.loading),x.xp6(1),x.hij("\n          ",x.lcZ(2,3,"restoreAccess"),"\n        ")}}function ge(e,t){if(1&e&&(x.TgZ(0,"button",78),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e){const e=x.oxw();x.Q6J("bitAction",e.revoke)("disabled",e.loading),x.xp6(1),x.hij("\n          ",x.lcZ(2,3,"revokeAccess"),"\n        ")}}function me(e,t){if(1&e&&(x._UZ(0,"button",79),x.ALo(1,"i18n")),2&e){const e=x.oxw();x.Q6J("appA11yTitle",x.lcZ(1,3,"delete"))("bitAction",e.delete)("disabled",e.loading)}}!function(e){e[e.Role=0]="Role",e[e.Groups=1]="Groups",e[e.Collections=2]="Collections"}(W||(W={})),function(e){e.Saved="saved",e.Canceled="canceled",e.Deleted="deleted",e.Revoked="revoked",e.Restored="restored"}(V||(V={}));class he{get customUserTypeSelected(){return this.formGroup.value.type===h.je.Custom}get accessAllCollections(){return this.formGroup.value.accessAllCollections}constructor(e,t,n,i,o,s,r,c,l,u,d){this.params=e,this.dialogRef=t,this.i18nService=n,this.platformUtilsService=i,this.organizationService=o,this.formBuilder=s,this.collectionAdminService=r,this.groupService=c,this.userService=l,this.organizationUserService=u,this.dialogService=d,this.loading=!0,this.editMode=!1,this.isRevoked=!1,this.access="selected",this.collections=[],this.organizationUserType=h.je,this.PermissionMode=b.R9,this.showNoMasterPasswordWarning=!1,this.collectionAccessItems=[],this.groupAccessItems=[],this.formGroup=this.formBuilder.group({emails:["",{updateOn:"blur"}],type:h.je.User,externalId:this.formBuilder.control({value:"",disabled:!0}),accessAllCollections:!1,accessSecretsManager:!1,access:[[]],groups:[[]]}),this.permissionsGroup=this.formBuilder.group({manageAssignedCollectionsGroup:this.formBuilder.group({manageAssignedCollections:!1,editAssignedCollections:!1,deleteAssignedCollections:!1}),manageAllCollectionsGroup:this.formBuilder.group({manageAllCollections:!1,createNewCollections:!1,editAnyCollection:!1,deleteAnyCollection:!1}),accessEventLogs:!1,accessImportExport:!1,accessReports:!1,manageGroups:!1,manageSso:!1,managePolicies:!1,manageUsers:!1,manageResetPassword:!1}),this.destroy$=new a.x,this.submit=()=>X(this,void 0,void 0,(function*(){var e;if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return void(this.tabIndex!==W.Role&&this.platformUtilsService.showToast("error",null,this.i18nService.t("fieldOnTabRequiresAttention",this.i18nService.t("role"))));if(!this.canUseCustomPermissions&&this.customUserTypeSelected)return void this.platformUtilsService.showToast("error",null,this.i18nService.t("customNonEnterpriseError"));const t=new _.Qg;if(t.id=this.params.organizationUserId,t.organizationId=this.params.organizationId,t.accessAll=this.accessAllCollections,t.type=this.formGroup.value.type,t.permissions=this.setRequestPermissions(null!==(e=t.permissions)&&void 0!==e?e:new U.Q,t.type!==h.je.Custom),t.collections=this.formGroup.value.access.filter((e=>e.type===b.zD.Collection)).map(b.E2),t.groups=this.formGroup.value.groups.map((e=>e.id)),t.accessSecretsManager=this.formGroup.value.accessSecretsManager,this.editMode)yield this.userService.save(t);else{t.id=this.params.organizationUserId;const e=[...new Set(this.formGroup.value.emails.trim().split(/\s*,\s*/))];if(e.length>20)return void this.formGroup.controls.emails.setErrors({tooManyEmails:{message:this.i18nService.t("tooManyEmails",20)}});yield this.userService.invite(e,t)}this.platformUtilsService.showToast("success",null,this.i18nService.t(this.editMode?"editedUserId":"invitedUsers",this.params.name)),this.close(V.Saved)})),this.delete=()=>X(this,void 0,void 0,(function*(){if(!this.editMode)return;const e=this.params.usesKeyConnector?"removeUserConfirmationKeyConnector":"removeOrgUserConfirmation";let t=yield this.dialogService.openSimpleDialog({title:{key:"removeUserIdAccess",placeholders:[this.params.name]},content:{key:e},type:g.rC.WARNING});return!!t&&(!(this.showNoMasterPasswordWarning&&(t=yield this.noMasterPasswordConfirmationDialog(),!t))&&(yield this.organizationUserService.deleteOrganizationUser(this.params.organizationId,this.params.organizationUserId),this.platformUtilsService.showToast("success",null,this.i18nService.t("removedUserId",this.params.name)),void this.close(V.Deleted)))})),this.revoke=()=>X(this,void 0,void 0,(function*(){if(!this.editMode)return;let e=yield this.dialogService.openSimpleDialog({title:{key:"revokeUserId",placeholders:[this.params.name]},content:{key:"revokeUserConfirmation"},acceptButtonText:{key:"revokeAccess"},type:g.rC.WARNING});return!!e&&(!(this.showNoMasterPasswordWarning&&(e=yield this.noMasterPasswordConfirmationDialog(),!e))&&(yield this.organizationUserService.revokeOrganizationUser(this.params.organizationId,this.params.organizationUserId),this.platformUtilsService.showToast("success",null,this.i18nService.t("revokedUserId",this.params.name)),this.isRevoked=!0,void this.close(V.Revoked)))})),this.restore=()=>X(this,void 0,void 0,(function*(){this.editMode&&(yield this.organizationUserService.restoreOrganizationUser(this.params.organizationId,this.params.organizationUserId),this.platformUtilsService.showToast("success",null,this.i18nService.t("restoredUserId",this.params.name)),this.isRevoked=!1,this.close(V.Restored))}))}ngOnInit(){var e;return X(this,void 0,void 0,(function*(){this.editMode=null!=this.params.organizationUserId,this.tabIndex=null!==(e=this.params.initialTab)&&void 0!==e?e:W.Role,this.title=this.i18nService.t(this.editMode?"editMember":"inviteMember");const t=(0,c.of)(this.organizationService.get(this.params.organizationId)).pipe((0,l.d)({refCount:!0,bufferSize:1})),n=t.pipe((0,u.w)((e=>e.useGroups?this.groupService.getAll(this.params.organizationId):(0,c.of)([]))));(0,d.a)({organization:t,collections:this.collectionAdminService.getAll(this.params.organizationId),userDetails:this.params.organizationUserId?this.userService.get(this.params.organizationId,this.params.organizationUserId):(0,c.of)(null),groups:n}).pipe((0,p.R)(this.destroy$)).subscribe((({organization:e,collections:t,userDetails:n,groups:i})=>{this.organization=e,this.canUseCustomPermissions=e.useCustomPermissions,this.canUseSecretsManager=e.useSecretsManager&&(0,f.Sp)("secretsManager");const o=[r.kI.required,w,A(this.organization,this.params.allOrganizationUserEmails,this.i18nService.t("subscriptionFreePlan",e.seats))],s=this.formGroup.get("emails");if(s.setValidators(o),s.updateValueAndValidity(),this.collectionAccessItems=[].concat(t.map((e=>Ue(e)))),this.groupAccessItems=[].concat(i.map((e=>{return t=e,{type:b.zD.Group,id:t.id,labelName:t.name,listName:t.name};var t}))),this.params.organizationUserId){if(!n)throw new Error("Could not find user to edit.");this.isRevoked=n.status===h.Dn.Revoked,this.showNoMasterPasswordWarning=n.status>h.Dn.Invited&&!1===n.hasMasterPassword;const e={editAssignedCollections:n.permissions.editAssignedCollections,deleteAssignedCollections:n.permissions.deleteAssignedCollections,manageAssignedCollections:n.permissions.editAssignedCollections&&n.permissions.deleteAssignedCollections},o={createNewCollections:n.permissions.createNewCollections,editAnyCollection:n.permissions.editAnyCollection,deleteAnyCollection:n.permissions.deleteAnyCollection,manageAllCollections:n.permissions.createNewCollections&&n.permissions.editAnyCollection&&n.permissions.deleteAnyCollection};n.type===h.je.Custom&&this.permissionsGroup.patchValue({accessEventLogs:n.permissions.accessEventLogs,accessImportExport:n.permissions.accessImportExport,accessReports:n.permissions.accessReports,manageGroups:n.permissions.manageGroups,manageSso:n.permissions.manageSso,managePolicies:n.permissions.managePolicies,manageUsers:n.permissions.manageUsers,manageResetPassword:n.permissions.manageResetPassword,manageAssignedCollectionsGroup:e,manageAllCollectionsGroup:o});const s=i.filter((e=>n.groups.includes(e.id))).flatMap((e=>e.collections.map((n=>{const i=t.find((e=>e.id===n.id));return{group:e,collection:i,accessSelection:n}}))));this.collectionAccessItems=this.collectionAccessItems.concat(s.map((({collection:e,accessSelection:t,group:n})=>Ue(e,t,n))));const r=function(e){if(null==e)return[];return[].concat(e.collections.map((e=>({id:e.id,type:b.zD.Collection,permission:(0,b.d4)(e)}))))}(n),a=function(e){if(null==e)return[];return[].concat(e.map((e=>({id:e,type:b.zD.Group}))))}(n.groups);this.formGroup.removeControl("emails"),this.formGroup.patchValue({type:n.type,externalId:n.externalId,accessAllCollections:n.accessAll,access:r,accessSecretsManager:n.accessSecretsManager,groups:a})}this.loading=!1}))}))}check(e,t){e.checked=null==t?!e.checked:t,e.checked||(e.readOnly=!1)}selectAll(e){this.collections.forEach((t=>this.check(t,e)))}setRequestPermissions(e,t){if(t)return new U.Q;const n={accessEventLogs:this.permissionsGroup.value.accessEventLogs,accessImportExport:this.permissionsGroup.value.accessImportExport,accessReports:this.permissionsGroup.value.accessReports,manageGroups:this.permissionsGroup.value.manageGroups,manageSso:this.permissionsGroup.value.manageSso,managePolicies:this.permissionsGroup.value.managePolicies,manageUsers:this.permissionsGroup.value.manageUsers,manageResetPassword:this.permissionsGroup.value.manageResetPassword,createNewCollections:this.permissionsGroup.value.manageAllCollectionsGroup.createNewCollections,editAnyCollection:this.permissionsGroup.value.manageAllCollectionsGroup.editAnyCollection,deleteAnyCollection:this.permissionsGroup.value.manageAllCollectionsGroup.deleteAnyCollection,editAssignedCollections:this.permissionsGroup.value.manageAssignedCollectionsGroup.editAssignedCollections,deleteAssignedCollections:this.permissionsGroup.value.manageAssignedCollectionsGroup.deleteAssignedCollections};return Object.assign(e,n)}handleDependentPermissions(){this.permissionsGroup.value.manageResetPassword&&!this.permissionsGroup.value.manageUsers&&(this.permissionsGroup.value.manageUsers=!0,document.getElementById("manageUsers").checked=!0,this.platformUtilsService.showToast("info",null,this.i18nService.t("resetPasswordManageUsers")))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cancel(){return X(this,void 0,void 0,(function*(){this.close(V.Canceled)}))}close(e){this.dialogRef.close(e)}noMasterPasswordConfirmationDialog(){return this.dialogService.openSimpleDialog({title:{key:"removeOrgUserNoMasterPasswordTitle"},content:{key:"removeOrgUserNoMasterPasswordDesc",placeholders:[this.params.name]},type:g.rC.WARNING})}}function Ue(e,t,n){return{type:b.zD.Collection,id:n?`${e.id}-${n.id}`:e.id,labelName:e.name,listName:e.name,readonly:void 0!==n,readonlyPermission:t?(0,b.d4)(t):void 0,viaGroupName:null==n?void 0:n.name}}he.ɵfac=function(e){return new(e||he)(x.Y36(s.Kt),x.Y36(s.zj),x.Y36(y.D),x.Y36(T.P),x.Y36(m.Mn),x.Y36(r.qu),x.Y36(Z.m),x.Y36(_.lT),x.Y36(_.XD),x.Y36(C.t),x.Y36(g.eo))},he.ɵcmp=x.Xpm({type:he,selectors:[["ng-component"]],decls:40,vars:19,consts:[[3,"formGroup","bitSubmit"],["dialogSize","large",3,"disablePadding"],["bitDialogTitle",""],["class","tw-text-sm tw-normal-case tw-text-muted",4,"ngIf"],["bitBadge","","badgeType","secondary",4,"ngIf"],["bitDialogContent",""],[4,"ngIf"],[3,"selectedIndex","selectedIndexChange",4,"ngIf"],["bitDialogFooter",""],["type","submit","bitButton","","bitFormButton","","buttonType","primary",3,"disabled"],["type","button","bitButton","","bitFormButton","","buttonType","secondary",3,"disabled","click"],[1,"tw-ml-auto"],["type","button","bitButton","","bitFormButton","","buttonType","secondary",3,"bitAction","disabled",4,"ngIf"],["type","button","bitIconButton","bwi-trash","buttonType","danger","bitFormButton","",3,"appA11yTitle","bitAction","disabled",4,"ngIf"],[1,"tw-text-sm","tw-normal-case","tw-text-muted"],["bitBadge","","badgeType","secondary"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["role","radiogroup","aria-labelledby","roleGroupLabel",1,"tw-mb-6"],["id","roleGroupLabel",1,"tw-mb-2","tw-block","tw-text-base","tw-font-semibold","tw-text-main"],["target","_blank","rel","noopener","href","https://bitwarden.com/help/user-types-access-control/",3,"appA11yTitle"],["aria-hidden","true",1,"bwi","bwi-question-circle"],[1,"tw-mb-2","tw-flex","tw-items-baseline"],["type","radio","id","userTypeUser","formControlName","type","name","type",1,"tw-relative","tw-bottom-[-1px]","tw-mr-2",3,"value"],["for","userTypeUser",1,"tw-m-0"],[1,"text-base","tw-block","tw-font-normal","tw-text-muted"],["type","radio","id","userTypeManager","formControlName","type","name","type",1,"tw-relative","tw-bottom-[-1px]","tw-mr-2",3,"value"],["for","userTypeManager",1,"tw-m-0"],["type","radio","id","userTypeAdmin","formControlName","type","name","type",1,"tw-relative","tw-bottom-[-1px]","tw-mr-2",3,"value"],["for","userTypeAdmin",1,"tw-m-0"],["type","radio","id","userTypeOwner","formControlName","type","name","type",1,"tw-relative","tw-bottom-[-1px]","tw-mr-2",3,"value"],["for","userTypeOwner",1,"tw-m-0"],[1,"tw-flex","tw-items-baseline"],["type","radio","id","userTypeCustom","formControlName","type","name","type",1,"tw-relative","tw-bottom-[-1px]","tw-mr-2",3,"value"],["for","userTypeCustom",1,"tw-m-0"],[4,"ngIf","ngIfElse"],["enterprise",""],["bitInput","","type","text","formControlName","externalId"],[3,"label",4,"ngIf"],["class","tw-mb-6",4,"ngIf"],[1,"tw-mb-6"],["type","checkbox","bitCheckbox","","formControlName","accessAllCollections"],["target","_blank","rel","noopener","href","https://bitwarden.com/help/user-types-access-control/#access-control",3,"appA11yTitle"],["formControlName","access",3,"permissionMode","showGroupColumn","items","columnHeader","selectorLabelText","emptySelectionText",4,"ngIf"],["id","emails","type","text","appAutoFocus","","bitInput","","formControlName","emails"],["href","https://bitwarden.com/contact/","target","_blank"],[1,"mt-4","d-flex","tw-font-semibold"],[1,"row",3,"formGroup"],[1,"col-6"],[1,"mb-3"],[1,"tw-font-semibold"],[1,"tw-mb-2","tw-mr-2","tw-mt-0"],["parentId","manageAssignedCollections",3,"checkboxes"],["type","checkbox","name","accessEventLogs","id","accessEventLogs","formControlName","accessEventLogs"],["for","accessEventLogs",1,"!tw-font-normal"],["type","checkbox","name","accessImportExport","id","accessImportExport","formControlName","accessImportExport"],["for","accessImportExport",1,"!tw-font-normal"],["type","checkbox","name","accessReports","id","accessReports","formControlName","accessReports"],["for","accessReports",1,"!tw-font-normal"],["parentId","manageAllCollections",3,"checkboxes"],["type","checkbox","name","manageGroups","id","manageGroups","formControlName","manageGroups"],["for","manageGroups",1,"!tw-font-normal"],["type","checkbox","name","manageSso","id","manageSso","formControlName","manageSso"],["for","manageSso",1,"!tw-font-normal"],["type","checkbox","name","managePolicies","id","managePolicies","formControlName","managePolicies"],["for","managePolicies",1,"!tw-font-normal"],["type","checkbox","name","manageUsers","id","manageUsers","formControlName","manageUsers",3,"change"],["for","manageUsers",1,"!tw-font-normal"],["type","checkbox","name","manageResetPassword","id","manageResetPassword","formControlName","manageResetPassword",3,"change"],["for","manageResetPassword",1,"!tw-font-normal"],[1,"mt-4"],["target","_blank","rel","noopener","href","https://bitwarden.com/help/manage-your-organization/#access-to-secrets-manager",3,"appA11yTitle"],[1,"tw-text-muted"],["type","checkbox","bitCheckbox","","formControlName","accessSecretsManager"],["formControlName","groups",3,"items","columnHeader","selectorLabelText","emptySelectionText"],["formControlName","access",3,"permissionMode","showGroupColumn","items","columnHeader","selectorLabelText","emptySelectionText"],["type","button","bitButton","","bitFormButton","","buttonType","secondary",3,"bitAction","disabled"],["type","button","bitIconButton","bwi-trash","buttonType","danger","bitFormButton","",3,"appA11yTitle","bitAction","disabled"]],template:function(e,t){1&e&&(x.TgZ(0,"form",0),x._uU(1,"\n  "),x.TgZ(2,"bit-dialog",1),x._uU(3,"\n    "),x.TgZ(4,"span",2),x._uU(5),x.YNc(6,ee,2,1,"span",3),x._uU(7,"\n      "),x.YNc(8,te,3,3,"span",4),x._uU(9,"\n    "),x.qZA(),x._uU(10,"\n    "),x.TgZ(11,"div",5),x._uU(12,"\n      "),x.YNc(13,ne,9,6,"ng-container",6),x._uU(14,"\n      "),x.YNc(15,de,135,69,"bit-tab-group",7),x._uU(16,"\n    "),x.qZA(),x._uU(17,"\n    "),x.ynx(18,8),x._uU(19,"\n      "),x.TgZ(20,"button",9),x._uU(21),x.ALo(22,"i18n"),x.qZA(),x._uU(23,"\n      "),x.TgZ(24,"button",10),x.NdJ("click",(function(){return t.cancel()})),x._uU(25),x.ALo(26,"i18n"),x.qZA(),x._uU(27,"\n      "),x.TgZ(28,"div",11),x._uU(29,"\n        "),x.YNc(30,pe,3,5,"button",12),x._uU(31,"\n        "),x.YNc(32,ge,3,5,"button",12),x._uU(33,"\n        "),x.YNc(34,me,2,5,"button",13),x._uU(35,"\n      "),x.qZA(),x._uU(36,"\n    "),x.BQk(),x._uU(37,"\n  "),x.qZA(),x._uU(38,"\n"),x.qZA(),x._uU(39,"\n")),2&e&&(x.Q6J("formGroup",t.formGroup)("bitSubmit",t.submit),x.xp6(2),x.Q6J("disablePadding",!t.loading),x.xp6(3),x.hij("\n      ",t.title,"\n      "),x.xp6(1),x.Q6J("ngIf",!t.loading&&t.params.name),x.xp6(2),x.Q6J("ngIf",t.isRevoked),x.xp6(5),x.Q6J("ngIf",t.loading),x.xp6(2),x.Q6J("ngIf",!t.loading),x.xp6(5),x.Q6J("disabled",t.loading),x.xp6(1),x.hij("\n        ",x.lcZ(22,15,"save"),"\n      "),x.xp6(3),x.Q6J("disabled",t.loading),x.xp6(1),x.hij("\n        ",x.lcZ(26,17,"cancel"),"\n      "),x.xp6(5),x.Q6J("ngIf",t.editMode&&t.isRevoked),x.xp6(2),x.Q6J("ngIf",t.editMode&&!t.isRevoked),x.xp6(2),x.Q6J("ngIf",t.editMode))},dependencies:[q.O5,r._Y,r.Fj,r.Wl,r._,r.JJ,r.JL,r.sg,r.u,k.B,S.Q,I.b,P.u,N.l,M.r,L.b,J.a,O.d,z.G,R.A,G.u,Q.M,Y.Q,j.Q,E.i,D.f,H,F.C],encapsulation:2});var fe=n(20953);class Ze{}Ze.ɵfac=function(e){return new(e||Ze)},Ze.ɵmod=x.oAB({type:Ze}),Ze.ɵinj=x.cJS({imports:[o.P,fe.c]});var _e=n(25158),be=n(47064),we=n(92786),ve=n(59260),Ae=n(59157),xe=n(99042),ye=n(70032),Te=n(5712),Ce=n(19576),qe=n(77494);class ke{}var Se=n(53988),Ie=n(68134),Pe=n(54193),Ne=n(33287),Me=n(53083),Le=n(72802);class Je{constructor(){this.collections=[],this.groups=[],this.groupNames=[],this.collectionNames=[]}static fromResponse(e){const t=Object.assign(new Je,e);return null!=e.collections&&(t.collections=e.collections.map((e=>new Le.K(e)))),null!=e.groups&&(t.groups=e.groups),t}}var Oe=n(48940),ze=n(2138),Re=n(14970),Ge=n(18362),Qe=n(54735),Ye=n(50941),je=n(26361),Ee=n(73672),De=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};function Be(e,t){if(1&e&&(x.TgZ(0,"div",16),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.hij("\n                  ",e.email,"\n                ")}}function Fe(e,t){if(1&e&&(x.TgZ(0,"tr",11),x._uU(1,"\n          "),x.TgZ(2,"td",5),x._uU(3,"\n            "),x.TgZ(4,"div",12),x._uU(5,"\n              "),x._UZ(6,"bit-avatar",13),x.ALo(7,"userName"),x._uU(8,"\n              "),x.TgZ(9,"div",14),x._uU(10,"\n                "),x.TgZ(11,"div"),x._uU(12),x.ALo(13,"userName"),x.qZA(),x._uU(14,"\n                "),x.YNc(15,Be,2,1,"div",15),x._uU(16,"\n              "),x.qZA(),x._uU(17,"\n            "),x.qZA(),x._uU(18,"\n          "),x.qZA(),x._uU(19,"\n          "),x.TgZ(20,"td",5),x._uU(21),x.ALo(22,"userType"),x.qZA(),x._uU(23,"\n        "),x.qZA()),2&e){const e=t.$implicit;x.xp6(6),x.Q6J("text",x.lcZ(7,6,e))("id",e.userId)("color",e.avatarColor),x.xp6(6),x.hij("\n                  ",x.lcZ(13,8,e),"\n                "),x.xp6(3),x.Q6J("ngIf",e.name),x.xp6(6),x.Oqu(x.lcZ(22,10,e.type))}}function $e(e,t){if(1&e&&(x._uU(0,"\n        "),x.YNc(1,Fe,24,12,"tr",10),x.ALo(2,"async"),x._uU(3,"\n      ")),2&e){const e=t.$implicit;x.xp6(1),x.Q6J("ngForOf",x.lcZ(2,1,e))}}class Ke{constructor(e,t,n,i,o){this.dialogRef=e,this.data=t,this.organizationUserService=n,this.platformUtilsService=i,this.i18nService=o,this.dataSource=new ze.G,this.submit=()=>De(this,void 0,void 0,(function*(){yield this.organizationUserService.putOrganizationUserBulkEnableSecretsManager(this.data.orgId,this.dataSource.data.map((e=>e.id))),this.platformUtilsService.showToast("success",null,this.i18nService.t("activatedAccessToSecretsManager")),this.dialogRef.close()}))}ngOnInit(){this.dataSource.data=this.data.users}static open(e,t){return e.open(Ke,{data:t})}}Ke.ɵfac=function(e){return new(e||Ke)(x.Y36(s.zj),x.Y36(s.Kt),x.Y36(C.t),x.Y36(T.P),x.Y36(y.D))},Ke.ɵcmp=x.Xpm({type:Ke,selectors:[["ng-component"]],decls:44,vars:20,consts:[["dialogSize","large"],["bitDialogTitle",""],["bitDialogContent",""],[3,"dataSource"],["header",""],["bitCell",""],["body",""],["bitDialogFooter",""],["type","button","bitButton","","buttonType","primary",3,"bitAction"],["type","button","bitButton","","buttonType","secondary","bitDialogClose",""],["bitRow","",4,"ngFor","ngForOf"],["bitRow",""],[1,"tw-flex","tw-items-center"],["size","small",1,"tw-mr-3",3,"text","id","color"],[1,"tw-flex","tw-flex-col"],["class","tw-text-sm tw-text-muted",4,"ngIf"],[1,"tw-text-sm","tw-text-muted"]],template:function(e,t){1&e&&(x.TgZ(0,"bit-dialog",0),x._uU(1,"\n  "),x.TgZ(2,"span",1),x._uU(3),x.ALo(4,"i18n"),x.qZA(),x._uU(5,"\n  "),x.TgZ(6,"span",2),x._uU(7,"\n    "),x.TgZ(8,"p"),x._uU(9),x.ALo(10,"i18n"),x.qZA(),x._uU(11,"\n    "),x.TgZ(12,"bit-table",3),x._uU(13,"\n      "),x.ynx(14,4),x._uU(15,"\n        "),x.TgZ(16,"tr"),x._uU(17,"\n          "),x.TgZ(18,"th",5),x._uU(19),x.ALo(20,"i18n"),x.qZA(),x._uU(21,"\n          "),x.TgZ(22,"th",5),x._uU(23),x.ALo(24,"i18n"),x.qZA(),x._uU(25,"\n        "),x.qZA(),x._uU(26,"\n      "),x.BQk(),x._uU(27,"\n      "),x.YNc(28,$e,4,3,"ng-template",6),x._uU(29,"\n    "),x.qZA(),x._uU(30,"\n  "),x.qZA(),x._uU(31,"\n  "),x.ynx(32,7),x._uU(33,"\n    "),x.TgZ(34,"button",8),x._uU(35),x.ALo(36,"i18n"),x.qZA(),x._uU(37,"\n    "),x.TgZ(38,"button",9),x._uU(39),x.ALo(40,"i18n"),x.qZA(),x._uU(41,"\n  "),x.BQk(),x._uU(42,"\n"),x.qZA(),x._uU(43,"\n")),2&e&&(x.xp6(3),x.Oqu(x.lcZ(4,8,"activateSecretsManager")),x.xp6(6),x.Oqu(x.lcZ(10,10,"bulkEnableSecretsManagerDescription")),x.xp6(3),x.Q6J("dataSource",t.dataSource),x.xp6(7),x.Oqu(x.lcZ(20,12,"member")),x.xp6(4),x.Oqu(x.lcZ(24,14,"role")),x.xp6(11),x.Q6J("bitAction",t.submit),x.xp6(1),x.hij("\n      ",x.lcZ(36,16,"activateAccess"),"\n    "),x.xp6(4),x.hij("\n      ",x.lcZ(40,18,"close"),"\n    "))},dependencies:[q.sg,q.O5,S.Q,Re.A,M.r,J.a,Ge.f,Qe.a,Ye.Y,je.v,Qe.f,q.Ov,F.C,Ce.z,Ee.t],encapsulation:2});var He=n(20172),We=n(53707),Ve=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};function Xe(e,t){1&e&&(x.TgZ(0,"app-callout",14),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.hij("\n          ",x.lcZ(2,1,"noSelectedUsersApplicable"),"\n        "))}function et(e,t){if(1&e&&(x.TgZ(0,"app-callout",15),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.hij("\n          ",e.error,"\n        ")}}function tt(e,t){1&e&&(x.TgZ(0,"p"),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.hij("\n              ",x.lcZ(2,1,"removeMembersWithoutMasterPasswordWarning"),"\n            "))}function nt(e,t){if(1&e&&(x.TgZ(0,"app-callout",20),x._uU(1,"\n            "),x.TgZ(2,"p"),x._uU(3),x.ALo(4,"i18n"),x.qZA(),x._uU(5,"\n            "),x.YNc(6,tt,3,3,"p",10),x._uU(7,"\n          "),x.qZA()),2&e){const e=x.oxw(2);x.xp6(3),x.Oqu(x.lcZ(4,2,"revokeUsersWarning")),x.xp6(3),x.Q6J("ngIf",e.showNoMasterPasswordWarning)}}function it(e,t){1&e&&(x.TgZ(0,"th"),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"details")))}function ot(e,t){if(1&e&&(x.TgZ(0,"small",24),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.name)}}function st(e,t){1&e&&(x.ynx(0),x._uU(1," - "),x.BQk())}function rt(e,t){1&e&&(x.ynx(0),x._uU(1,"\n                    "),x._UZ(2,"i",26),x._uU(3),x.ALo(4,"i18n"),x.BQk()),2&e&&(x.xp6(3),x.hij("\n                    ",x.lcZ(4,1,"noMasterPassword"),"\n                  "))}function at(e,t){if(1&e&&(x.TgZ(0,"td"),x._uU(1,"\n                "),x.TgZ(2,"span",25),x._uU(3,"\n                  "),x.YNc(4,st,2,0,"ng-container",10),x._uU(5,"\n                  "),x.YNc(6,rt,5,3,"ng-container",10),x._uU(7,"\n                "),x.qZA(),x._uU(8,"\n              "),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(4),x.Q6J("ngIf",!0===e.hasMasterPassword),x.xp6(2),x.Q6J("ngIf",!1===e.hasMasterPassword)}}function ct(e,t){if(1&e&&(x.TgZ(0,"tr"),x._uU(1,"\n              "),x.TgZ(2,"td",21),x._uU(3,"\n                "),x._UZ(4,"bit-avatar",22),x.ALo(5,"userName"),x._uU(6,"\n              "),x.qZA(),x._uU(7,"\n              "),x.TgZ(8,"td"),x._uU(9),x.YNc(10,ot,2,1,"small",23),x._uU(11,"\n              "),x.qZA(),x._uU(12,"\n              "),x.YNc(13,at,9,2,"td",10),x._uU(14,"\n            "),x.qZA()),2&e){const e=t.$implicit,n=x.oxw(2);x.xp6(4),x.Q6J("text",x.lcZ(5,5,e))("id",e.id),x.xp6(5),x.hij("\n                ",e.email,"\n                "),x.xp6(1),x.Q6J("ngIf",e.name),x.xp6(3),x.Q6J("ngIf",n.showNoMasterPasswordWarning)}}function lt(e,t){if(1&e&&(x.ynx(0),x._uU(1,"\n          "),x.YNc(2,nt,8,4,"app-callout",16),x._uU(3,"\n          "),x.TgZ(4,"table",17),x._uU(5,"\n            "),x.TgZ(6,"thead"),x._uU(7,"\n              "),x.TgZ(8,"tr"),x._uU(9,"\n                "),x.TgZ(10,"th",18),x._uU(11),x.ALo(12,"i18n"),x.qZA(),x._uU(13,"\n                "),x.YNc(14,it,3,3,"th",10),x._uU(15,"\n              "),x.qZA(),x._uU(16,"\n            "),x.qZA(),x._uU(17,"\n            "),x.YNc(18,ct,15,7,"tr",19),x._uU(19,"\n          "),x.qZA(),x._uU(20,"\n        "),x.BQk()),2&e){const e=x.oxw();x.xp6(2),x.Q6J("ngIf",e.users.length>0&&!e.error&&e.isRevoking),x.xp6(9),x.Oqu(x.lcZ(12,4,"user")),x.xp6(3),x.Q6J("ngIf",e.showNoMasterPasswordWarning),x.xp6(4),x.Q6J("ngForOf",e.users)}}function ut(e,t){if(1&e&&(x.TgZ(0,"small",24),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.name)}}function dt(e,t){if(1&e&&(x.TgZ(0,"td"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit,t=x.oxw(2);x.xp6(1),x.hij("\n                ",t.statuses.get(e.id),"\n              ")}}function pt(e,t){1&e&&(x.TgZ(0,"td"),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.hij("\n                ",x.lcZ(2,1,"bulkFilteredMessage"),"\n              "))}function gt(e,t){if(1&e&&(x.TgZ(0,"tr"),x._uU(1,"\n              "),x.TgZ(2,"td",21),x._uU(3,"\n                "),x._UZ(4,"bit-avatar",22),x.ALo(5,"userName"),x._uU(6,"\n              "),x.qZA(),x._uU(7,"\n              "),x.TgZ(8,"td"),x._uU(9),x.YNc(10,ut,2,1,"small",23),x._uU(11,"\n              "),x.qZA(),x._uU(12,"\n              "),x.YNc(13,dt,2,1,"td",10),x._uU(14,"\n              "),x.YNc(15,pt,3,3,"td",10),x._uU(16,"\n            "),x.qZA()),2&e){const e=t.$implicit,n=x.oxw(2);x.xp6(4),x.Q6J("text",x.lcZ(5,6,e))("id",e.id),x.xp6(5),x.hij("\n                ",e.email,"\n                "),x.xp6(1),x.Q6J("ngIf",e.name),x.xp6(3),x.Q6J("ngIf",n.statuses.has(e.id)),x.xp6(2),x.Q6J("ngIf",!n.statuses.has(e.id))}}function mt(e,t){if(1&e&&(x.ynx(0),x._uU(1,"\n          "),x.TgZ(2,"table",17),x._uU(3,"\n            "),x.TgZ(4,"thead"),x._uU(5,"\n              "),x.TgZ(6,"tr"),x._uU(7,"\n                "),x.TgZ(8,"th",18),x._uU(9),x.ALo(10,"i18n"),x.qZA(),x._uU(11,"\n                "),x.TgZ(12,"th"),x._uU(13),x.ALo(14,"i18n"),x.qZA(),x._uU(15,"\n              "),x.qZA(),x._uU(16,"\n            "),x.qZA(),x._uU(17,"\n            "),x.YNc(18,gt,17,8,"tr",19),x._uU(19,"\n          "),x.qZA(),x._uU(20,"\n        "),x.BQk()),2&e){const e=x.oxw();x.xp6(9),x.Oqu(x.lcZ(10,3,"user")),x.xp6(4),x.Oqu(x.lcZ(14,5,"status")),x.xp6(5),x.Q6J("ngForOf",e.users)}}function ht(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",27),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw();return x.KtG(t.submit())})),x._uU(1,"\n          "),x._UZ(2,"i",28),x.ALo(3,"i18n"),x._uU(4,"\n          "),x.TgZ(5,"span"),x._uU(6),x.qZA(),x._uU(7,"\n        "),x.qZA()}if(2&e){const e=x.oxw();x.Q6J("disabled",e.loading),x.xp6(2),x.s9C("title",x.lcZ(3,3,"loading")),x.xp6(4),x.Oqu(e.bulkTitle)}}class Ut{constructor(e,t,n){this.i18nService=e,this.organizationUserService=t,this.statuses=new Map,this.loading=!1,this.done=!1,this.showNoMasterPasswordWarning=!1,this.isRevoking=n.data.isRevoking,this.organizationId=n.data.organizationId,this.users=n.data.users,this.showNoMasterPasswordWarning=this.users.some((e=>!1===e.hasMasterPassword))}get bulkTitle(){const e=this.isRevoking?"revokeUsers":"restoreUsers";return this.i18nService.t(e)}submit(){return Ve(this,void 0,void 0,(function*(){this.loading=!0;try{const e=yield this.performBulkUserAction(),t=this.isRevoking?"bulkRevokedMessage":"bulkRestoredMessage";e.data.forEach((e=>{const n=""!==e.error?e.error:this.i18nService.t(t);this.statuses.set(e.id,n)})),this.done=!0}catch(e){this.error=e.message}this.loading=!1}))}performBulkUserAction(){return Ve(this,void 0,void 0,(function*(){const e=this.users.map((e=>e.id));return this.isRevoking?yield this.organizationUserService.revokeManyOrganizationUsers(this.organizationId,e):yield this.organizationUserService.restoreManyOrganizationUsers(this.organizationId,e)}))}}Ut.ɵfac=function(e){return new(e||Ut)(x.Y36(y.D),x.Y36(C.t),x.Y36(qe.u))},Ut.ɵcmp=x.Xpm({type:Ut,selectors:[["app-bulk-restore-revoke"]],decls:42,vars:12,consts:[["role","dialog","aria-modal","true","aria-labelledby","bulkTitle",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-scrollable","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","bulkTitle",1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"appA11yTitle"],["aria-hidden","true"],[1,"modal-body"],["type","danger",4,"ngIf"],["type","error",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","submit","class","btn btn-primary btn-submit",3,"disabled","click",4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary"],["type","danger"],["type","error"],["type","warning",4,"ngIf"],[1,"table","table-hover","table-list"],["colspan","2"],[4,"ngFor","ngForOf"],["type","warning"],["width","30"],["size","small",3,"text","id"],["class","text-muted d-block",4,"ngIf"],[1,"text-muted","d-block"],[1,"text-muted","d-block","tw-lowercase"],["aria-hidden","true",1,"bwi","bwi-exclamation-triangle"],["type","submit",1,"btn","btn-primary","btn-submit",3,"disabled","click"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x._uU(1,"\n  "),x.TgZ(2,"div",1),x._uU(3,"\n    "),x.TgZ(4,"div",2),x._uU(5,"\n      "),x.TgZ(6,"div",3),x._uU(7,"\n        "),x.TgZ(8,"h1",4),x._uU(9),x.qZA(),x._uU(10,"\n        "),x.TgZ(11,"button",5),x.ALo(12,"i18n"),x._uU(13,"\n          "),x.TgZ(14,"span",6),x._uU(15,"×"),x.qZA(),x._uU(16,"\n        "),x.qZA(),x._uU(17,"\n      "),x.qZA(),x._uU(18,"\n      "),x.TgZ(19,"div",7),x._uU(20,"\n        "),x.YNc(21,Xe,3,3,"app-callout",8),x._uU(22,"\n        "),x.YNc(23,et,2,1,"app-callout",9),x._uU(24,"\n        "),x.YNc(25,lt,21,6,"ng-container",10),x._uU(26,"\n        "),x.YNc(27,mt,21,7,"ng-container",10),x._uU(28,"\n      "),x.qZA(),x._uU(29,"\n      "),x.TgZ(30,"div",11),x._uU(31,"\n        "),x.YNc(32,ht,8,5,"button",12),x._uU(33,"\n        "),x.TgZ(34,"button",13),x._uU(35),x.ALo(36,"i18n"),x.qZA(),x._uU(37,"\n      "),x.qZA(),x._uU(38,"\n    "),x.qZA(),x._uU(39,"\n  "),x.qZA(),x._uU(40,"\n"),x.qZA(),x._uU(41,"\n")),2&e&&(x.xp6(9),x.hij("\n          ",t.bulkTitle,"\n        "),x.xp6(2),x.s9C("appA11yTitle",x.lcZ(12,8,"close")),x.xp6(10),x.Q6J("ngIf",t.users.length<=0),x.xp6(2),x.Q6J("ngIf",t.error),x.xp6(2),x.Q6J("ngIf",!t.done),x.xp6(2),x.Q6J("ngIf",t.done),x.xp6(5),x.Q6J("ngIf",!t.done&&t.users.length>0),x.xp6(3),x.hij("\n          ",x.lcZ(36,10,"close"),"\n        "))},dependencies:[q.sg,q.O5,k.B,We.O,Re.A,F.C,Ce.z],encapsulation:2});var ft=n(63971),Zt=n(81542),_t=n(26987),bt=n(88160),wt=n(70427),vt=n(55637),At=n(27737),xt=n(83924),yt=n(76528),Tt=n(66459),Ct=n(24610),qt=n(62374),kt=n(85356),St=n(2051),It=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};function Pt(e,t){if(1&e&&(x.TgZ(0,"small",30),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.name)}}function Nt(e,t){if(1&e&&(x.TgZ(0,"app-callout",31),x.ALo(1,"i18n"),x._uU(2,"\n        "),x.qZA()),2&e){const e=x.oxw();x.s9C("enforcedPolicyMessage",x.lcZ(1,2,"resetPasswordMasterPasswordPolicyInEffect")),x.Q6J("enforcedPolicyOptions",e.enforcedPolicyOptions)}}const Mt=function(e,t){return{"bwi-eye":e,"bwi-eye-slash":t}};class Lt{constructor(e,t,n,i,o,s,r,c){this.i18nService=e,this.platformUtilsService=t,this.passwordGenerationService=n,this.policyService=i,this.cryptoService=o,this.logService=s,this.organizationUserService=r,this.dialogService=c,this.onPasswordReset=new x.vpe,this.newPassword=null,this.showPassword=!1,this.destroy$=new a.x}ngOnInit(){return It(this,void 0,void 0,(function*(){this.policyService.masterPasswordPolicyOptions$().pipe((0,p.R)(this.destroy$)).subscribe((e=>this.enforcedPolicyOptions=e))}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get loggedOutWarningName(){return null!=this.name?this.name:this.i18nService.t("thisUser")}generatePassword(){var e,t;return It(this,void 0,void 0,(function*(){const n=null!==(t=null===(e=yield this.passwordGenerationService.getOptions())||void 0===e?void 0:e[0])&&void 0!==t?t:{};this.newPassword=yield this.passwordGenerationService.generatePassword(n),this.passwordStrengthComponent.updatePasswordStrength(this.newPassword)}))}togglePassword(){this.showPassword=!this.showPassword,document.getElementById("newPassword").focus()}copy(e){null!=e&&(this.platformUtilsService.copyToClipboard(e,{window}),this.platformUtilsService.showToast("info",null,this.i18nService.t("valueCopied",this.i18nService.t("password"))))}submit(){return It(this,void 0,void 0,(function*(){if(null==this.newPassword||""===this.newPassword)return this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("masterPasswordRequired")),!1;if(this.newPassword.length<B.c.minimumPasswordLength)return this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("masterPasswordMinlength",B.c.minimumPasswordLength)),!1;if(null==this.enforcedPolicyOptions||this.policyService.evaluateMasterPassword(this.passwordStrengthResult.score,this.newPassword,this.enforcedPolicyOptions)){if(this.passwordStrengthResult.score<3){if(!(yield this.dialogService.openSimpleDialog({title:{key:"weakMasterPassword"},content:{key:"weakMasterPasswordDesc"},type:g.rC.WARNING})))return!1}try{this.formPromise=this.organizationUserService.getOrganizationUserResetPasswordDetails(this.organizationId,this.id).then((e=>It(this,void 0,void 0,(function*(){if(null==e)throw new Error(this.i18nService.t("resetPasswordDetailsError"));const t=e.kdf,n=e.kdfIterations,i=e.kdfMemory,o=e.kdfParallelism,s=e.resetPasswordKey,r=e.encryptedPrivateKey,a=yield this.cryptoService.getOrgKey(this.organizationId),c=yield this.cryptoService.decryptToBytes(new wt._(r),a),l=yield this.cryptoService.rsaDecrypt(s,c),u=new vt.N(l),d=yield this.cryptoService.makeKey(this.newPassword,this.email.trim().toLowerCase(),t,new bt.E(n,i,o)),p=yield this.cryptoService.hashPassword(this.newPassword,d),g=yield this.cryptoService.remakeEncKey(d,u),m=new _t.s;return m.key=g[1].encryptedString,m.newMasterPasswordHash=p,this.organizationUserService.putOrganizationUserResetPassword(this.organizationId,this.id,m)})))),yield this.formPromise,this.platformUtilsService.showToast("success",null,this.i18nService.t("resetPasswordSuccess")),this.onPasswordReset.emit()}catch(e){this.logService.error(e)}}else this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("masterPasswordPolicyRequirementsNotMet"))}))}getStrengthResult(e){this.passwordStrengthResult=e}}Lt.ɵfac=function(e){return new(e||Lt)(x.Y36(y.D),x.Y36(T.P),x.Y36(At.UW),x.Y36(xt.d),x.Y36(yt.$),x.Y36(Tt.$),x.Y36(C.t),x.Y36(g.eo))},Lt.ɵcmp=x.Xpm({type:Lt,selectors:[["app-reset-password"]],viewQuery:function(e,t){if(1&e&&x.Gf(Zt.Z,5),2&e){let e;x.iGM(e=x.CRH())&&(t.passwordStrengthComponent=e.first)}},inputs:{name:"name",email:"email",id:"id",organizationId:"organizationId"},outputs:{onPasswordReset:"onPasswordReset"},decls:97,vars:44,consts:[["role","dialog","aria-modal","true","aria-labelledby","resetPasswordTitle",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content",3,"appApiAction","ngSubmit"],["form",""],[1,"modal-header"],["id","resetPasswordTitle",1,"modal-title"],["class","text-muted",4,"ngIf"],["type","button","data-dismiss","modal",1,"close",3,"appA11yTitle"],["aria-hidden","true"],[1,"modal-body"],["type","warning"],["type","info",3,"enforcedPolicyOptions","enforcedPolicyMessage",4,"ngIf"],[1,"row"],[1,"col","form-group"],[1,"d-flex"],["for","newPassword"],[1,"ml-auto","d-flex"],["href","#","appStopClick","",1,"d-block","mr-2","bwi-icon-above-input",3,"appA11yTitle","click"],["aria-hidden","true",1,"bwi","bwi-lg","bwi-fw","bwi-refresh"],[1,"input-group","mb-1"],["id","newPassword","appAutofocus","","name","NewPassword","required","","appInputVerbatim","","autocomplete","new-password",1,"form-control","text-monospace",3,"type","ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"appA11yTitle","click"],["aria-hidden","true",1,"bwi","bwi-lg",3,"ngClass"],["aria-hidden","true",1,"bwi","bwi-lg","bwi-clone"],[3,"password","email","showText","passwordStrengthResult"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","btn-submit",3,"disabled"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"],["type","button","data-dismiss","modal",1,"btn","btn-outline-secondary"],[1,"text-muted"],["type","info",3,"enforcedPolicyOptions","enforcedPolicyMessage"]],template:function(e,t){if(1&e&&(x.TgZ(0,"div",0),x._uU(1,"\n  "),x.TgZ(2,"div",1),x._uU(3,"\n    "),x.TgZ(4,"form",2,3),x.NdJ("ngSubmit",(function(){return t.submit()})),x._uU(6,"\n      "),x.TgZ(7,"div",4),x._uU(8,"\n        "),x.TgZ(9,"h1",5),x._uU(10),x.ALo(11,"i18n"),x.YNc(12,Pt,2,1,"small",6),x._uU(13,"\n        "),x.qZA(),x._uU(14,"\n        "),x.TgZ(15,"button",7),x.ALo(16,"i18n"),x._uU(17,"\n          "),x.TgZ(18,"span",8),x._uU(19,"×"),x.qZA(),x._uU(20,"\n        "),x.qZA(),x._uU(21,"\n      "),x.qZA(),x._uU(22,"\n      "),x.TgZ(23,"div",9),x._uU(24,"\n        "),x.TgZ(25,"app-callout",10),x._uU(26),x.ALo(27,"i18n"),x.qZA(),x._uU(28,"\n        "),x.YNc(29,Nt,3,4,"app-callout",11),x._uU(30,"\n        "),x.TgZ(31,"div",12),x._uU(32,"\n          "),x.TgZ(33,"div",13),x._uU(34,"\n            "),x.TgZ(35,"div",14),x._uU(36,"\n              "),x.TgZ(37,"label",15),x._uU(38),x.ALo(39,"i18n"),x.qZA(),x._uU(40,"\n              "),x.TgZ(41,"div",16),x._uU(42,"\n                "),x.TgZ(43,"a",17),x.NdJ("click",(function(){return t.generatePassword()})),x.ALo(44,"i18n"),x._uU(45,"\n                  "),x._UZ(46,"i",18),x._uU(47,"\n                "),x.qZA(),x._uU(48,"\n              "),x.qZA(),x._uU(49,"\n            "),x.qZA(),x._uU(50,"\n            "),x.TgZ(51,"div",19),x._uU(52,"\n              "),x.TgZ(53,"input",20),x.NdJ("ngModelChange",(function(e){return t.newPassword=e})),x.qZA(),x._uU(54,"\n              "),x.TgZ(55,"div",21),x._uU(56,"\n                "),x.TgZ(57,"button",22),x.NdJ("click",(function(){return t.togglePassword()})),x.ALo(58,"i18n"),x._uU(59,"\n                  "),x._UZ(60,"i",23),x._uU(61,"\n                "),x.qZA(),x._uU(62,"\n                "),x.TgZ(63,"button",22),x.NdJ("click",(function(){return t.copy(t.newPassword)})),x.ALo(64,"i18n"),x._uU(65,"\n                  "),x._UZ(66,"i",24),x._uU(67,"\n                "),x.qZA(),x._uU(68,"\n              "),x.qZA(),x._uU(69,"\n            "),x.qZA(),x._uU(70,"\n            "),x.TgZ(71,"app-password-strength",25),x.NdJ("passwordStrengthResult",(function(e){return t.getStrengthResult(e)})),x._uU(72,"\n            "),x.qZA(),x._uU(73,"\n          "),x.qZA(),x._uU(74,"\n        "),x.qZA(),x._uU(75,"\n      "),x.qZA(),x._uU(76,"\n      "),x.TgZ(77,"div",26),x._uU(78,"\n        "),x.TgZ(79,"button",27),x._uU(80,"\n          "),x._UZ(81,"i",28),x.ALo(82,"i18n"),x._uU(83,"\n          "),x.TgZ(84,"span"),x._uU(85),x.ALo(86,"i18n"),x.qZA(),x._uU(87,"\n        "),x.qZA(),x._uU(88,"\n        "),x.TgZ(89,"button",29),x._uU(90),x.ALo(91,"i18n"),x.qZA(),x._uU(92,"\n      "),x.qZA(),x._uU(93,"\n    "),x.qZA(),x._uU(94,"\n  "),x.qZA(),x._uU(95,"\n"),x.qZA(),x._uU(96,"\n")),2&e){const e=x.MAs(5);x.xp6(4),x.Q6J("appApiAction",t.formPromise),x.xp6(6),x.hij("\n          ",x.lcZ(11,20,"recoverAccount"),"\n          "),x.xp6(2),x.Q6J("ngIf",t.name),x.xp6(3),x.s9C("appA11yTitle",x.lcZ(16,22,"close")),x.xp6(11),x.hij("",x.xi3(27,24,"resetPasswordLoggedOutWarning",t.loggedOutWarningName),"\n        "),x.xp6(3),x.Q6J("ngIf",t.enforcedPolicyOptions),x.xp6(9),x.Oqu(x.lcZ(39,27,"newPassword")),x.xp6(5),x.s9C("appA11yTitle",x.lcZ(44,29,"generatePassword")),x.xp6(10),x.s9C("type",t.showPassword?"text":"password"),x.Q6J("ngModel",t.newPassword),x.xp6(4),x.s9C("appA11yTitle",x.lcZ(58,31,"toggleVisibility")),x.xp6(3),x.Q6J("ngClass",x.WLB(41,Mt,!t.showPassword,t.showPassword)),x.xp6(3),x.s9C("appA11yTitle",x.lcZ(64,33,"copyPassword")),x.xp6(8),x.Q6J("password",t.newPassword)("email",t.email)("showText",!0),x.xp6(8),x.Q6J("disabled",e.loading),x.xp6(2),x.s9C("title",x.lcZ(82,35,"loading")),x.xp6(4),x.Oqu(x.lcZ(86,37,"save")),x.xp6(5),x.hij("\n          ",x.lcZ(91,39,"cancel"),"\n        ")}},dependencies:[q.mk,q.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F,k.B,Ct.b,qt.U,We.O,kt.b,St.O,Zt.Z,F.C],encapsulation:2});var Jt=n(55602),Ot=n(51430),zt=n(14494),Rt=n(50137),Gt=n(4871),Qt=n(58172),Yt=n(97360),jt=n(31754),Et=n(56617),Dt=n(1874),Bt=n(12492),Ft=n(73974),$t=n(26194),Kt=n(44234),Ht=n(91849);let Wt=0;class Vt{constructor(){this.id=Wt++,this.name=`bit-toggle-group-${this.id}`,this.selectedChange=new x.vpe,this.role="radiogroup",this.classList=["tw-flex"]}onInputInteraction(e){this.selected=e,this.selectedChange.emit(e)}}Vt.ɵfac=function(e){return new(e||Vt)},Vt.ɵcmp=x.Xpm({type:Vt,selectors:[["bit-toggle-group"]],hostVars:3,hostBindings:function(e,t){2&e&&(x.uIk("role",t.role),x.Tol(t.classList))},inputs:{selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:["*"],decls:1,vars:0,template:function(e,t){1&e&&(x.F$t(),x.Hsn(0))},encapsulation:2});let Xt=0;class en{constructor(e){this.groupComponent=e,this.id=Xt++,this.tabIndex="-1",this.classList=["tw-group"]}get name(){return this.groupComponent.name}get selected(){return this.groupComponent.selected===this.value}get inputClasses(){return["tw-peer","tw-appearance-none","tw-outline-none"]}get labelClasses(){return["!tw-font-semibold","tw-transition","tw-text-center","tw-border-text-muted","!tw-text-muted","tw-border-solid","tw-border-y","tw-border-r","tw-border-l-0","tw-cursor-pointer","group-first-of-type:tw-border-l","group-first-of-type:tw-rounded-l","group-last-of-type:tw-rounded-r","peer-focus:tw-outline-none","peer-focus:tw-ring","peer-focus:tw-ring-offset-2","peer-focus:tw-ring-primary-500","peer-focus:tw-z-10","peer-focus:tw-bg-primary-500","peer-focus:tw-border-primary-500","peer-focus:!tw-text-contrast","hover:tw-no-underline","hover:tw-bg-text-muted","hover:tw-border-text-muted","hover:!tw-text-contrast","peer-checked:tw-bg-primary-500","peer-checked:tw-border-primary-500","peer-checked:!tw-text-contrast","tw-py-1.5","tw-px-3","!tw-mb-0","[&>[bitBadge]]:tw-relative","[&>[bitBadge]]:tw--top-px"]}onInputInteraction(){this.groupComponent.onInputInteraction(this.value)}}en.ɵfac=function(e){return new(e||en)(x.Y36(Vt))},en.ɵcmp=x.Xpm({type:en,selectors:[["bit-toggle"]],hostVars:3,hostBindings:function(e,t){2&e&&(x.Ikx("tabIndex",t.tabIndex),x.Tol(t.classList))},inputs:{value:"value"},ngContentSelectors:["*"],decls:3,vars:6,consts:[["type","radio",3,"id","name","ngClass","checked","change"],[3,"for","ngClass"]],template:function(e,t){1&e&&(x.F$t(),x.TgZ(0,"input",0),x.NdJ("change",(function(){return t.onInputInteraction()})),x.qZA(),x.TgZ(1,"label",1),x.Hsn(2),x.qZA()),2&e&&(x.MGl("id","bit-toggle-",t.id,""),x.Q6J("name",t.name)("ngClass",t.inputClasses)("checked",t.selected),x.xp6(1),x.MGl("for","bit-toggle-",t.id,""),x.Q6J("ngClass",t.labelClasses))},dependencies:[q.mk],encapsulation:2});var tn=n(94239),nn=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const on=["groupsTemplate"],sn=["confirmTemplate"],rn=["resetPasswordTemplate"],an=["bulkStatusTemplate"],cn=["bulkConfirmTemplate"],ln=["bulkRemoveTemplate"];function un(e,t){if(1&e&&(x.TgZ(0,"span",17),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.allCount)}}function dn(e,t){if(1&e&&(x.TgZ(0,"span",17),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.invitedCount)}}function pn(e,t){if(1&e&&(x.TgZ(0,"span",17),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.acceptedCount)}}function gn(e,t){if(1&e&&(x.TgZ(0,"span",17),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.revokedCount)}}function mn(e,t){1&e&&(x.ynx(0),x._uU(1,"\n    "),x._UZ(2,"i",18),x.ALo(3,"i18n"),x._uU(4,"\n    "),x.TgZ(5,"span",19),x._uU(6),x.ALo(7,"i18n"),x.qZA(),x._uU(8,"\n  "),x.BQk()),2&e&&(x.xp6(2),x.s9C("title",x.lcZ(3,2,"loading")),x.xp6(4),x.Oqu(x.lcZ(7,4,"loading")))}function hn(e,t){1&e&&(x.TgZ(0,"p"),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"noMembersInList")))}function Un(e,t){1&e&&(x.TgZ(0,"app-callout",38),x.ALo(1,"i18n"),x._uU(2),x.ALo(3,"i18n"),x.qZA()),2&e&&(x.s9C("title",x.lcZ(1,2,"confirmUsers")),x.xp6(2),x.hij("\n        ",x.lcZ(3,4,"usersNeedConfirmed"),"\n      "))}function fn(e,t){if(1&e){const e=x.EpF();x.ynx(0),x._uU(1,"\n                  "),x.TgZ(2,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw(3);return x.KtG(t.bulkEnableSM())})),x._uU(3),x.ALo(4,"i18n"),x.qZA(),x._uU(5,"\n                  "),x._UZ(6,"bit-menu-divider"),x._uU(7,"\n                "),x.BQk()}2&e&&(x.xp6(3),x.hij("\n                    ",x.lcZ(4,1,"activateSecretsManager"),"\n                  "))}function Zn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw(3);return x.KtG(t.bulkConfirm())})),x._uU(1,"\n                  "),x.TgZ(2,"span",39),x._uU(3,"\n                    "),x._UZ(4,"i",40),x._uU(5),x.ALo(6,"i18n"),x.qZA(),x._uU(7,"\n                "),x.qZA()}2&e&&(x.xp6(5),x.hij("\n                    ",x.lcZ(6,1,"confirmSelected"),"\n                  "))}function _n(e,t){1&e&&(x.TgZ(0,"span",59),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"invited")))}function bn(e,t){1&e&&(x.TgZ(0,"span",60),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"needsConfirmation")))}function wn(e,t){1&e&&(x.TgZ(0,"span",59),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"revoked")))}function vn(e,t){if(1&e&&(x.TgZ(0,"div",61),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.hij("\n                    ",e.email,"\n                  ")}}function An(e,t){if(1&e&&x._UZ(0,"bit-badge-list",62),2&e){const e=x.oxw().$implicit,t=x.oxw(4);x.Q6J("items",t.organization.useGroups?e.groupNames:e.collectionNames)("maxItems",3)}}function xn(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"i18n"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"all")))}function yn(e,t){1&e&&(x.ynx(0),x._uU(1,"\n                "),x._UZ(2,"i",63),x.ALo(3,"i18n"),x._uU(4,"\n                "),x.TgZ(5,"span",64),x._uU(6),x.ALo(7,"i18n"),x.qZA(),x._uU(8,"\n              "),x.BQk()),2&e&&(x.xp6(2),x.s9C("title",x.lcZ(3,2,"userUsingTwoStep")),x.xp6(4),x.Oqu(x.lcZ(7,4,"userUsingTwoStep")))}function Tn(e,t){1&e&&(x.ynx(0),x._uU(1,"\n                "),x._UZ(2,"i",65),x.ALo(3,"i18n"),x._uU(4,"\n                "),x.TgZ(5,"span",64),x._uU(6),x.ALo(7,"i18n"),x.qZA(),x._uU(8,"\n              "),x.BQk()),2&e&&(x.xp6(2),x.s9C("title",x.lcZ(3,2,"enrolledAccountRecovery")),x.xp6(4),x.Oqu(x.lcZ(7,4,"enrolledAccountRecovery")))}function Cn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.reinvite(t))})),x._uU(1,"\n                  "),x._UZ(2,"i",66),x._uU(3),x.ALo(4,"i18n"),x.qZA()}2&e&&(x.xp6(3),x.hij("\n                  ",x.lcZ(4,1,"resendInvitation"),"\n                "))}function qn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.confirm(t))})),x._uU(1,"\n                  "),x.TgZ(2,"span",39),x._uU(3,"\n                    "),x._UZ(4,"i",67),x._uU(5),x.ALo(6,"i18n"),x.qZA(),x._uU(7,"\n                "),x.qZA()}2&e&&(x.xp6(5),x.hij(" ",x.lcZ(6,1,"confirm"),"\n                  "))}function kn(e,t){1&e&&x._UZ(0,"bit-menu-divider")}function Sn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.edit(t,n.memberTab.Groups))})),x._uU(1,"\n                  "),x._UZ(2,"i",68),x._uU(3),x.ALo(4,"i18n"),x.qZA()}2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"groups"),"\n                "))}function In(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.events(t))})),x._uU(1,"\n                  "),x._UZ(2,"i",69),x._uU(3),x.ALo(4,"i18n"),x.qZA()}2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"eventLogs"),"\n                "))}function Pn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.resetPassword(t))})),x._uU(1,"\n                  "),x._UZ(2,"i",70),x._uU(3),x.ALo(4,"i18n"),x.qZA()}2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"recoverAccount"),"\n                "))}function Nn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.restore(t))})),x._uU(1,"\n                  "),x._UZ(2,"i",71),x._uU(3),x.ALo(4,"i18n"),x.qZA()}2&e&&(x.xp6(3),x.hij("\n                  ",x.lcZ(4,1,"restoreAccess"),"\n                "))}function Mn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw(4);return x.KtG(n.revoke(t))})),x._uU(1,"\n                  "),x._UZ(2,"i",72),x._uU(3),x.ALo(4,"i18n"),x.qZA()}2&e&&(x.xp6(3),x.hij("\n                  ",x.lcZ(4,1,"revokeAccess"),"\n                "))}function Ln(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"tr",42),x._uU(1,"\n            "),x.TgZ(2,"td",43),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.checkUser(t))})),x._uU(3,"\n              "),x.TgZ(4,"input",44),x.NdJ("ngModelChange",(function(t){const n=x.CHM(e).$implicit;return x.KtG(n.checked=t)})),x.qZA(),x._uU(5,"\n            "),x.qZA(),x._uU(6,"\n            "),x.TgZ(7,"td",45),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.edit(t))})),x._uU(8,"\n              "),x.TgZ(9,"div",46),x._uU(10,"\n                "),x._UZ(11,"bit-avatar",47),x.ALo(12,"userName"),x._uU(13,"\n                "),x.TgZ(14,"div",48),x._uU(15,"\n                  "),x.TgZ(16,"div"),x._uU(17,"\n                    "),x.TgZ(18,"button",49),x._uU(19),x.qZA(),x._uU(20,"\n                    "),x.YNc(21,_n,3,3,"span",50),x._uU(22,"\n                    "),x.YNc(23,bn,3,3,"span",51),x._uU(24,"\n                    "),x.YNc(25,wn,3,3,"span",50),x._uU(26,"\n                  "),x.qZA(),x._uU(27,"\n                  "),x.YNc(28,vn,2,1,"div",52),x._uU(29,"\n                "),x.qZA(),x._uU(30,"\n              "),x.qZA(),x._uU(31,"\n            "),x.qZA(),x._uU(32,"\n\n            "),x.TgZ(33,"td",45),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.edit(t,n.organization.useGroups?n.memberTab.Groups:n.memberTab.Collections))})),x._uU(34,"\n              "),x.YNc(35,An,1,2,"bit-badge-list",53),x._uU(36,"\n              "),x.YNc(37,xn,3,3,"span",9),x._uU(38,"\n            "),x.qZA(),x._uU(39,"\n\n            "),x.TgZ(40,"td",54),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.edit(t,n.memberTab.Role))})),x._uU(41),x.ALo(42,"userType"),x.qZA(),x._uU(43,"\n\n            "),x.TgZ(44,"td",55),x._uU(45,"\n              "),x.YNc(46,yn,9,6,"ng-container",9),x._uU(47,"\n              "),x.YNc(48,Tn,9,6,"ng-container",9),x._uU(49,"\n            "),x.qZA(),x._uU(50,"\n            "),x.TgZ(51,"td",26),x._uU(52,"\n              "),x._UZ(53,"button",28),x.ALo(54,"i18n"),x._uU(55,"\n\n              "),x.TgZ(56,"bit-menu",null,56),x._uU(58,"\n                "),x.YNc(59,Cn,5,3,"button",32),x._uU(60,"\n                "),x.YNc(61,qn,8,3,"button",32),x._uU(62,"\n                "),x.YNc(63,kn,1,0,"bit-menu-divider",9),x._uU(64,"\n                "),x.TgZ(65,"button",30),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.edit(t,n.memberTab.Role))})),x._uU(66,"\n                  "),x._UZ(67,"i",57),x._uU(68),x.ALo(69,"i18n"),x.qZA(),x._uU(70,"\n                "),x.YNc(71,Sn,5,3,"button",32),x._uU(72,"\n                "),x.TgZ(73,"button",30),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.edit(t,n.memberTab.Collections))})),x._uU(74,"\n                  "),x._UZ(75,"i",58),x._uU(76),x.ALo(77,"i18n"),x.qZA(),x._uU(78,"\n                "),x._UZ(79,"bit-menu-divider"),x._uU(80,"\n                "),x.YNc(81,In,5,3,"button",32),x._uU(82,"\n                "),x.YNc(83,Pn,5,3,"button",32),x._uU(84,"\n                "),x.YNc(85,Nn,5,3,"button",32),x._uU(86,"\n                "),x.YNc(87,Mn,5,3,"button",32),x._uU(88,"\n                "),x.TgZ(89,"button",30),x.NdJ("click",(function(){const t=x.CHM(e).$implicit,n=x.oxw(4);return x.KtG(n.remove(t))})),x._uU(90,"\n                  "),x.TgZ(91,"span",35),x._uU(92,"\n                    "),x._UZ(93,"i",36),x._uU(94),x.ALo(95,"i18n"),x.qZA(),x._uU(96,"\n                "),x.qZA(),x._uU(97,"\n              "),x.qZA(),x._uU(98,"\n            "),x.qZA(),x._uU(99,"\n          "),x.qZA()}if(2&e){const e=t.$implicit,n=x.MAs(57),i=x.oxw(4);let o;x.xp6(4),x.Q6J("ngModel",e.checked),x.xp6(7),x.Q6J("text",x.lcZ(12,27,e))("id",e.userId)("color",e.avatarColor),x.xp6(8),x.hij("\n                      ",null!==(o=e.name)&&void 0!==o?o:e.email,"\n                    "),x.xp6(2),x.Q6J("ngIf",e.status===i.userStatusType.Invited),x.xp6(2),x.Q6J("ngIf",e.status===i.userStatusType.Accepted),x.xp6(2),x.Q6J("ngIf",e.status===i.userStatusType.Revoked),x.xp6(3),x.Q6J("ngIf",e.name),x.xp6(7),x.Q6J("ngIf",i.organization.useGroups||!e.accessAll),x.xp6(2),x.Q6J("ngIf",!i.organization.useGroups&&e.accessAll),x.xp6(4),x.hij("\n              ",x.lcZ(42,29,e.type),"\n            "),x.xp6(5),x.Q6J("ngIf",e.twoFactorEnabled),x.xp6(2),x.Q6J("ngIf",i.showEnrolledStatus(e)),x.xp6(5),x.s9C("appA11yTitle",x.lcZ(54,31,"options")),x.Q6J("bitMenuTriggerFor",n),x.xp6(6),x.Q6J("ngIf",e.status===i.userStatusType.Invited),x.xp6(2),x.Q6J("ngIf",e.status===i.userStatusType.Accepted),x.xp6(2),x.Q6J("ngIf",e.status===i.userStatusType.Accepted||e.status===i.userStatusType.Invited),x.xp6(5),x.hij(" ",x.lcZ(69,33,"memberRole"),"\n                "),x.xp6(3),x.Q6J("ngIf",i.organization.useGroups),x.xp6(5),x.hij(" ",x.lcZ(77,35,"collections"),"\n                "),x.xp6(5),x.Q6J("ngIf",i.organization.useEvents&&e.status===i.userStatusType.Confirmed),x.xp6(2),x.Q6J("ngIf",i.allowResetPassword(e)),x.xp6(2),x.Q6J("ngIf",e.status===i.userStatusType.Revoked),x.xp6(2),x.Q6J("ngIf",e.status!==i.userStatusType.Revoked),x.xp6(7),x.hij(" ",x.lcZ(95,37,"remove"),"\n                  ")}}function Jn(e,t){if(1&e&&(x._uU(0,"\n          "),x.YNc(1,Ln,100,39,"tr",41),x._uU(2,"\n        ")),2&e){const e=x.oxw(2).ngIf;x.xp6(1),x.Q6J("ngForOf",e)}}function On(e,t){if(1&e){const e=x.EpF();x.ynx(0),x._uU(1,"\n      "),x.YNc(2,Un,4,6,"app-callout",20),x._uU(3,"\n      "),x.TgZ(4,"bit-table",21),x.NdJ("scrolled",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.loadMore())})),x._uU(5,"\n        "),x.ynx(6,22),x._uU(7,"\n          "),x.TgZ(8,"tr"),x._uU(9,"\n            "),x.TgZ(10,"th",23),x._uU(11,"\n              "),x.TgZ(12,"input",24),x.NdJ("change",(function(t){x.CHM(e);const n=x.oxw(2);return x.KtG(n.selectAll(t.target.checked))})),x.qZA(),x._uU(13,"\n              "),x.TgZ(14,"label",25),x._uU(15),x.ALo(16,"i18n"),x.qZA(),x._uU(17,"\n            "),x.qZA(),x._uU(18,"\n            "),x.TgZ(19,"th",26),x._uU(20),x.ALo(21,"i18n"),x.qZA(),x._uU(22,"\n            "),x.TgZ(23,"th",26),x._uU(24),x.ALo(25,"i18n"),x.qZA(),x._uU(26,"\n            "),x.TgZ(27,"th",26),x._uU(28),x.ALo(29,"i18n"),x.qZA(),x._uU(30,"\n            "),x.TgZ(31,"th",26),x._uU(32),x.ALo(33,"i18n"),x.qZA(),x._uU(34,"\n            "),x.TgZ(35,"th",27),x._uU(36,"\n              "),x._UZ(37,"button",28),x.ALo(38,"i18n"),x._uU(39,"\n\n              "),x.TgZ(40,"bit-menu",null,29),x._uU(42,"\n                "),x.YNc(43,fn,8,3,"ng-container",9),x.ALo(44,"async"),x._uU(45,"\n                "),x.TgZ(46,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.bulkReinvite())})),x._uU(47,"\n                  "),x._UZ(48,"i",31),x._uU(49),x.ALo(50,"i18n"),x.qZA(),x._uU(51,"\n                "),x.YNc(52,Zn,8,3,"button",32),x._uU(53,"\n                "),x.TgZ(54,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.bulkRestore())})),x._uU(55,"\n                  "),x._UZ(56,"i",33),x._uU(57),x.ALo(58,"i18n"),x.qZA(),x._uU(59,"\n                "),x.TgZ(60,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.bulkRevoke())})),x._uU(61,"\n                  "),x._UZ(62,"i",34),x._uU(63),x.ALo(64,"i18n"),x.qZA(),x._uU(65,"\n                "),x.TgZ(66,"button",30),x.NdJ("click",(function(){x.CHM(e);const t=x.oxw(2);return x.KtG(t.bulkRemove())})),x._uU(67,"\n                  "),x.TgZ(68,"span",35),x._uU(69,"\n                    "),x._UZ(70,"i",36),x._uU(71),x.ALo(72,"i18n"),x.qZA(),x._uU(73,"\n                "),x.qZA(),x._uU(74,"\n              "),x.qZA(),x._uU(75,"\n            "),x.qZA(),x._uU(76,"\n          "),x.qZA(),x._uU(77,"\n        "),x.BQk(),x._uU(78,"\n        "),x.YNc(79,Jn,3,1,"ng-template",37),x._uU(80,"\n      "),x.qZA(),x._uU(81,"\n    "),x.BQk()}if(2&e){const e=x.MAs(41),t=x.oxw(2);x.xp6(2),x.Q6J("ngIf",t.showConfirmUsers),x.xp6(2),x.Q6J("infiniteScrollDistance",1)("infiniteScrollDisabled",!t.isPaging()),x.xp6(11),x.Oqu(x.lcZ(16,16,"all")),x.xp6(5),x.Oqu(x.lcZ(21,18,"name")),x.xp6(4),x.Oqu(x.lcZ(25,20,t.organization.useGroups?"groups":"collections")),x.xp6(4),x.Oqu(x.lcZ(29,22,"role")),x.xp6(4),x.Oqu(x.lcZ(33,24,"policies")),x.xp6(5),x.s9C("appA11yTitle",x.lcZ(38,26,"options")),x.Q6J("bitMenuTriggerFor",e),x.xp6(6),x.Q6J("ngIf",x.lcZ(44,28,t.canUseSecretsManager$)),x.xp6(6),x.hij("\n                  ",x.lcZ(50,30,"reinviteSelected"),"\n                "),x.xp6(3),x.Q6J("ngIf",t.showBulkConfirmUsers),x.xp6(5),x.hij("\n                  ",x.lcZ(58,32,"restoreAccess"),"\n                "),x.xp6(6),x.hij("\n                  ",x.lcZ(64,34,"revokeAccess"),"\n                "),x.xp6(8),x.hij("\n                    ",x.lcZ(72,36,"remove"),"\n                  ")}}function zn(e,t){if(1&e&&(x.ynx(0),x._uU(1,"\n    "),x.YNc(2,hn,3,3,"p",9),x._uU(3,"\n    "),x.YNc(4,On,82,38,"ng-container",9),x._uU(5,"\n  "),x.BQk()),2&e){const e=t.ngIf;x.xp6(2),x.Q6J("ngIf",!e.length),x.xp6(2),x.Q6J("ngIf",e.length)}}function Rn(e,t){}function Gn(e,t){}function Qn(e,t){}function Yn(e,t){}function jn(e,t){}function En(e,t){}function Dn(e,t){}const Bn=function(e,t){return[e,t,"name","email","id"]};class Fn extends Me.b{constructor(e,t,n,i,o,s,r,c,l,u,d,p,g,m,U,f,Z,_,b,w,v,A){super(e,r,n,o,s,c,i,d,p,g,U,b),this.route=t,this.policyService=l,this.policyApiService=u,this.syncService=m,this.organizationService=f,this.organizationApiService=Z,this.organizationUserService=_,this.router=w,this.groupService=v,this.collectionService=A,this.userType=h.je,this.userStatusType=h.Dn,this.memberTab=W,this.status=null,this.orgResetPasswordPolicyEnabled=!1,this.destroy$=new a.x}ngOnInit(){return nn(this,void 0,void 0,(function*(){const e=this.route.params.pipe((0,we.U)((e=>this.organizationService.get(e.organizationId))),(0,l.d)({refCount:!0,bufferSize:1}));this.canUseSecretsManager$=e.pipe((0,we.U)((e=>e.useSecretsManager&&(0,f.Sp)("secretsManager"))));const t=e.pipe((0,u.w)((e=>e.isProviderUser?(0,ve.D)(this.policyApiService.getPolicies(e.id)).pipe((0,we.U)((e=>this.policyService.mapPoliciesFromToken(e)))):this.policyService.policies$)));(0,d.a)([this.route.queryParams,t,e]).pipe((0,Ae.b)((([e,t,n])=>nn(this,void 0,void 0,(function*(){if(this.organization=n,this.organization.canManageUsersPassword&&!this.organization.hasPublicAndPrivateKeys){const e=yield this.cryptoService.getOrgKey(this.organization.id),t=yield this.cryptoService.makeKeyPair(e),n=new Se.u(t[0],t[1].encryptedString),i=yield this.organizationApiService.updateKeys(this.organization.id,n);if(null==i)throw new Error(this.i18nService.t("resetPasswordOrgKeysError"));this.organization.hasPublicAndPrivateKeys=null!=i.publicKey&&null!=i.privateKey,yield this.syncService.fullSync(!0)}const i=t.filter((e=>e.type===h.Mi.ResetPassword)).find((e=>e.organizationId===this.organization.id));if(this.orgResetPasswordPolicyEnabled=null==i?void 0:i.enabled,yield this.load(),this.searchText=e.search,null!=e.viewEvents){const t=this.users.filter((t=>t.id===e.viewEvents));t.length>0&&t[0].status===h.Dn.Confirmed&&this.events(t[0])}})))),(0,p.R)(this.destroy$)).subscribe()}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}load(){const e=Object.create(null,{load:{get:()=>super.load}});return nn(this,void 0,void 0,(function*(){yield e.load.call(this)}))}getUsers(){var e;return nn(this,void 0,void 0,(function*(){let t,n;const i=this.organizationUserService.getAllUsers(this.organization.id,{includeGroups:this.organization.useGroups,includeCollections:!this.organization.useGroups});this.organization.useGroups?t=this.getGroupNameMap():n=this.getCollectionNameMap();const[o,s,r]=yield Promise.all([i,t,n]);return null===(e=o.data)||void 0===e?void 0:e.map((e=>{var t,n;const i=Je.fromResponse(e);return i.groupNames=i.groups.map((e=>s.get(e))).sort(null===(t=this.i18nService.collator)||void 0===t?void 0:t.compare),i.collectionNames=i.collections.map((e=>r.get(e.id))).sort(null===(n=this.i18nService.collator)||void 0===n?void 0:n.compare),i}))}))}getGroupNameMap(){return nn(this,void 0,void 0,(function*(){const e=yield this.groupService.getAll(this.organization.id),t=new Map;return e.forEach((e=>t.set(e.id,e.name))),t}))}getCollectionNameMap(){return nn(this,void 0,void 0,(function*(){const e=new Map,t=(yield this.apiService.getCollections(this.organization.id)).data.map((e=>new Pe.F(new Ie.Z(e))));return(yield this.collectionService.decryptMany(t)).forEach((t=>e.set(t.id,t.name))),e}))}deleteUser(e){return this.organizationUserService.deleteOrganizationUser(this.organization.id,e)}revokeUser(e){return this.organizationUserService.revokeOrganizationUser(this.organization.id,e)}restoreUser(e){return this.organizationUserService.restoreOrganizationUser(this.organization.id,e)}reinviteUser(e){return this.organizationUserService.postOrganizationUserReinvite(this.organization.id,e)}confirmUser(e,t){return nn(this,void 0,void 0,(function*(){const n=yield this.cryptoService.getOrgKey(this.organization.id),i=yield this.cryptoService.rsaEncrypt(n.key,t.buffer),o=new ke;o.key=i.encryptedString,yield this.organizationUserService.postOrganizationUserConfirm(this.organization.id,e.id,o)}))}allowResetPassword(e){let t=!1;switch(this.organization.type){case h.je.Owner:t=!0;break;case h.je.Admin:t=e.type!==h.je.Owner;break;case h.je.Custom:t=e.type!==h.je.Owner&&e.type!==h.je.Admin}return this.organization.canManageUsersPassword&&t&&this.organization.useResetPassword&&this.organization.hasPublicAndPrivateKeys&&e.resetPasswordEnrolled&&this.orgResetPasswordPolicyEnabled&&e.status===h.Dn.Confirmed}showEnrolledStatus(e){return this.organization.useResetPassword&&e.resetPasswordEnrolled&&this.orgResetPasswordPolicyEnabled}showFreeOrgUpgradeDialog(){return nn(this,void 0,void 0,(function*(){const e={title:this.i18nService.t("upgradeOrganization"),content:this.i18nService.t(this.organization.canEditSubscription?"freeOrgInvLimitReachedManageBilling":"freeOrgInvLimitReachedNoManageBilling",this.organization.seats),type:g.rC.PRIMARY};this.organization.canEditSubscription?e.acceptButtonText=this.i18nService.t("upgrade"):(e.acceptButtonText=this.i18nService.t("ok"),e.cancelButtonText=null);const t=this.dialogService.openSimpleDialogRef(e);(0,xe.z)(t.closed).then((e=>{e&&e==g.mr.ACCEPT&&this.organization.canEditSubscription&&this.router.navigate(["/organizations",this.organization.id,"billing","subscription"],{queryParams:{upgrade:!0}})}))}))}edit(e,t=W.Role){var n,i;return nn(this,void 0,void 0,(function*(){if(!e&&this.organization.planProductType===v.kv.Free&&this.allUsers.length===this.organization.seats)return void(yield this.showFreeOrgUpgradeDialog());const o=(s=this.dialogService,r={data:{name:this.userNamePipe.transform(e),organizationId:this.organization.id,organizationUserId:null!=e?e.id:null,allOrganizationUserEmails:null!==(i=null===(n=this.allUsers)||void 0===n?void 0:n.map((e=>e.email)))&&void 0!==i?i:[],usesKeyConnector:null==e?void 0:e.usesKeyConnector,initialTab:t}},s.open(he,r));var s,r;switch(yield(0,ye.n)(o.closed)){case V.Deleted:this.removeUser(e);break;case V.Saved:case V.Revoked:case V.Restored:this.load()}}))}bulkRemove(){return nn(this,void 0,void 0,(function*(){if(null!=this.actionPromise)return;const[e]=yield this.modalService.openViewRef(He.I,this.bulkRemoveModalRef,(e=>{e.organizationId=this.organization.id,e.users=this.getCheckedUsers()}));yield e.onClosedPromise(),yield this.load()}))}bulkRevoke(){return nn(this,void 0,void 0,(function*(){yield this.bulkRevokeOrRestore(!0)}))}bulkRestore(){return nn(this,void 0,void 0,(function*(){yield this.bulkRevokeOrRestore(!1)}))}bulkRevokeOrRestore(e){return nn(this,void 0,void 0,(function*(){if(null!=this.actionPromise)return;const t=this.modalService.open(Ut,{allowMultipleModals:!0,data:{organizationId:this.organization.id,users:this.getCheckedUsers(),isRevoking:e}});yield t.onClosedPromise(),yield this.load()}))}bulkReinvite(){return nn(this,void 0,void 0,(function*(){if(null!=this.actionPromise)return;const e=this.getCheckedUsers(),t=e.filter((e=>e.status===h.Dn.Invited));if(t.length<=0)this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("noSelectedUsersApplicable"));else{try{const n=this.organizationUserService.postManyOrganizationUserReinvite(this.organization.id,t.map((e=>e.id)));this.showBulkStatus(e,t,n,this.i18nService.t("bulkReinviteMessage"))}catch(n){this.validationService.showError(n)}this.actionPromise=null}}))}bulkConfirm(){return nn(this,void 0,void 0,(function*(){if(null!=this.actionPromise)return;const[e]=yield this.modalService.openViewRef(Oe.$,this.bulkConfirmModalRef,(e=>{e.organizationId=this.organization.id,e.users=this.getCheckedUsers()}));yield e.onClosedPromise(),yield this.load()}))}bulkEnableSM(){return nn(this,void 0,void 0,(function*(){const e=this.getCheckedUsers();if(0===e.length)return void this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("noSelectedUsersApplicable"));const t=Ke.open(this.dialogService,{orgId:this.organization.id,users:e});yield(0,ye.n)(t.closed),this.selectAll(!1)}))}events(e){return nn(this,void 0,void 0,(function*(){yield(0,Ne.Z)(this.dialogService,{data:{name:this.userNamePipe.transform(e),organizationId:this.organization.id,entityId:e.id,showUser:!1,entity:"user"}})}))}resetPassword(e){return nn(this,void 0,void 0,(function*(){const[t]=yield this.modalService.openViewRef(Lt,this.resetPasswordModalRef,(n=>{n.name=this.userNamePipe.transform(e),n.email=null!=e?e.email:null,n.organizationId=this.organization.id,n.id=null!=e?e.id:null,n.onPasswordReset.subscribe((()=>{t.close(),this.load()}))}))}))}removeUserConfirmationDialog(e){return nn(this,void 0,void 0,(function*(){const t=e.usesKeyConnector?"removeUserConfirmationKeyConnector":"removeOrgUserConfirmation";return!!(yield this.dialogService.openSimpleDialog({title:{key:"removeUserIdAccess",placeholders:[this.userNamePipe.transform(e)]},content:{key:t},type:g.rC.WARNING}))&&(!(e.status>h.Dn.Invited&&!1===e.hasMasterPassword)||(yield this.noMasterPasswordConfirmationDialog(e)))}))}revokeUserConfirmationDialog(e){return nn(this,void 0,void 0,(function*(){return!!(yield this.dialogService.openSimpleDialog({title:{key:"revokeAccess",placeholders:[this.userNamePipe.transform(e)]},content:this.revokeWarningMessage(),acceptButtonText:{key:"revokeAccess"},type:g.rC.WARNING}))&&(!(e.status>h.Dn.Invited&&!1===e.hasMasterPassword)||(yield this.noMasterPasswordConfirmationDialog(e)))}))}showBulkStatus(e,t,n,i){return nn(this,void 0,void 0,(function*(){const[o,s]=yield this.modalService.openViewRef(ft.C,this.bulkStatusModalRef,(e=>{e.loading=!0}));let r=!1;o.onShown.subscribe((()=>{r&&o.close()}));try{const r=yield n;if(o){const n=r.data.filter((e=>""!==e.error)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t.error})),{}),o=t.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t})),{});s.users=e.map((e=>{var t;let s=null!==(t=n[e.id])&&void 0!==t?t:i;return o.hasOwnProperty(e.id)||(s=this.i18nService.t("bulkFilteredMessage")),{user:e,error:n.hasOwnProperty(e.id),message:s}})),s.loading=!1}}catch(a){r=!0,o.close()}}))}noMasterPasswordConfirmationDialog(e){return nn(this,void 0,void 0,(function*(){return this.dialogService.openSimpleDialog({title:{key:"removeOrgUserNoMasterPasswordTitle"},content:{key:"removeOrgUserNoMasterPasswordDesc",placeholders:[this.userNamePipe.transform(e)]},type:g.rC.WARNING})}))}}Fn.ɵfac=function(e){return new(e||Fn)(x.Y36(Jt.s),x.Y36(_e.gz),x.Y36(y.D),x.Y36(qe.Z),x.Y36(T.P),x.Y36(yt.$),x.Y36(Ot.o),x.Y36(zt.R),x.Y36(xt.d),x.Y36(Rt.P),x.Y36(Tt.$),x.Y36(Te.C),x.Y36(Ce.z),x.Y36(Gt._),x.Y36(Qt.b),x.Y36(m.Mn),x.Y36(Yt.M),x.Y36(C.t),x.Y36(g.eo),x.Y36(_e.F0),x.Y36(_.lT),x.Y36(jt.a))},Fn.ɵcmp=x.Xpm({type:Fn,selectors:[["app-org-people"]],viewQuery:function(e,t){if(1&e&&(x.Gf(on,7,x.s_b),x.Gf(sn,7,x.s_b),x.Gf(rn,7,x.s_b),x.Gf(an,7,x.s_b),x.Gf(cn,7,x.s_b),x.Gf(ln,7,x.s_b)),2&e){let e;x.iGM(e=x.CRH())&&(t.groupsModalRef=e.first),x.iGM(e=x.CRH())&&(t.confirmModalRef=e.first),x.iGM(e=x.CRH())&&(t.resetPasswordModalRef=e.first),x.iGM(e=x.CRH())&&(t.bulkStatusModalRef=e.first),x.iGM(e=x.CRH())&&(t.bulkConfirmModalRef=e.first),x.iGM(e=x.CRH())&&(t.bulkRemoveModalRef=e.first)}},features:[x.qOj],decls:76,vars:45,consts:[[1,"container","page-content"],[1,"tw-mb-4","tw-flex","tw-flex-col","tw-space-y-4"],[1,"tw-flex","tw-items-center","tw-justify-end","tw-space-x-3"],[3,"selected","selectedChange"],[3,"value"],["bitBadge","","badgeType","info",4,"ngIf"],[1,"tw-grow",3,"ngModel","placeholder","ngModelChange"],["type","button","bitButton","","buttonType","primary",3,"click"],["aria-hidden","true",1,"bwi","bwi-plus","bwi-fw"],[4,"ngIf"],["addEdit",""],["groupsTemplate",""],["confirmTemplate",""],["resetPasswordTemplate",""],["bulkStatusTemplate",""],["bulkConfirmTemplate",""],["bulkRemoveTemplate",""],["bitBadge","","badgeType","info"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],["type","info","icon","bwi bwi-check-circle",3,"title",4,"ngIf"],["infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollDisabled","scrolled"],["header",""],["bitCell","",1,"tw-w-20"],["type","checkbox","bitCheckbox","","id","selectAll",1,"tw-mr-1",3,"change"],["for","selectAll",1,"tw-mb-0","!tw-font-bold","!tw-text-muted"],["bitCell",""],["bitCell","",1,"tw-w-10"],["type","button","bitIconButton","bwi-ellipsis-v","size","small",3,"bitMenuTriggerFor","appA11yTitle"],["headerMenu",""],["type","button","bitMenuItem","",3,"click"],["aria-hidden","true",1,"bwi","bwi-fw","bwi-envelope"],["type","button","bitMenuItem","",3,"click",4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-fw","bwi-plus-circle"],["aria-hidden","true",1,"bwi","bwi-fw","bwi-minus-circle"],[1,"tw-text-danger"],["aria-hidden","true",1,"bwi","bwi-close"],["body",""],["type","info","icon","bwi bwi-check-circle",3,"title"],[1,"tw-text-success"],["aria-hidden","true",1,"bwi","bwi-fw","bwi-check"],["bitRow","","alignContent","middle",4,"ngFor","ngForOf"],["bitRow","","alignContent","middle"],["bitCell","",3,"click"],["type","checkbox","bitCheckbox","",3,"ngModel","ngModelChange"],["bitCell","",1,"tw-cursor-pointer",3,"click"],[1,"tw-flex","tw-items-center"],["size","small",1,"tw-mr-3",3,"text","id","color"],[1,"tw-flex","tw-flex-col"],["type","button","bitLink",""],["bitBadge","","class","tw-text-xs","badgeType","secondary",4,"ngIf"],["bitBadge","","class","tw-text-xs","badgeType","warning",4,"ngIf"],["class","tw-text-sm tw-text-muted",4,"ngIf"],["badgeType","secondary",3,"items","maxItems",4,"ngIf"],["bitCell","",1,"tw-cursor-pointer","tw-text-sm","tw-text-muted",3,"click"],["bitCell","",1,"tw-text-muted"],["rowMenu",""],["aria-hidden","true",1,"bwi","bwi-user"],["aria-hidden","true",1,"bwi","bwi-collection"],["bitBadge","","badgeType","secondary",1,"tw-text-xs"],["bitBadge","","badgeType","warning",1,"tw-text-xs"],[1,"tw-text-sm","tw-text-muted"],["badgeType","secondary",3,"items","maxItems"],["aria-hidden","true",1,"bwi","bwi-lock",3,"title"],[1,"tw-sr-only"],["aria-hidden","true",1,"bwi","bwi-key",3,"title"],["aria-hidden","true",1,"bwi","bwi-envelope"],["aria-hidden","true",1,"bwi","bwi-check"],["aria-hidden","true",1,"bwi","bwi-users"],["aria-hidden","true",1,"bwi","bwi-file-text"],["aria-hidden","true",1,"bwi","bwi-key"],["aria-hidden","true",1,"bwi","bwi-plus-circle"],["aria-hidden","true",1,"bwi","bwi-minus-circle"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x._uU(1,"\n  "),x.TgZ(2,"div",1),x._uU(3,"\n    "),x.TgZ(4,"h1"),x._uU(5),x.ALo(6,"i18n"),x.qZA(),x._uU(7,"\n    "),x.TgZ(8,"div",2),x._uU(9,"\n      "),x.TgZ(10,"bit-toggle-group",3),x.NdJ("selectedChange",(function(e){return t.filter(e)})),x.ALo(11,"i18n"),x._uU(12,"\n        "),x.TgZ(13,"bit-toggle",4),x._uU(14),x.ALo(15,"i18n"),x.YNc(16,un,2,1,"span",5),x._uU(17,"\n        "),x.qZA(),x._uU(18,"\n\n        "),x.TgZ(19,"bit-toggle",4),x._uU(20),x.ALo(21,"i18n"),x.YNc(22,dn,2,1,"span",5),x._uU(23,"\n        "),x.qZA(),x._uU(24,"\n\n        "),x.TgZ(25,"bit-toggle",4),x._uU(26),x.ALo(27,"i18n"),x.YNc(28,pn,2,1,"span",5),x._uU(29,"\n        "),x.qZA(),x._uU(30,"\n\n        "),x.TgZ(31,"bit-toggle",4),x._uU(32),x.ALo(33,"i18n"),x.YNc(34,gn,2,1,"span",5),x._uU(35,"\n        "),x.qZA(),x._uU(36,"\n      "),x.qZA(),x._uU(37,"\n\n      "),x.TgZ(38,"bit-search",6),x.NdJ("ngModelChange",(function(e){return t.searchText=e})),x.ALo(39,"i18n"),x.qZA(),x._uU(40,"\n\n      "),x.TgZ(41,"button",7),x.NdJ("click",(function(){return t.invite()})),x._uU(42,"\n        "),x._UZ(43,"i",8),x._uU(44),x.ALo(45,"i18n"),x.qZA(),x._uU(46,"\n    "),x.qZA(),x._uU(47,"\n  "),x.qZA(),x._uU(48,"\n  "),x.YNc(49,mn,9,6,"ng-container",9),x._uU(50,"\n  "),x.YNc(51,zn,6,2,"ng-container",9),x.ALo(52,"search"),x._uU(53,"\n  "),x.YNc(54,Rn,0,0,"ng-template",null,10,x.W1O),x._uU(56,"\n  "),x.YNc(57,Gn,0,0,"ng-template",null,11,x.W1O),x._uU(59,"\n  "),x.YNc(60,Qn,0,0,"ng-template",null,12,x.W1O),x._uU(62,"\n  "),x.YNc(63,Yn,0,0,"ng-template",null,13,x.W1O),x._uU(65,"\n  "),x.YNc(66,jn,0,0,"ng-template",null,14,x.W1O),x._uU(68,"\n  "),x.YNc(69,En,0,0,"ng-template",null,15,x.W1O),x._uU(71,"\n  "),x.YNc(72,Dn,0,0,"ng-template",null,16,x.W1O),x._uU(74,"\n"),x.qZA(),x._uU(75,"\n")),2&e&&(x.xp6(5),x.Oqu(x.lcZ(6,20,"members")),x.xp6(5),x.Q6J("selected",t.status),x.uIk("aria-label",x.lcZ(11,22,"memberStatusFilter")),x.xp6(3),x.Q6J("value",null),x.xp6(1),x.hij("\n          ",x.lcZ(15,24,"all")," "),x.xp6(2),x.Q6J("ngIf",t.allCount),x.xp6(3),x.Q6J("value",t.userStatusType.Invited),x.xp6(1),x.hij("\n          ",x.lcZ(21,26,"invited"),"\n          "),x.xp6(2),x.Q6J("ngIf",t.invitedCount),x.xp6(3),x.Q6J("value",t.userStatusType.Accepted),x.xp6(1),x.hij("\n          ",x.lcZ(27,28,"needsConfirmation"),"\n          "),x.xp6(2),x.Q6J("ngIf",t.acceptedCount),x.xp6(3),x.Q6J("value",t.userStatusType.Revoked),x.xp6(1),x.hij("\n          ",x.lcZ(33,30,"revoked"),"\n          "),x.xp6(2),x.Q6J("ngIf",t.revokedCount),x.xp6(4),x.Q6J("ngModel",t.searchText)("placeholder",x.lcZ(39,32,"searchMembers")),x.xp6(6),x.hij("\n        ",x.lcZ(45,34,"inviteMember"),"\n      "),x.xp6(5),x.Q6J("ngIf",t.loading),x.xp6(2),x.Q6J("ngIf",!t.loading&&(t.isPaging()?t.pagedUsers:x.G7q(52,36,x.WLB(42,Bn,t.users,t.searchText)))))},dependencies:[q.sg,q.O5,r.Wl,r.JJ,r.On,Et.Ry,k.B,We.O,Re.A,Dt.b,N.l,M.r,L.b,Y.Q,Bt._,Ft.M,$t.t,Kt.e,Ht.n,Qe.a,Ye.Y,je.v,Qe.f,Vt,en,tn.g,q.Ov,F.C,Te.C,Ce.z,Ee.t],encapsulation:2});const $n=[{path:"",component:Fn,canActivate:[be.G],data:{titleId:"members",organizationPermissions:m.tt}}];class Kn{}Kn.ɵfac=function(e){return new(e||Kn)},Kn.ɵmod=x.oAB({type:Kn}),Kn.ɵinj=x.cJS({imports:[_e.Bz.forChild($n),_e.Bz]});class Hn{}Hn.ɵfac=function(e){return new(e||Hn)},Hn.ɵmod=x.oAB({type:Hn}),Hn.ɵinj=x.cJS({imports:[o.P,i.f,Kn,Ze]})},94239:(e,t,n)=>{n.d(t,{g:()=>c});var i=n(98645),o=n(24852),s=n(11512),r=n(49399);let a=0;class c{constructor(){this.id="search-id-"+a++}onChange(e){null!=this.notifyOnChange&&this.notifyOnChange(e)}onTouch(){null!=this.notifyOnTouch&&this.notifyOnTouch()}registerOnChange(e){this.notifyOnChange=e}registerOnTouched(e){this.notifyOnTouch=e}writeValue(e){this.searchText=e}setDisabledState(e){this.disabled=e}}c.ɵfac=function(e){return new(e||c)},c.ɵcmp=o.Xpm({type:c,selectors:[["bit-search"]],inputs:{disabled:"disabled",placeholder:"placeholder"},features:[o._Bn([{provide:i.JU,multi:!0,useExisting:c}])],decls:15,vars:11,consts:[[1,"tw-sr-only",3,"for"],[1,"tw-relative","tw-flex","tw-items-center"],["aria-hidden","true",1,"tw-absolute","tw-left-2","tw-z-20","!tw-mb-0","tw-cursor-text",3,"for"],[1,"bwi","bwi-search","bwi-fw","tw-text-muted"],["bitInput","","type","search",1,"tw-rounded-l","tw-pl-9",3,"id","placeholder","ngModel","disabled","ngModelChange","blur"]],template:function(e,t){if(1&e&&(o.TgZ(0,"label",0),o._uU(1),o.ALo(2,"i18n"),o.qZA(),o._uU(3,"\n"),o.TgZ(4,"div",1),o._uU(5,"\n  "),o.TgZ(6,"label",2),o._uU(7,"\n    "),o._UZ(8,"i",3),o._uU(9,"\n  "),o.qZA(),o._uU(10,"\n  "),o.TgZ(11,"input",4),o.NdJ("ngModelChange",(function(e){return t.onChange(e)}))("blur",(function(){return t.onTouch()})),o.ALo(12,"i18n"),o.qZA(),o._uU(13,"\n"),o.qZA(),o._uU(14,"\n")),2&e){let e;o.Q6J("for",t.id),o.xp6(1),o.Oqu(o.lcZ(2,7,"search")),o.xp6(5),o.Q6J("for",t.id),o.xp6(5),o.Q6J("id",t.id)("placeholder",null!==(e=t.placeholder)&&void 0!==e?e:o.lcZ(12,9,"search"))("ngModel",t.searchText)("disabled",t.disabled)}},dependencies:[s.G,i.Fj,i.JJ,i.On,r.C],encapsulation:2})}}]);
//# sourceMappingURL=651.fb8200eb573eae6642e6.js.map