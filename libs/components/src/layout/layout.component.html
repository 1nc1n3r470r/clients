<ng-container *ngIf="{ open: sidebarService.open$ | async } as data">
  <div class="tw-group tw-flex tw-w-full" [ngClass]="data.open ? 'sidebar-open' : 'sidebar-closed'">
    <aside
      class="tw-fixed tw-inset-y-0 tw-left-0 tw-z-20 tw-flex tw-h-screen tw-flex-col tw-overflow-auto tw-bg-background-alt3 tw-pt-7 group-[.sidebar-open]:tw-w-60 md:tw-sticky"
    >
      <ng-content select="[slot=sidebar]"></ng-content>
      <bit-nav-item
        class="tw-mt-auto"
        [icon]="data.open ? 'bwi-angle-left' : 'bwi-angle-right'"
        (mainContentClicked)="sidebarService.toggle()"
      ></bit-nav-item>
    </aside>
    <main
      class="tw-ml-14 tw-h-screen tw-min-w-0 tw-flex-1 tw-overflow-auto tw-bg-background tw-p-6 md:tw-ml-0"
    >
      <ng-content></ng-content>
      <div
        class="tw-pointer-events-none tw-fixed tw-inset-0 tw-z-10 tw-bg-black tw-bg-opacity-0 motion-safe:tw-transition-colors md:tw-hidden"
        [ngClass]="[data.open ? 'tw-bg-opacity-30 md:tw-bg-opacity-0' : 'tw-bg-opacity-0']"
      >
        <div
          *ngIf="data.open"
          (click)="sidebarService.toggle()"
          class="tw-pointer-events-auto tw-h-full tw-w-full"
        ></div>
      </div>
    </main>
  </div>
</ng-container>
