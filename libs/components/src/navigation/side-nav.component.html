<ng-container *ngIf="{ expanded: expanded$ | async } as data">
  <nav
    class="tw-fixed tw-z-20 tw-flex tw-max-h-screen tw-min-h-screen tw-flex-col tw-overflow-auto tw-bg-background-alt3"
  >
    <ng-content></ng-content>
    <bit-nav-item
      class="tw-mt-auto"
      [icon]="data.expanded ? 'bwi-angle-left' : 'bwi-angle-right'"
      (mainContentClicked)="sideNavService.toggleExpanded()"
    ></bit-nav-item>
    <div
      *ngIf="!data.expanded"
      class="tw-absolute tw-h-full tw-w-full tw-cursor-pointer"
      (click)="sideNavService.toggleExpanded()"
    ></div>
  </nav>
  <div
    class="tw-pointer-events-none tw-fixed tw-inset-0 tw-z-10 tw-bg-black tw-bg-opacity-30 motion-safe:tw-transition-colors md:tw-hidden"
    [ngClass]="[data.expanded ? 'tw-bg-opacity-30 md:tw-bg-opacity-0' : 'tw-bg-opacity-0']"
  >
    <div
      *ngIf="data.expanded"
      (click)="sideNavService.setExpanded(false)"
      class="tw-pointer-events-auto tw-h-full tw-w-full"
    ></div>
  </div>
</ng-container>
